var Yy=t=>{throw TypeError(t)};var xh=(t,e,n)=>e.has(t)||Yy("Cannot "+n);var U=(t,e,n)=>(xh(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>e.has(t)?Yy("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ce=(t,e,n,r)=>(xh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),wt=(t,e,n)=>(xh(t,e,"access private method"),n);var vu=(t,e,n,r)=>({set _(s){ce(t,e,s,n)},get _(){return U(t,e,r)}});function HI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function c_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d_={exports:{}},fd={},h_={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dl=Symbol.for("react.element"),QI=Symbol.for("react.portal"),KI=Symbol.for("react.fragment"),GI=Symbol.for("react.strict_mode"),YI=Symbol.for("react.profiler"),XI=Symbol.for("react.provider"),JI=Symbol.for("react.context"),ZI=Symbol.for("react.forward_ref"),eC=Symbol.for("react.suspense"),tC=Symbol.for("react.memo"),nC=Symbol.for("react.lazy"),Xy=Symbol.iterator;function rC(t){return t===null||typeof t!="object"?null:(t=Xy&&t[Xy]||t["@@iterator"],typeof t=="function"?t:null)}var f_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p_=Object.assign,m_={};function jo(t,e,n){this.props=t,this.context=e,this.refs=m_,this.updater=n||f_}jo.prototype.isReactComponent={};jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function g_(){}g_.prototype=jo.prototype;function Yp(t,e,n){this.props=t,this.context=e,this.refs=m_,this.updater=n||f_}var Xp=Yp.prototype=new g_;Xp.constructor=Yp;p_(Xp,jo.prototype);Xp.isPureReactComponent=!0;var Jy=Array.isArray,y_=Object.prototype.hasOwnProperty,Jp={current:null},v_={key:!0,ref:!0,__self:!0,__source:!0};function w_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)y_.call(e,r)&&!v_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Dl,type:t,key:i,ref:o,props:s,_owner:Jp.current}}function sC(t,e){return{$$typeof:Dl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dl}function iC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zy=/\/+/g;function Th(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iC(""+t.key):e.toString(36)}function Yu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Dl:case QI:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Th(o,0):r,Jy(s)?(n="",t!=null&&(n=t.replace(Zy,"$&/")+"/"),Yu(s,e,n,"",function(c){return c})):s!=null&&(Zp(s)&&(s=sC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Zy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Jy(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+Th(i,a);o+=Yu(i,e,n,u,s)}else if(u=rC(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+Th(i,a++),o+=Yu(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wu(t,e,n){if(t==null)return t;var r=[],s=0;return Yu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function oC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jt={current:null},Xu={transition:null},aC={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Xu,ReactCurrentOwner:Jp};function __(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:wu,forEach:function(t,e,n){wu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wu(t,function(){e++}),e},toArray:function(t){return wu(t,function(e){return e})||[]},only:function(t){if(!Zp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=jo;de.Fragment=KI;de.Profiler=YI;de.PureComponent=Yp;de.StrictMode=GI;de.Suspense=eC;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aC;de.act=__;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=p_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Jp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)y_.call(e,u)&&!v_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Dl,type:t.type,key:s,ref:i,props:r,_owner:o}};de.createContext=function(t){return t={$$typeof:JI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XI,_context:t},t.Consumer=t};de.createElement=w_;de.createFactory=function(t){var e=w_.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:ZI,render:t}};de.isValidElement=Zp;de.lazy=function(t){return{$$typeof:nC,_payload:{_status:-1,_result:t},_init:oC}};de.memo=function(t,e){return{$$typeof:tC,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=Xu.transition;Xu.transition={};try{t()}finally{Xu.transition=e}};de.unstable_act=__;de.useCallback=function(t,e){return jt.current.useCallback(t,e)};de.useContext=function(t){return jt.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return jt.current.useDeferredValue(t)};de.useEffect=function(t,e){return jt.current.useEffect(t,e)};de.useId=function(){return jt.current.useId()};de.useImperativeHandle=function(t,e,n){return jt.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return jt.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return jt.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return jt.current.useMemo(t,e)};de.useReducer=function(t,e,n){return jt.current.useReducer(t,e,n)};de.useRef=function(t){return jt.current.useRef(t)};de.useState=function(t){return jt.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return jt.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return jt.current.useTransition()};de.version="18.3.1";h_.exports=de;var I=h_.exports;const H=c_(I),lC=HI({__proto__:null,default:H},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC=I,cC=Symbol.for("react.element"),dC=Symbol.for("react.fragment"),hC=Object.prototype.hasOwnProperty,fC=uC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pC={key:!0,ref:!0,__self:!0,__source:!0};function E_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)hC.call(e,r)&&!pC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:cC,type:t,key:i,ref:o,props:s,_owner:fC.current}}fd.Fragment=dC;fd.jsx=E_;fd.jsxs=E_;d_.exports=fd;var g=d_.exports,x_={exports:{}},on={},T_={exports:{}},S_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,B){var Y=V.length;V.push(B);e:for(;0<Y;){var K=Y-1>>>1,J=V[K];if(0<s(J,B))V[K]=B,V[Y]=J,Y=K;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var B=V[0],Y=V.pop();if(Y!==B){V[0]=Y;e:for(var K=0,J=V.length,ee=J>>>1;K<ee;){var Ce=2*(K+1)-1,Xe=V[Ce],ve=Ce+1,mt=V[ve];if(0>s(Xe,Y))ve<J&&0>s(mt,Xe)?(V[K]=mt,V[ve]=Y,K=ve):(V[K]=Xe,V[Ce]=Y,K=Ce);else if(ve<J&&0>s(mt,Y))V[K]=mt,V[ve]=Y,K=ve;else break e}}return B}function s(V,B){var Y=V.sortIndex-B.sortIndex;return Y!==0?Y:V.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,p=null,h=3,y=!1,E=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=V)r(c),B.sortIndex=B.expirationTime,e(u,B);else break;B=n(c)}}function N(V){if(_=!1,S(V),!E)if(n(u)!==null)E=!0,te(D);else{var B=n(c);B!==null&&ie(N,B.startTime-V)}}function D(V,B){E=!1,_&&(_=!1,w(T),T=-1),y=!0;var Y=h;try{for(S(B),p=n(u);p!==null&&(!(p.expirationTime>B)||V&&!k());){var K=p.callback;if(typeof K=="function"){p.callback=null,h=p.priorityLevel;var J=K(p.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?p.callback=J:p===n(u)&&r(u),S(B)}else r(u);p=n(u)}if(p!==null)var ee=!0;else{var Ce=n(c);Ce!==null&&ie(N,Ce.startTime-B),ee=!1}return ee}finally{p=null,h=Y,y=!1}}var M=!1,b=null,T=-1,A=5,P=-1;function k(){return!(t.unstable_now()-P<A)}function O(){if(b!==null){var V=t.unstable_now();P=V;var B=!0;try{B=b(!0,V)}finally{B?R():(M=!1,b=null)}}else M=!1}var R;if(typeof v=="function")R=function(){v(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,re=W.port2;W.port1.onmessage=O,R=function(){re.postMessage(null)}}else R=function(){x(O,0)};function te(V){b=V,M||(M=!0,R())}function ie(V,B){T=x(function(){V(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){E||y||(E=!0,te(D))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var Y=h;h=B;try{return V()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=h;h=V;try{return B()}finally{h=Y}},t.unstable_scheduleCallback=function(V,B,Y){var K=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?K+Y:K):Y=K,V){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,V={id:d++,callback:B,priorityLevel:V,startTime:Y,expirationTime:J,sortIndex:-1},Y>K?(V.sortIndex=Y,e(c,V),n(u)===null&&V===n(c)&&(_?(w(T),T=-1):_=!0,ie(N,Y-K))):(V.sortIndex=J,e(u,V),E||y||(E=!0,te(D))),V},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(V){var B=h;return function(){var Y=h;h=B;try{return V.apply(this,arguments)}finally{h=Y}}}})(S_);T_.exports=S_;var mC=T_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gC=I,sn=mC;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I_=new Set,Ja={};function Ti(t,e){_o(t,e),_o(t+"Capture",e)}function _o(t,e){for(Ja[t]=e,t=0;t<e.length;t++)I_.add(e[t])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yf=Object.prototype.hasOwnProperty,yC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ev={},tv={};function vC(t){return yf.call(tv,t)?!0:yf.call(ev,t)?!1:yC.test(t)?tv[t]=!0:(ev[t]=!0,!1)}function wC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _C(t,e,n,r){if(e===null||typeof e>"u"||wC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ft(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ft[t]=new Ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ft[e]=new Ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ft[t]=new Ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ft[t]=new Ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ft[t]=new Ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ft[t]=new Ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ft[t]=new Ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ft[t]=new Ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ft[t]=new Ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var em=/[\-:]([a-z])/g;function tm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(em,tm);ft[e]=new Ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(em,tm);ft[e]=new Ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(em,tm);ft[e]=new Ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ft[t]=new Ft(t,1,!1,t.toLowerCase(),null,!1,!1)});ft.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ft[t]=new Ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function nm(t,e,n,r){var s=ft.hasOwnProperty(e)?ft[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_C(e,n,s,r)&&(n=null),r||s===null?vC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Or=gC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_u=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),zi=Symbol.for("react.fragment"),rm=Symbol.for("react.strict_mode"),vf=Symbol.for("react.profiler"),C_=Symbol.for("react.provider"),b_=Symbol.for("react.context"),sm=Symbol.for("react.forward_ref"),wf=Symbol.for("react.suspense"),_f=Symbol.for("react.suspense_list"),im=Symbol.for("react.memo"),Jr=Symbol.for("react.lazy"),A_=Symbol.for("react.offscreen"),nv=Symbol.iterator;function ma(t){return t===null||typeof t!="object"?null:(t=nv&&t[nv]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,Sh;function Ca(t){if(Sh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sh=e&&e[1]||""}return`
`+Sh+t}var Ih=!1;function Ch(t,e){if(!t||Ih)return"";Ih=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Ih=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ca(t):""}function EC(t){switch(t.tag){case 5:return Ca(t.type);case 16:return Ca("Lazy");case 13:return Ca("Suspense");case 19:return Ca("SuspenseList");case 0:case 2:case 15:return t=Ch(t.type,!1),t;case 11:return t=Ch(t.type.render,!1),t;case 1:return t=Ch(t.type,!0),t;default:return""}}function Ef(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zi:return"Fragment";case Ui:return"Portal";case vf:return"Profiler";case rm:return"StrictMode";case wf:return"Suspense";case _f:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case b_:return(t.displayName||"Context")+".Consumer";case C_:return(t._context.displayName||"Context")+".Provider";case sm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case im:return e=t.displayName||null,e!==null?e:Ef(t.type)||"Memo";case Jr:e=t._payload,t=t._init;try{return Ef(t(e))}catch{}}return null}function xC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ef(e);case 8:return e===rm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function As(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function P_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TC(t){var e=P_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Eu(t){t._valueTracker||(t._valueTracker=TC(t))}function R_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=P_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _c(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xf(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function rv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=As(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function k_(t,e){e=e.checked,e!=null&&nm(t,"checked",e,!1)}function Tf(t,e){k_(t,e);var n=As(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sf(t,e.type,As(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sf(t,e,n){(e!=="number"||_c(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ba=Array.isArray;function Ji(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+As(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function If(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function iv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(ba(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:As(n)}}function N_(t,e){var n=As(e.value),r=As(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ov(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function O_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?O_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xu,D_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xu=xu||document.createElement("div"),xu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Za(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SC=["Webkit","ms","Moz","O"];Object.keys(Va).forEach(function(t){SC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Va[e]=Va[t]})});function L_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Va.hasOwnProperty(t)&&Va[t]?(""+e).trim():e+"px"}function M_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=L_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var IC=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bf(t,e){if(e){if(IC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Af(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pf=null;function om(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rf=null,Zi=null,eo=null;function av(t){if(t=Vl(t)){if(typeof Rf!="function")throw Error($(280));var e=t.stateNode;e&&(e=vd(e),Rf(t.stateNode,t.type,e))}}function V_(t){Zi?eo?eo.push(t):eo=[t]:Zi=t}function j_(){if(Zi){var t=Zi,e=eo;if(eo=Zi=null,av(t),e)for(t=0;t<e.length;t++)av(e[t])}}function F_(t,e){return t(e)}function U_(){}var bh=!1;function z_(t,e,n){if(bh)return t(e,n);bh=!0;try{return F_(t,e,n)}finally{bh=!1,(Zi!==null||eo!==null)&&(U_(),j_())}}function el(t,e){var n=t.stateNode;if(n===null)return null;var r=vd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var kf=!1;if(xr)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){kf=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{kf=!1}function CC(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ja=!1,Ec=null,xc=!1,Nf=null,bC={onError:function(t){ja=!0,Ec=t}};function AC(t,e,n,r,s,i,o,a,u){ja=!1,Ec=null,CC.apply(bC,arguments)}function PC(t,e,n,r,s,i,o,a,u){if(AC.apply(this,arguments),ja){if(ja){var c=Ec;ja=!1,Ec=null}else throw Error($(198));xc||(xc=!0,Nf=c)}}function Si(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lv(t){if(Si(t)!==t)throw Error($(188))}function RC(t){var e=t.alternate;if(!e){if(e=Si(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return lv(s),t;if(i===r)return lv(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function B_(t){return t=RC(t),t!==null?W_(t):null}function W_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=W_(t);if(e!==null)return e;t=t.sibling}return null}var q_=sn.unstable_scheduleCallback,uv=sn.unstable_cancelCallback,kC=sn.unstable_shouldYield,NC=sn.unstable_requestPaint,Be=sn.unstable_now,OC=sn.unstable_getCurrentPriorityLevel,am=sn.unstable_ImmediatePriority,H_=sn.unstable_UserBlockingPriority,Tc=sn.unstable_NormalPriority,DC=sn.unstable_LowPriority,Q_=sn.unstable_IdlePriority,pd=null,Hn=null;function LC(t){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(pd,t,void 0,(t.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:jC,MC=Math.log,VC=Math.LN2;function jC(t){return t>>>=0,t===0?32:31-(MC(t)/VC|0)|0}var Tu=64,Su=4194304;function Aa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Aa(a):(i&=o,i!==0&&(r=Aa(i)))}else o=n&~s,o!==0?r=Aa(o):i!==0&&(r=Aa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bn(e),s=1<<n,r|=t[n],e&=~s;return r}function FC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-bn(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=FC(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function Of(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function K_(){var t=Tu;return Tu<<=1,!(Tu&4194240)&&(Tu=64),t}function Ah(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ll(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bn(e),t[e]=n}function zC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-bn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function lm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ee=0;function G_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Y_,um,X_,J_,Z_,Df=!1,Iu=[],ms=null,gs=null,ys=null,tl=new Map,nl=new Map,es=[],$C="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cv(t,e){switch(t){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(e.pointerId)}}function ya(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Vl(e),e!==null&&um(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function BC(t,e,n,r,s){switch(e){case"focusin":return ms=ya(ms,t,e,n,r,s),!0;case"dragenter":return gs=ya(gs,t,e,n,r,s),!0;case"mouseover":return ys=ya(ys,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return tl.set(i,ya(tl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,nl.set(i,ya(nl.get(i)||null,t,e,n,r,s)),!0}return!1}function eE(t){var e=Js(t.target);if(e!==null){var n=Si(e);if(n!==null){if(e=n.tag,e===13){if(e=$_(n),e!==null){t.blockedOn=e,Z_(t.priority,function(){X_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ju(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Pf=r,n.target.dispatchEvent(r),Pf=null}else return e=Vl(n),e!==null&&um(e),t.blockedOn=n,!1;e.shift()}return!0}function dv(t,e,n){Ju(t)&&n.delete(e)}function WC(){Df=!1,ms!==null&&Ju(ms)&&(ms=null),gs!==null&&Ju(gs)&&(gs=null),ys!==null&&Ju(ys)&&(ys=null),tl.forEach(dv),nl.forEach(dv)}function va(t,e){t.blockedOn===e&&(t.blockedOn=null,Df||(Df=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,WC)))}function rl(t){function e(s){return va(s,t)}if(0<Iu.length){va(Iu[0],t);for(var n=1;n<Iu.length;n++){var r=Iu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ms!==null&&va(ms,t),gs!==null&&va(gs,t),ys!==null&&va(ys,t),tl.forEach(e),nl.forEach(e),n=0;n<es.length;n++)r=es[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<es.length&&(n=es[0],n.blockedOn===null);)eE(n),n.blockedOn===null&&es.shift()}var to=Or.ReactCurrentBatchConfig,Ic=!0;function qC(t,e,n,r){var s=Ee,i=to.transition;to.transition=null;try{Ee=1,cm(t,e,n,r)}finally{Ee=s,to.transition=i}}function HC(t,e,n,r){var s=Ee,i=to.transition;to.transition=null;try{Ee=4,cm(t,e,n,r)}finally{Ee=s,to.transition=i}}function cm(t,e,n,r){if(Ic){var s=Lf(t,e,n,r);if(s===null)jh(t,e,r,Cc,n),cv(t,r);else if(BC(s,t,e,n,r))r.stopPropagation();else if(cv(t,r),e&4&&-1<$C.indexOf(t)){for(;s!==null;){var i=Vl(s);if(i!==null&&Y_(i),i=Lf(t,e,n,r),i===null&&jh(t,e,r,Cc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else jh(t,e,r,null,n)}}var Cc=null;function Lf(t,e,n,r){if(Cc=null,t=om(r),t=Js(t),t!==null)if(e=Si(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cc=t,null}function tE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OC()){case am:return 1;case H_:return 4;case Tc:case DC:return 16;case Q_:return 536870912;default:return 16}default:return 16}}var ds=null,dm=null,Zu=null;function nE(){if(Zu)return Zu;var t,e=dm,n=e.length,r,s="value"in ds?ds.value:ds.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Zu=s.slice(t,1<r?1-r:void 0)}function ec(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cu(){return!0}function hv(){return!1}function an(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cu:hv,this.isPropagationStopped=hv,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cu)},persist:function(){},isPersistent:Cu}),e}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hm=an(Fo),Ml=Le({},Fo,{view:0,detail:0}),QC=an(Ml),Ph,Rh,wa,md=Le({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wa&&(wa&&t.type==="mousemove"?(Ph=t.screenX-wa.screenX,Rh=t.screenY-wa.screenY):Rh=Ph=0,wa=t),Ph)},movementY:function(t){return"movementY"in t?t.movementY:Rh}}),fv=an(md),KC=Le({},md,{dataTransfer:0}),GC=an(KC),YC=Le({},Ml,{relatedTarget:0}),kh=an(YC),XC=Le({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),JC=an(XC),ZC=Le({},Fo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eb=an(ZC),tb=Le({},Fo,{data:0}),pv=an(tb),nb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ib(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sb[t])?!!e[t]:!1}function fm(){return ib}var ob=Le({},Ml,{key:function(t){if(t.key){var e=nb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ec(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fm,charCode:function(t){return t.type==="keypress"?ec(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ec(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ab=an(ob),lb=Le({},md,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mv=an(lb),ub=Le({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fm}),cb=an(ub),db=Le({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),hb=an(db),fb=Le({},md,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pb=an(fb),mb=[9,13,27,32],pm=xr&&"CompositionEvent"in window,Fa=null;xr&&"documentMode"in document&&(Fa=document.documentMode);var gb=xr&&"TextEvent"in window&&!Fa,rE=xr&&(!pm||Fa&&8<Fa&&11>=Fa),gv=" ",yv=!1;function sE(t,e){switch(t){case"keyup":return mb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $i=!1;function yb(t,e){switch(t){case"compositionend":return iE(e);case"keypress":return e.which!==32?null:(yv=!0,gv);case"textInput":return t=e.data,t===gv&&yv?null:t;default:return null}}function vb(t,e){if($i)return t==="compositionend"||!pm&&sE(t,e)?(t=nE(),Zu=dm=ds=null,$i=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rE&&e.locale!=="ko"?null:e.data;default:return null}}var wb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wb[t.type]:e==="textarea"}function oE(t,e,n,r){V_(r),e=bc(e,"onChange"),0<e.length&&(n=new hm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ua=null,sl=null;function _b(t){yE(t,0)}function gd(t){var e=qi(t);if(R_(e))return t}function Eb(t,e){if(t==="change")return e}var aE=!1;if(xr){var Nh;if(xr){var Oh="oninput"in document;if(!Oh){var wv=document.createElement("div");wv.setAttribute("oninput","return;"),Oh=typeof wv.oninput=="function"}Nh=Oh}else Nh=!1;aE=Nh&&(!document.documentMode||9<document.documentMode)}function _v(){Ua&&(Ua.detachEvent("onpropertychange",lE),sl=Ua=null)}function lE(t){if(t.propertyName==="value"&&gd(sl)){var e=[];oE(e,sl,t,om(t)),z_(_b,e)}}function xb(t,e,n){t==="focusin"?(_v(),Ua=e,sl=n,Ua.attachEvent("onpropertychange",lE)):t==="focusout"&&_v()}function Tb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gd(sl)}function Sb(t,e){if(t==="click")return gd(e)}function Ib(t,e){if(t==="input"||t==="change")return gd(e)}function Cb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rn=typeof Object.is=="function"?Object.is:Cb;function il(t,e){if(Rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!yf.call(e,s)||!Rn(t[s],e[s]))return!1}return!0}function Ev(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xv(t,e){var n=Ev(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ev(n)}}function uE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cE(){for(var t=window,e=_c();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_c(t.document)}return e}function mm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bb(t){var e=cE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&uE(n.ownerDocument.documentElement,n)){if(r!==null&&mm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=xv(n,i);var o=xv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ab=xr&&"documentMode"in document&&11>=document.documentMode,Bi=null,Mf=null,za=null,Vf=!1;function Tv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vf||Bi==null||Bi!==_c(r)||(r=Bi,"selectionStart"in r&&mm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),za&&il(za,r)||(za=r,r=bc(Mf,"onSelect"),0<r.length&&(e=new hm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bi)))}function bu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wi={animationend:bu("Animation","AnimationEnd"),animationiteration:bu("Animation","AnimationIteration"),animationstart:bu("Animation","AnimationStart"),transitionend:bu("Transition","TransitionEnd")},Dh={},dE={};xr&&(dE=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function yd(t){if(Dh[t])return Dh[t];if(!Wi[t])return t;var e=Wi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dE)return Dh[t]=e[n];return t}var hE=yd("animationend"),fE=yd("animationiteration"),pE=yd("animationstart"),mE=yd("transitionend"),gE=new Map,Sv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vs(t,e){gE.set(t,e),Ti(e,[t])}for(var Lh=0;Lh<Sv.length;Lh++){var Mh=Sv[Lh],Pb=Mh.toLowerCase(),Rb=Mh[0].toUpperCase()+Mh.slice(1);Vs(Pb,"on"+Rb)}Vs(hE,"onAnimationEnd");Vs(fE,"onAnimationIteration");Vs(pE,"onAnimationStart");Vs("dblclick","onDoubleClick");Vs("focusin","onFocus");Vs("focusout","onBlur");Vs(mE,"onTransitionEnd");_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function Iv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,PC(r,e,void 0,t),t.currentTarget=null}function yE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Iv(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Iv(s,a,c),i=u}}}if(xc)throw t=Nf,xc=!1,Nf=null,t}function Pe(t,e){var n=e[$f];n===void 0&&(n=e[$f]=new Set);var r=t+"__bubble";n.has(r)||(vE(e,t,2,!1),n.add(r))}function Vh(t,e,n){var r=0;e&&(r|=4),vE(n,t,r,e)}var Au="_reactListening"+Math.random().toString(36).slice(2);function ol(t){if(!t[Au]){t[Au]=!0,I_.forEach(function(n){n!=="selectionchange"&&(kb.has(n)||Vh(n,!1,t),Vh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Au]||(e[Au]=!0,Vh("selectionchange",!1,e))}}function vE(t,e,n,r){switch(tE(e)){case 1:var s=qC;break;case 4:s=HC;break;default:s=cm}n=s.bind(null,e,n,t),s=void 0,!kf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function jh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Js(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}z_(function(){var c=i,d=om(n),p=[];e:{var h=gE.get(t);if(h!==void 0){var y=hm,E=t;switch(t){case"keypress":if(ec(n)===0)break e;case"keydown":case"keyup":y=ab;break;case"focusin":E="focus",y=kh;break;case"focusout":E="blur",y=kh;break;case"beforeblur":case"afterblur":y=kh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=fv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=GC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=cb;break;case hE:case fE:case pE:y=JC;break;case mE:y=hb;break;case"scroll":y=QC;break;case"wheel":y=pb;break;case"copy":case"cut":case"paste":y=eb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=mv}var _=(e&4)!==0,x=!_&&t==="scroll",w=_?h!==null?h+"Capture":null:h;_=[];for(var v=c,S;v!==null;){S=v;var N=S.stateNode;if(S.tag===5&&N!==null&&(S=N,w!==null&&(N=el(v,w),N!=null&&_.push(al(v,N,S)))),x)break;v=v.return}0<_.length&&(h=new y(h,E,null,n,d),p.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==Pf&&(E=n.relatedTarget||n.fromElement)&&(Js(E)||E[Tr]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=c,E=E?Js(E):null,E!==null&&(x=Si(E),E!==x||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=c),y!==E)){if(_=fv,N="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=mv,N="onPointerLeave",w="onPointerEnter",v="pointer"),x=y==null?h:qi(y),S=E==null?h:qi(E),h=new _(N,v+"leave",y,n,d),h.target=x,h.relatedTarget=S,N=null,Js(d)===c&&(_=new _(w,v+"enter",E,n,d),_.target=S,_.relatedTarget=x,N=_),x=N,y&&E)t:{for(_=y,w=E,v=0,S=_;S;S=Di(S))v++;for(S=0,N=w;N;N=Di(N))S++;for(;0<v-S;)_=Di(_),v--;for(;0<S-v;)w=Di(w),S--;for(;v--;){if(_===w||w!==null&&_===w.alternate)break t;_=Di(_),w=Di(w)}_=null}else _=null;y!==null&&Cv(p,h,y,_,!1),E!==null&&x!==null&&Cv(p,x,E,_,!0)}}e:{if(h=c?qi(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var D=Eb;else if(vv(h))if(aE)D=Ib;else{D=Tb;var M=xb}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=Sb);if(D&&(D=D(t,c))){oE(p,D,n,d);break e}M&&M(t,h,c),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&Sf(h,"number",h.value)}switch(M=c?qi(c):window,t){case"focusin":(vv(M)||M.contentEditable==="true")&&(Bi=M,Mf=c,za=null);break;case"focusout":za=Mf=Bi=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,Tv(p,n,d);break;case"selectionchange":if(Ab)break;case"keydown":case"keyup":Tv(p,n,d)}var b;if(pm)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else $i?sE(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(rE&&n.locale!=="ko"&&($i||T!=="onCompositionStart"?T==="onCompositionEnd"&&$i&&(b=nE()):(ds=d,dm="value"in ds?ds.value:ds.textContent,$i=!0)),M=bc(c,T),0<M.length&&(T=new pv(T,t,null,n,d),p.push({event:T,listeners:M}),b?T.data=b:(b=iE(n),b!==null&&(T.data=b)))),(b=gb?yb(t,n):vb(t,n))&&(c=bc(c,"onBeforeInput"),0<c.length&&(d=new pv("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=b))}yE(p,e)})}function al(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=el(t,n),i!=null&&r.unshift(al(t,i,s)),i=el(t,e),i!=null&&r.push(al(t,i,s))),t=t.return}return r}function Di(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=el(n,i),u!=null&&o.unshift(al(n,u,a))):s||(u=el(n,i),u!=null&&o.push(al(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Nb=/\r\n?/g,Ob=/\u0000|\uFFFD/g;function bv(t){return(typeof t=="string"?t:""+t).replace(Nb,`
`).replace(Ob,"")}function Pu(t,e,n){if(e=bv(e),bv(t)!==e&&n)throw Error($(425))}function Ac(){}var jf=null,Ff=null;function Uf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zf=typeof setTimeout=="function"?setTimeout:void 0,Db=typeof clearTimeout=="function"?clearTimeout:void 0,Av=typeof Promise=="function"?Promise:void 0,Lb=typeof queueMicrotask=="function"?queueMicrotask:typeof Av<"u"?function(t){return Av.resolve(null).then(t).catch(Mb)}:zf;function Mb(t){setTimeout(function(){throw t})}function Fh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),rl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);rl(e)}function vs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Pv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Uo=Math.random().toString(36).slice(2),qn="__reactFiber$"+Uo,ll="__reactProps$"+Uo,Tr="__reactContainer$"+Uo,$f="__reactEvents$"+Uo,Vb="__reactListeners$"+Uo,jb="__reactHandles$"+Uo;function Js(t){var e=t[qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tr]||n[qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Pv(t);t!==null;){if(n=t[qn])return n;t=Pv(t)}return e}t=n,n=t.parentNode}return null}function Vl(t){return t=t[qn]||t[Tr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function vd(t){return t[ll]||null}var Bf=[],Hi=-1;function js(t){return{current:t}}function ke(t){0>Hi||(t.current=Bf[Hi],Bf[Hi]=null,Hi--)}function Ie(t,e){Hi++,Bf[Hi]=t.current,t.current=e}var Ps={},Pt=js(Ps),Wt=js(!1),ci=Ps;function Eo(t,e){var n=t.type.contextTypes;if(!n)return Ps;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function qt(t){return t=t.childContextTypes,t!=null}function Pc(){ke(Wt),ke(Pt)}function Rv(t,e,n){if(Pt.current!==Ps)throw Error($(168));Ie(Pt,e),Ie(Wt,n)}function wE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,xC(t)||"Unknown",s));return Le({},n,r)}function Rc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ps,ci=Pt.current,Ie(Pt,t),Ie(Wt,Wt.current),!0}function kv(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=wE(t,e,ci),r.__reactInternalMemoizedMergedChildContext=t,ke(Wt),ke(Pt),Ie(Pt,t)):ke(Wt),Ie(Wt,n)}var hr=null,wd=!1,Uh=!1;function _E(t){hr===null?hr=[t]:hr.push(t)}function Fb(t){wd=!0,_E(t)}function Fs(){if(!Uh&&hr!==null){Uh=!0;var t=0,e=Ee;try{var n=hr;for(Ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hr=null,wd=!1}catch(s){throw hr!==null&&(hr=hr.slice(t+1)),q_(am,Fs),s}finally{Ee=e,Uh=!1}}return null}var Qi=[],Ki=0,kc=null,Nc=0,un=[],cn=0,di=null,pr=1,mr="";function Gs(t,e){Qi[Ki++]=Nc,Qi[Ki++]=kc,kc=t,Nc=e}function EE(t,e,n){un[cn++]=pr,un[cn++]=mr,un[cn++]=di,di=t;var r=pr;t=mr;var s=32-bn(r)-1;r&=~(1<<s),n+=1;var i=32-bn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,pr=1<<32-bn(e)+s|n<<s|r,mr=i+t}else pr=1<<i|n<<s|r,mr=t}function gm(t){t.return!==null&&(Gs(t,1),EE(t,1,0))}function ym(t){for(;t===kc;)kc=Qi[--Ki],Qi[Ki]=null,Nc=Qi[--Ki],Qi[Ki]=null;for(;t===di;)di=un[--cn],un[cn]=null,mr=un[--cn],un[cn]=null,pr=un[--cn],un[cn]=null}var nn=null,en=null,Ne=!1,In=null;function xE(t,e){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Nv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nn=t,en=vs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=di!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nn=t,en=null,!0):!1;default:return!1}}function Wf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qf(t){if(Ne){var e=en;if(e){var n=e;if(!Nv(t,e)){if(Wf(t))throw Error($(418));e=vs(n.nextSibling);var r=nn;e&&Nv(t,e)?xE(r,n):(t.flags=t.flags&-4097|2,Ne=!1,nn=t)}}else{if(Wf(t))throw Error($(418));t.flags=t.flags&-4097|2,Ne=!1,nn=t}}}function Ov(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nn=t}function Ru(t){if(t!==nn)return!1;if(!Ne)return Ov(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uf(t.type,t.memoizedProps)),e&&(e=en)){if(Wf(t))throw TE(),Error($(418));for(;e;)xE(t,e),e=vs(e.nextSibling)}if(Ov(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){en=vs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}en=null}}else en=nn?vs(t.stateNode.nextSibling):null;return!0}function TE(){for(var t=en;t;)t=vs(t.nextSibling)}function xo(){en=nn=null,Ne=!1}function vm(t){In===null?In=[t]:In.push(t)}var Ub=Or.ReactCurrentBatchConfig;function _a(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function ku(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dv(t){var e=t._init;return e(t._payload)}function SE(t){function e(w,v){if(t){var S=w.deletions;S===null?(w.deletions=[v],w.flags|=16):S.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=xs(w,v),w.index=0,w.sibling=null,w}function i(w,v,S){return w.index=S,t?(S=w.alternate,S!==null?(S=S.index,S<v?(w.flags|=2,v):S):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,S,N){return v===null||v.tag!==6?(v=Qh(S,w.mode,N),v.return=w,v):(v=s(v,S),v.return=w,v)}function u(w,v,S,N){var D=S.type;return D===zi?d(w,v,S.props.children,N,S.key):v!==null&&(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Jr&&Dv(D)===v.type)?(N=s(v,S.props),N.ref=_a(w,v,S),N.return=w,N):(N=ac(S.type,S.key,S.props,null,w.mode,N),N.ref=_a(w,v,S),N.return=w,N)}function c(w,v,S,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Kh(S,w.mode,N),v.return=w,v):(v=s(v,S.children||[]),v.return=w,v)}function d(w,v,S,N,D){return v===null||v.tag!==7?(v=li(S,w.mode,N,D),v.return=w,v):(v=s(v,S),v.return=w,v)}function p(w,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Qh(""+v,w.mode,S),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _u:return S=ac(v.type,v.key,v.props,null,w.mode,S),S.ref=_a(w,null,v),S.return=w,S;case Ui:return v=Kh(v,w.mode,S),v.return=w,v;case Jr:var N=v._init;return p(w,N(v._payload),S)}if(ba(v)||ma(v))return v=li(v,w.mode,S,null),v.return=w,v;ku(w,v)}return null}function h(w,v,S,N){var D=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:a(w,v,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _u:return S.key===D?u(w,v,S,N):null;case Ui:return S.key===D?c(w,v,S,N):null;case Jr:return D=S._init,h(w,v,D(S._payload),N)}if(ba(S)||ma(S))return D!==null?null:d(w,v,S,N,null);ku(w,S)}return null}function y(w,v,S,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(S)||null,a(v,w,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _u:return w=w.get(N.key===null?S:N.key)||null,u(v,w,N,D);case Ui:return w=w.get(N.key===null?S:N.key)||null,c(v,w,N,D);case Jr:var M=N._init;return y(w,v,S,M(N._payload),D)}if(ba(N)||ma(N))return w=w.get(S)||null,d(v,w,N,D,null);ku(v,N)}return null}function E(w,v,S,N){for(var D=null,M=null,b=v,T=v=0,A=null;b!==null&&T<S.length;T++){b.index>T?(A=b,b=null):A=b.sibling;var P=h(w,b,S[T],N);if(P===null){b===null&&(b=A);break}t&&b&&P.alternate===null&&e(w,b),v=i(P,v,T),M===null?D=P:M.sibling=P,M=P,b=A}if(T===S.length)return n(w,b),Ne&&Gs(w,T),D;if(b===null){for(;T<S.length;T++)b=p(w,S[T],N),b!==null&&(v=i(b,v,T),M===null?D=b:M.sibling=b,M=b);return Ne&&Gs(w,T),D}for(b=r(w,b);T<S.length;T++)A=y(b,w,T,S[T],N),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?T:A.key),v=i(A,v,T),M===null?D=A:M.sibling=A,M=A);return t&&b.forEach(function(k){return e(w,k)}),Ne&&Gs(w,T),D}function _(w,v,S,N){var D=ma(S);if(typeof D!="function")throw Error($(150));if(S=D.call(S),S==null)throw Error($(151));for(var M=D=null,b=v,T=v=0,A=null,P=S.next();b!==null&&!P.done;T++,P=S.next()){b.index>T?(A=b,b=null):A=b.sibling;var k=h(w,b,P.value,N);if(k===null){b===null&&(b=A);break}t&&b&&k.alternate===null&&e(w,b),v=i(k,v,T),M===null?D=k:M.sibling=k,M=k,b=A}if(P.done)return n(w,b),Ne&&Gs(w,T),D;if(b===null){for(;!P.done;T++,P=S.next())P=p(w,P.value,N),P!==null&&(v=i(P,v,T),M===null?D=P:M.sibling=P,M=P);return Ne&&Gs(w,T),D}for(b=r(w,b);!P.done;T++,P=S.next())P=y(b,w,T,P.value,N),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?T:P.key),v=i(P,v,T),M===null?D=P:M.sibling=P,M=P);return t&&b.forEach(function(O){return e(w,O)}),Ne&&Gs(w,T),D}function x(w,v,S,N){if(typeof S=="object"&&S!==null&&S.type===zi&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case _u:e:{for(var D=S.key,M=v;M!==null;){if(M.key===D){if(D=S.type,D===zi){if(M.tag===7){n(w,M.sibling),v=s(M,S.props.children),v.return=w,w=v;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Jr&&Dv(D)===M.type){n(w,M.sibling),v=s(M,S.props),v.ref=_a(w,M,S),v.return=w,w=v;break e}n(w,M);break}else e(w,M);M=M.sibling}S.type===zi?(v=li(S.props.children,w.mode,N,S.key),v.return=w,w=v):(N=ac(S.type,S.key,S.props,null,w.mode,N),N.ref=_a(w,v,S),N.return=w,w=N)}return o(w);case Ui:e:{for(M=S.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(w,v.sibling),v=s(v,S.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=Kh(S,w.mode,N),v.return=w,w=v}return o(w);case Jr:return M=S._init,x(w,v,M(S._payload),N)}if(ba(S))return E(w,v,S,N);if(ma(S))return _(w,v,S,N);ku(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,S),v.return=w,w=v):(n(w,v),v=Qh(S,w.mode,N),v.return=w,w=v),o(w)):n(w,v)}return x}var To=SE(!0),IE=SE(!1),Oc=js(null),Dc=null,Gi=null,wm=null;function _m(){wm=Gi=Dc=null}function Em(t){var e=Oc.current;ke(Oc),t._currentValue=e}function Hf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function no(t,e){Dc=t,wm=Gi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function fn(t){var e=t._currentValue;if(wm!==t)if(t={context:t,memoizedValue:e,next:null},Gi===null){if(Dc===null)throw Error($(308));Gi=t,Dc.dependencies={lanes:0,firstContext:t}}else Gi=Gi.next=t;return e}var Zs=null;function xm(t){Zs===null?Zs=[t]:Zs.push(t)}function CE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,xm(e)):(n.next=s.next,s.next=n),e.interleaved=n,Sr(t,r)}function Sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zr=!1;function Tm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ws(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Sr(t,n)}return s=r.interleaved,s===null?(e.next=e,xm(r)):(e.next=s.next,s.next=e),r.interleaved=e,Sr(t,n)}function tc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lm(t,n)}}function Lv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lc(t,e,n,r){var s=t.updateQueue;Zr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;o=0,d=c=u=null,a=i;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,_=a;switch(h=e,y=n,_.tag){case 1:if(E=_.payload,typeof E=="function"){p=E.call(y,p,h);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=_.payload,h=typeof E=="function"?E.call(y,p,h):E,h==null)break e;p=Le({},p,h);break e;case 2:Zr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,u=p):d=d.next=y,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=p),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);fi|=o,t.lanes=o,t.memoizedState=p}}function Mv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var jl={},Qn=js(jl),ul=js(jl),cl=js(jl);function ei(t){if(t===jl)throw Error($(174));return t}function Sm(t,e){switch(Ie(cl,e),Ie(ul,t),Ie(Qn,jl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cf(e,t)}ke(Qn),Ie(Qn,e)}function So(){ke(Qn),ke(ul),ke(cl)}function AE(t){ei(cl.current);var e=ei(Qn.current),n=Cf(e,t.type);e!==n&&(Ie(ul,t),Ie(Qn,n))}function Im(t){ul.current===t&&(ke(Qn),ke(ul))}var Oe=js(0);function Mc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zh=[];function Cm(){for(var t=0;t<zh.length;t++)zh[t]._workInProgressVersionPrimary=null;zh.length=0}var nc=Or.ReactCurrentDispatcher,$h=Or.ReactCurrentBatchConfig,hi=0,De=null,Je=null,rt=null,Vc=!1,$a=!1,dl=0,zb=0;function _t(){throw Error($(321))}function bm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rn(t[n],e[n]))return!1;return!0}function Am(t,e,n,r,s,i){if(hi=i,De=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nc.current=t===null||t.memoizedState===null?qb:Hb,t=n(r,s),$a){i=0;do{if($a=!1,dl=0,25<=i)throw Error($(301));i+=1,rt=Je=null,e.updateQueue=null,nc.current=Qb,t=n(r,s)}while($a)}if(nc.current=jc,e=Je!==null&&Je.next!==null,hi=0,rt=Je=De=null,Vc=!1,e)throw Error($(300));return t}function Pm(){var t=dl!==0;return dl=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?De.memoizedState=rt=t:rt=rt.next=t,rt}function pn(){if(Je===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=rt===null?De.memoizedState:rt.next;if(e!==null)rt=e,Je=t;else{if(t===null)throw Error($(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},rt===null?De.memoizedState=rt=t:rt=rt.next=t}return rt}function hl(t,e){return typeof e=="function"?e(t):e}function Bh(t){var e=pn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=Je,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((hi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=p,o=r):u=u.next=p,De.lanes|=d,fi|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,Rn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,De.lanes|=i,fi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wh(t){var e=pn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Rn(i,e.memoizedState)||(Bt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function PE(){}function RE(t,e){var n=De,r=pn(),s=e(),i=!Rn(r.memoizedState,s);if(i&&(r.memoizedState=s,Bt=!0),r=r.queue,Rm(OE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,fl(9,NE.bind(null,n,r,s,e),void 0,null),ot===null)throw Error($(349));hi&30||kE(n,e,s)}return s}function kE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function NE(t,e,n,r){e.value=n,e.getSnapshot=r,DE(e)&&LE(t)}function OE(t,e,n){return n(function(){DE(e)&&LE(t)})}function DE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rn(t,n)}catch{return!0}}function LE(t){var e=Sr(t,1);e!==null&&An(e,t,1,-1)}function Vv(t){var e=zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:t},e.queue=t,t=t.dispatch=Wb.bind(null,De,t),[e.memoizedState,t]}function fl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ME(){return pn().memoizedState}function rc(t,e,n,r){var s=zn();De.flags|=t,s.memoizedState=fl(1|e,n,void 0,r===void 0?null:r)}function _d(t,e,n,r){var s=pn();r=r===void 0?null:r;var i=void 0;if(Je!==null){var o=Je.memoizedState;if(i=o.destroy,r!==null&&bm(r,o.deps)){s.memoizedState=fl(e,n,i,r);return}}De.flags|=t,s.memoizedState=fl(1|e,n,i,r)}function jv(t,e){return rc(8390656,8,t,e)}function Rm(t,e){return _d(2048,8,t,e)}function VE(t,e){return _d(4,2,t,e)}function jE(t,e){return _d(4,4,t,e)}function FE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function UE(t,e,n){return n=n!=null?n.concat([t]):null,_d(4,4,FE.bind(null,e,t),n)}function km(){}function zE(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $E(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function BE(t,e,n){return hi&21?(Rn(n,e)||(n=K_(),De.lanes|=n,fi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function $b(t,e){var n=Ee;Ee=n!==0&&4>n?n:4,t(!0);var r=$h.transition;$h.transition={};try{t(!1),e()}finally{Ee=n,$h.transition=r}}function WE(){return pn().memoizedState}function Bb(t,e,n){var r=Es(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qE(t))HE(e,n);else if(n=CE(t,e,n,r),n!==null){var s=Mt();An(n,t,r,s),QE(n,e,r)}}function Wb(t,e,n){var r=Es(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qE(t))HE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Rn(a,o)){var u=e.interleaved;u===null?(s.next=s,xm(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=CE(t,e,s,r),n!==null&&(s=Mt(),An(n,t,r,s),QE(n,e,r))}}function qE(t){var e=t.alternate;return t===De||e!==null&&e===De}function HE(t,e){$a=Vc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lm(t,n)}}var jc={readContext:fn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},qb={readContext:fn,useCallback:function(t,e){return zn().memoizedState=[t,e===void 0?null:e],t},useContext:fn,useEffect:jv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rc(4194308,4,FE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rc(4194308,4,t,e)},useInsertionEffect:function(t,e){return rc(4,2,t,e)},useMemo:function(t,e){var n=zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Bb.bind(null,De,t),[r.memoizedState,t]},useRef:function(t){var e=zn();return t={current:t},e.memoizedState=t},useState:Vv,useDebugValue:km,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=Vv(!1),e=t[0];return t=$b.bind(null,t[1]),zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=De,s=zn();if(Ne){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),ot===null)throw Error($(349));hi&30||kE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,jv(OE.bind(null,r,i,t),[t]),r.flags|=2048,fl(9,NE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=zn(),e=ot.identifierPrefix;if(Ne){var n=mr,r=pr;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Hb={readContext:fn,useCallback:zE,useContext:fn,useEffect:Rm,useImperativeHandle:UE,useInsertionEffect:VE,useLayoutEffect:jE,useMemo:$E,useReducer:Bh,useRef:ME,useState:function(){return Bh(hl)},useDebugValue:km,useDeferredValue:function(t){var e=pn();return BE(e,Je.memoizedState,t)},useTransition:function(){var t=Bh(hl)[0],e=pn().memoizedState;return[t,e]},useMutableSource:PE,useSyncExternalStore:RE,useId:WE,unstable_isNewReconciler:!1},Qb={readContext:fn,useCallback:zE,useContext:fn,useEffect:Rm,useImperativeHandle:UE,useInsertionEffect:VE,useLayoutEffect:jE,useMemo:$E,useReducer:Wh,useRef:ME,useState:function(){return Wh(hl)},useDebugValue:km,useDeferredValue:function(t){var e=pn();return Je===null?e.memoizedState=t:BE(e,Je.memoizedState,t)},useTransition:function(){var t=Wh(hl)[0],e=pn().memoizedState;return[t,e]},useMutableSource:PE,useSyncExternalStore:RE,useId:WE,unstable_isNewReconciler:!1};function En(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ed={isMounted:function(t){return(t=t._reactInternals)?Si(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),s=Es(t),i=wr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ws(t,i,s),e!==null&&(An(e,t,s,r),tc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),s=Es(t),i=wr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ws(t,i,s),e!==null&&(An(e,t,s,r),tc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=Es(t),s=wr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ws(t,s,r),e!==null&&(An(e,t,r,n),tc(e,t,r))}};function Fv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!il(n,r)||!il(s,i):!0}function KE(t,e,n){var r=!1,s=Ps,i=e.contextType;return typeof i=="object"&&i!==null?i=fn(i):(s=qt(e)?ci:Pt.current,r=e.contextTypes,i=(r=r!=null)?Eo(t,s):Ps),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ed,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Uv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ed.enqueueReplaceState(e,e.state,null)}function Kf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Tm(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=fn(i):(i=qt(e)?ci:Pt.current,s.context=Eo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Qf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ed.enqueueReplaceState(s,s.state,null),Lc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Io(t,e){try{var n="",r=e;do n+=EC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function qh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Kb=typeof WeakMap=="function"?WeakMap:Map;function GE(t,e,n){n=wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Uc||(Uc=!0,ip=r),Gf(t,e)},n}function YE(t,e,n){n=wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Gf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Gf(t,e),typeof r!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function zv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Kb;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=lA.bind(null,t,e,n),e.then(t,t))}function $v(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Bv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wr(-1,1),e.tag=2,ws(n,e,1))),n.lanes|=1),t)}var Gb=Or.ReactCurrentOwner,Bt=!1;function Ot(t,e,n,r){e.child=t===null?IE(e,null,n,r):To(e,t.child,n,r)}function Wv(t,e,n,r,s){n=n.render;var i=e.ref;return no(e,s),r=Am(t,e,n,r,i,s),n=Pm(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ir(t,e,s)):(Ne&&n&&gm(e),e.flags|=1,Ot(t,e,r,s),e.child)}function qv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Fm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,XE(t,e,i,r,s)):(t=ac(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:il,n(o,r)&&t.ref===e.ref)return Ir(t,e,s)}return e.flags|=1,t=xs(i,r),t.ref=e.ref,t.return=e,e.child=t}function XE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(il(i,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,Ir(t,e,s)}return Yf(t,e,n,r,s)}function JE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Xi,Jt),Jt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(Xi,Jt),Jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ie(Xi,Jt),Jt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ie(Xi,Jt),Jt|=r;return Ot(t,e,s,n),e.child}function ZE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yf(t,e,n,r,s){var i=qt(n)?ci:Pt.current;return i=Eo(e,i),no(e,s),n=Am(t,e,n,r,i,s),r=Pm(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ir(t,e,s)):(Ne&&r&&gm(e),e.flags|=1,Ot(t,e,n,s),e.child)}function Hv(t,e,n,r,s){if(qt(n)){var i=!0;Rc(e)}else i=!1;if(no(e,s),e.stateNode===null)sc(t,e),KE(e,n,r),Kf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=fn(c):(c=qt(n)?ci:Pt.current,c=Eo(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Uv(e,o,r,c),Zr=!1;var h=e.memoizedState;o.state=h,Lc(e,r,o,s),u=e.memoizedState,a!==r||h!==u||Wt.current||Zr?(typeof d=="function"&&(Qf(e,n,d,r),u=e.memoizedState),(a=Zr||Fv(e,n,a,r,h,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,bE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:En(e.type,a),o.props=c,p=e.pendingProps,h=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=fn(u):(u=qt(n)?ci:Pt.current,u=Eo(e,u));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||h!==u)&&Uv(e,o,r,u),Zr=!1,h=e.memoizedState,o.state=h,Lc(e,r,o,s);var E=e.memoizedState;a!==p||h!==E||Wt.current||Zr?(typeof y=="function"&&(Qf(e,n,y,r),E=e.memoizedState),(c=Zr||Fv(e,n,c,r,h,E,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Xf(t,e,n,r,i,s)}function Xf(t,e,n,r,s,i){ZE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&kv(e,n,!1),Ir(t,e,i);r=e.stateNode,Gb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=To(e,t.child,null,i),e.child=To(e,null,a,i)):Ot(t,e,a,i),e.memoizedState=r.state,s&&kv(e,n,!0),e.child}function ex(t){var e=t.stateNode;e.pendingContext?Rv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rv(t,e.context,!1),Sm(t,e.containerInfo)}function Qv(t,e,n,r,s){return xo(),vm(s),e.flags|=256,Ot(t,e,n,r),e.child}var Jf={dehydrated:null,treeContext:null,retryLane:0};function Zf(t){return{baseLanes:t,cachePool:null,transitions:null}}function tx(t,e,n){var r=e.pendingProps,s=Oe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ie(Oe,s&1),t===null)return qf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Sd(o,r,0,null),t=li(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Zf(n),e.memoizedState=Jf,t):Nm(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Yb(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=xs(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=xs(a,i):(i=li(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Zf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Jf,r}return i=t.child,t=i.sibling,r=xs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Nm(t,e){return e=Sd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nu(t,e,n,r){return r!==null&&vm(r),To(e,t.child,null,n),t=Nm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Yb(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=qh(Error($(422))),Nu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Sd({mode:"visible",children:r.children},s,0,null),i=li(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&To(e,t.child,null,o),e.child.memoizedState=Zf(o),e.memoizedState=Jf,i);if(!(e.mode&1))return Nu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($(419)),r=qh(i,r,void 0),Nu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Bt||a){if(r=ot,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Sr(t,s),An(r,t,s,-1))}return jm(),r=qh(Error($(421))),Nu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=uA.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,en=vs(s.nextSibling),nn=e,Ne=!0,In=null,t!==null&&(un[cn++]=pr,un[cn++]=mr,un[cn++]=di,pr=t.id,mr=t.overflow,di=e),e=Nm(e,r.children),e.flags|=4096,e)}function Kv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hf(t.return,e,n)}function Hh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function nx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ot(t,e,r.children,n),r=Oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kv(t,n,e);else if(t.tag===19)Kv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Oe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Mc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Hh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Mc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Hh(e,!0,n,null,i);break;case"together":Hh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=xs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Xb(t,e,n){switch(e.tag){case 3:ex(e),xo();break;case 5:AE(e);break;case 1:qt(e.type)&&Rc(e);break;case 4:Sm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ie(Oc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?tx(t,e,n):(Ie(Oe,Oe.current&1),t=Ir(t,e,n),t!==null?t.sibling:null);Ie(Oe,Oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ie(Oe,Oe.current),r)break;return null;case 22:case 23:return e.lanes=0,JE(t,e,n)}return Ir(t,e,n)}var rx,ep,sx,ix;rx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ep=function(){};sx=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ei(Qn.current);var i=null;switch(n){case"input":s=xf(t,s),r=xf(t,r),i=[];break;case"select":s=Le({},s,{value:void 0}),r=Le({},r,{value:void 0}),i=[];break;case"textarea":s=If(t,s),r=If(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ac)}bf(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ja.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ja.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Pe("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};ix=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ea(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Jb(t,e,n){var r=e.pendingProps;switch(ym(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return qt(e.type)&&Pc(),Et(e),null;case 3:return r=e.stateNode,So(),ke(Wt),ke(Pt),Cm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ru(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,In!==null&&(lp(In),In=null))),ep(t,e),Et(e),null;case 5:Im(e);var s=ei(cl.current);if(n=e.type,t!==null&&e.stateNode!=null)sx(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Et(e),null}if(t=ei(Qn.current),Ru(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[qn]=e,r[ll]=i,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<Pa.length;s++)Pe(Pa[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":rv(r,i),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pe("invalid",r);break;case"textarea":iv(r,i),Pe("invalid",r)}bf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Pu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Pu(r.textContent,a,t),s=["children",""+a]):Ja.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":Eu(r),sv(r,i,!0);break;case"textarea":Eu(r),ov(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ac)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=O_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qn]=e,t[ll]=r,rx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Af(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),s=r;break;case"iframe":case"object":case"embed":Pe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Pa.length;s++)Pe(Pa[s],t);s=r;break;case"source":Pe("error",t),s=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),s=r;break;case"details":Pe("toggle",t),s=r;break;case"input":rv(t,r),s=xf(t,r),Pe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Le({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":iv(t,r),s=If(t,r),Pe("invalid",t);break;default:s=r}bf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?M_(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&D_(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Za(t,u):typeof u=="number"&&Za(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ja.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Pe("scroll",t):u!=null&&nm(t,i,u,o))}switch(n){case"input":Eu(t),sv(t,r,!1);break;case"textarea":Eu(t),ov(t);break;case"option":r.value!=null&&t.setAttribute("value",""+As(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ji(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ji(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ac)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)ix(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=ei(cl.current),ei(Qn.current),Ru(e)){if(r=e.stateNode,n=e.memoizedProps,r[qn]=e,(i=r.nodeValue!==n)&&(t=nn,t!==null))switch(t.tag){case 3:Pu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qn]=e,e.stateNode=r}return Et(e),null;case 13:if(ke(Oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&en!==null&&e.mode&1&&!(e.flags&128))TE(),xo(),e.flags|=98560,i=!1;else if(i=Ru(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[qn]=e}else xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),i=!1}else In!==null&&(lp(In),In=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?et===0&&(et=3):jm())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return So(),ep(t,e),t===null&&ol(e.stateNode.containerInfo),Et(e),null;case 10:return Em(e.type._context),Et(e),null;case 17:return qt(e.type)&&Pc(),Et(e),null;case 19:if(ke(Oe),i=e.memoizedState,i===null)return Et(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ea(i,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mc(t),o!==null){for(e.flags|=128,Ea(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Oe,Oe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Be()>Co&&(e.flags|=128,r=!0,Ea(i,!1),e.lanes=4194304)}else{if(!r)if(t=Mc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ea(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ne)return Et(e),null}else 2*Be()-i.renderingStartTime>Co&&n!==1073741824&&(e.flags|=128,r=!0,Ea(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Be(),e.sibling=null,n=Oe.current,Ie(Oe,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return Vm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jt&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function Zb(t,e){switch(ym(e),e.tag){case 1:return qt(e.type)&&Pc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return So(),ke(Wt),ke(Pt),Cm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Im(e),null;case 13:if(ke(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ke(Oe),null;case 4:return So(),null;case 10:return Em(e.type._context),null;case 22:case 23:return Vm(),null;case 24:return null;default:return null}}var Ou=!1,bt=!1,eA=typeof WeakSet=="function"?WeakSet:Set,G=null;function Yi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function tp(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var Gv=!1;function tA(t,e){if(jf=Ic,t=cE(),mm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,p=t,h=null;t:for(;;){for(var y;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)h=p,p=y;for(;;){if(p===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++d===r&&(u=o),(y=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ff={focusedElem:t,selectionRange:n},Ic=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var _=E.memoizedProps,x=E.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:En(e.type,_),x);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(N){Ue(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return E=Gv,Gv=!1,E}function Ba(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&tp(e,n,i)}s=s.next}while(s!==r)}}function xd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function np(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ox(t){var e=t.alternate;e!==null&&(t.alternate=null,ox(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[ll],delete e[$f],delete e[Vb],delete e[jb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ax(t){return t.tag===5||t.tag===3||t.tag===4}function Yv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ax(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ac));else if(r!==4&&(t=t.child,t!==null))for(rp(t,e,n),t=t.sibling;t!==null;)rp(t,e,n),t=t.sibling}function sp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sp(t,e,n),t=t.sibling;t!==null;)sp(t,e,n),t=t.sibling}var lt=null,Sn=!1;function Qr(t,e,n){for(n=n.child;n!==null;)lx(t,e,n),n=n.sibling}function lx(t,e,n){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(pd,n)}catch{}switch(n.tag){case 5:bt||Yi(n,e);case 6:var r=lt,s=Sn;lt=null,Qr(t,e,n),lt=r,Sn=s,lt!==null&&(Sn?(t=lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):lt.removeChild(n.stateNode));break;case 18:lt!==null&&(Sn?(t=lt,n=n.stateNode,t.nodeType===8?Fh(t.parentNode,n):t.nodeType===1&&Fh(t,n),rl(t)):Fh(lt,n.stateNode));break;case 4:r=lt,s=Sn,lt=n.stateNode.containerInfo,Sn=!0,Qr(t,e,n),lt=r,Sn=s;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&tp(n,e,o),s=s.next}while(s!==r)}Qr(t,e,n);break;case 1:if(!bt&&(Yi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ue(n,e,a)}Qr(t,e,n);break;case 21:Qr(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,Qr(t,e,n),bt=r):Qr(t,e,n);break;default:Qr(t,e,n)}}function Xv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eA),e.forEach(function(r){var s=cA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:lt=a.stateNode,Sn=!1;break e;case 3:lt=a.stateNode.containerInfo,Sn=!0;break e;case 4:lt=a.stateNode.containerInfo,Sn=!0;break e}a=a.return}if(lt===null)throw Error($(160));lx(i,o,s),lt=null,Sn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Ue(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ux(e,t),e=e.sibling}function ux(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wn(e,t),Un(t),r&4){try{Ba(3,t,t.return),xd(3,t)}catch(_){Ue(t,t.return,_)}try{Ba(5,t,t.return)}catch(_){Ue(t,t.return,_)}}break;case 1:wn(e,t),Un(t),r&512&&n!==null&&Yi(n,n.return);break;case 5:if(wn(e,t),Un(t),r&512&&n!==null&&Yi(n,n.return),t.flags&32){var s=t.stateNode;try{Za(s,"")}catch(_){Ue(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&k_(s,i),Af(a,o);var c=Af(a,i);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?M_(s,p):d==="dangerouslySetInnerHTML"?D_(s,p):d==="children"?Za(s,p):nm(s,d,p,c)}switch(a){case"input":Tf(s,i);break;case"textarea":N_(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Ji(s,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ji(s,!!i.multiple,i.defaultValue,!0):Ji(s,!!i.multiple,i.multiple?[]:"",!1))}s[ll]=i}catch(_){Ue(t,t.return,_)}}break;case 6:if(wn(e,t),Un(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Ue(t,t.return,_)}}break;case 3:if(wn(e,t),Un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rl(e.containerInfo)}catch(_){Ue(t,t.return,_)}break;case 4:wn(e,t),Un(t);break;case 13:wn(e,t),Un(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lm=Be())),r&4&&Xv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(c=bt)||d,wn(e,t),bt=c):wn(e,t),Un(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(G=t,d=t.child;d!==null;){for(p=G=d;G!==null;){switch(h=G,y=h.child,h.tag){case 0:case 11:case 14:case 15:Ba(4,h,h.return);break;case 1:Yi(h,h.return);var E=h.stateNode;if(typeof E.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(_){Ue(r,n,_)}}break;case 5:Yi(h,h.return);break;case 22:if(h.memoizedState!==null){Zv(p);continue}}y!==null?(y.return=h,G=y):Zv(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=L_("display",o))}catch(_){Ue(t,t.return,_)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(_){Ue(t,t.return,_)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:wn(e,t),Un(t),r&4&&Xv(t);break;case 21:break;default:wn(e,t),Un(t)}}function Un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ax(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Za(s,""),r.flags&=-33);var i=Yv(t);sp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Yv(t);rp(t,a,o);break;default:throw Error($(161))}}catch(u){Ue(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nA(t,e,n){G=t,cx(t)}function cx(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ou;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||bt;a=Ou;var c=bt;if(Ou=o,(bt=u)&&!c)for(G=s;G!==null;)o=G,u=o.child,o.tag===22&&o.memoizedState!==null?e0(s):u!==null?(u.return=o,G=u):e0(s);for(;i!==null;)G=i,cx(i),i=i.sibling;G=s,Ou=a,bt=c}Jv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):Jv(t)}}function Jv(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||xd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:En(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Mv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Mv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&rl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}bt||e.flags&512&&np(e)}catch(h){Ue(e,e.return,h)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function Zv(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function e0(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xd(4,e)}catch(u){Ue(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Ue(e,s,u)}}var i=e.return;try{np(e)}catch(u){Ue(e,i,u)}break;case 5:var o=e.return;try{np(e)}catch(u){Ue(e,o,u)}}}catch(u){Ue(e,e.return,u)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var rA=Math.ceil,Fc=Or.ReactCurrentDispatcher,Om=Or.ReactCurrentOwner,hn=Or.ReactCurrentBatchConfig,me=0,ot=null,Ke=null,dt=0,Jt=0,Xi=js(0),et=0,pl=null,fi=0,Td=0,Dm=0,Wa=null,zt=null,Lm=0,Co=1/0,dr=null,Uc=!1,ip=null,_s=null,Du=!1,hs=null,zc=0,qa=0,op=null,ic=-1,oc=0;function Mt(){return me&6?Be():ic!==-1?ic:ic=Be()}function Es(t){return t.mode&1?me&2&&dt!==0?dt&-dt:Ub.transition!==null?(oc===0&&(oc=K_()),oc):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:tE(t.type)),t):1}function An(t,e,n,r){if(50<qa)throw qa=0,op=null,Error($(185));Ll(t,n,r),(!(me&2)||t!==ot)&&(t===ot&&(!(me&2)&&(Td|=n),et===4&&ts(t,dt)),Ht(t,r),n===1&&me===0&&!(e.mode&1)&&(Co=Be()+500,wd&&Fs()))}function Ht(t,e){var n=t.callbackNode;UC(t,e);var r=Sc(t,t===ot?dt:0);if(r===0)n!==null&&uv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&uv(n),e===1)t.tag===0?Fb(t0.bind(null,t)):_E(t0.bind(null,t)),Lb(function(){!(me&6)&&Fs()}),n=null;else{switch(G_(r)){case 1:n=am;break;case 4:n=H_;break;case 16:n=Tc;break;case 536870912:n=Q_;break;default:n=Tc}n=vx(n,dx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dx(t,e){if(ic=-1,oc=0,me&6)throw Error($(327));var n=t.callbackNode;if(ro()&&t.callbackNode!==n)return null;var r=Sc(t,t===ot?dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$c(t,r);else{e=r;var s=me;me|=2;var i=fx();(ot!==t||dt!==e)&&(dr=null,Co=Be()+500,ai(t,e));do try{oA();break}catch(a){hx(t,a)}while(!0);_m(),Fc.current=i,me=s,Ke!==null?e=0:(ot=null,dt=0,e=et)}if(e!==0){if(e===2&&(s=Of(t),s!==0&&(r=s,e=ap(t,s))),e===1)throw n=pl,ai(t,0),ts(t,r),Ht(t,Be()),n;if(e===6)ts(t,r);else{if(s=t.current.alternate,!(r&30)&&!sA(s)&&(e=$c(t,r),e===2&&(i=Of(t),i!==0&&(r=i,e=ap(t,i))),e===1))throw n=pl,ai(t,0),ts(t,r),Ht(t,Be()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Ys(t,zt,dr);break;case 3:if(ts(t,r),(r&130023424)===r&&(e=Lm+500-Be(),10<e)){if(Sc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=zf(Ys.bind(null,t,zt,dr),e);break}Ys(t,zt,dr);break;case 4:if(ts(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-bn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rA(r/1960))-r,10<r){t.timeoutHandle=zf(Ys.bind(null,t,zt,dr),r);break}Ys(t,zt,dr);break;case 5:Ys(t,zt,dr);break;default:throw Error($(329))}}}return Ht(t,Be()),t.callbackNode===n?dx.bind(null,t):null}function ap(t,e){var n=Wa;return t.current.memoizedState.isDehydrated&&(ai(t,e).flags|=256),t=$c(t,e),t!==2&&(e=zt,zt=n,e!==null&&lp(e)),t}function lp(t){zt===null?zt=t:zt.push.apply(zt,t)}function sA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Rn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ts(t,e){for(e&=~Dm,e&=~Td,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bn(e),r=1<<n;t[n]=-1,e&=~r}}function t0(t){if(me&6)throw Error($(327));ro();var e=Sc(t,0);if(!(e&1))return Ht(t,Be()),null;var n=$c(t,e);if(t.tag!==0&&n===2){var r=Of(t);r!==0&&(e=r,n=ap(t,r))}if(n===1)throw n=pl,ai(t,0),ts(t,e),Ht(t,Be()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ys(t,zt,dr),Ht(t,Be()),null}function Mm(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(Co=Be()+500,wd&&Fs())}}function pi(t){hs!==null&&hs.tag===0&&!(me&6)&&ro();var e=me;me|=1;var n=hn.transition,r=Ee;try{if(hn.transition=null,Ee=1,t)return t()}finally{Ee=r,hn.transition=n,me=e,!(me&6)&&Fs()}}function Vm(){Jt=Xi.current,ke(Xi)}function ai(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Db(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(ym(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pc();break;case 3:So(),ke(Wt),ke(Pt),Cm();break;case 5:Im(r);break;case 4:So();break;case 13:ke(Oe);break;case 19:ke(Oe);break;case 10:Em(r.type._context);break;case 22:case 23:Vm()}n=n.return}if(ot=t,Ke=t=xs(t.current,null),dt=Jt=e,et=0,pl=null,Dm=Td=fi=0,zt=Wa=null,Zs!==null){for(e=0;e<Zs.length;e++)if(n=Zs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Zs=null}return t}function hx(t,e){do{var n=Ke;try{if(_m(),nc.current=jc,Vc){for(var r=De.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vc=!1}if(hi=0,rt=Je=De=null,$a=!1,dl=0,Om.current=null,n===null||n.return===null){et=1,pl=e,Ke=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=dt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=$v(o);if(y!==null){y.flags&=-257,Bv(y,o,a,i,e),y.mode&1&&zv(i,c,e),e=y,u=c;var E=e.updateQueue;if(E===null){var _=new Set;_.add(u),e.updateQueue=_}else E.add(u);break e}else{if(!(e&1)){zv(i,c,e),jm();break e}u=Error($(426))}}else if(Ne&&a.mode&1){var x=$v(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Bv(x,o,a,i,e),vm(Io(u,a));break e}}i=u=Io(u,a),et!==4&&(et=2),Wa===null?Wa=[i]:Wa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=GE(i,u,e);Lv(i,w);break e;case 1:a=u;var v=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(_s===null||!_s.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=YE(i,a,e);Lv(i,N);break e}}i=i.return}while(i!==null)}mx(n)}catch(D){e=D,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function fx(){var t=Fc.current;return Fc.current=jc,t===null?jc:t}function jm(){(et===0||et===3||et===2)&&(et=4),ot===null||!(fi&268435455)&&!(Td&268435455)||ts(ot,dt)}function $c(t,e){var n=me;me|=2;var r=fx();(ot!==t||dt!==e)&&(dr=null,ai(t,e));do try{iA();break}catch(s){hx(t,s)}while(!0);if(_m(),me=n,Fc.current=r,Ke!==null)throw Error($(261));return ot=null,dt=0,et}function iA(){for(;Ke!==null;)px(Ke)}function oA(){for(;Ke!==null&&!kC();)px(Ke)}function px(t){var e=yx(t.alternate,t,Jt);t.memoizedProps=t.pendingProps,e===null?mx(t):Ke=e,Om.current=null}function mx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Zb(n,e),n!==null){n.flags&=32767,Ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Ke=null;return}}else if(n=Jb(n,e,Jt),n!==null){Ke=n;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);et===0&&(et=5)}function Ys(t,e,n){var r=Ee,s=hn.transition;try{hn.transition=null,Ee=1,aA(t,e,n,r)}finally{hn.transition=s,Ee=r}return null}function aA(t,e,n,r){do ro();while(hs!==null);if(me&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(zC(t,i),t===ot&&(Ke=ot=null,dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Du||(Du=!0,vx(Tc,function(){return ro(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=hn.transition,hn.transition=null;var o=Ee;Ee=1;var a=me;me|=4,Om.current=null,tA(t,n),ux(n,t),bb(Ff),Ic=!!jf,Ff=jf=null,t.current=n,nA(n),NC(),me=a,Ee=o,hn.transition=i}else t.current=n;if(Du&&(Du=!1,hs=t,zc=s),i=t.pendingLanes,i===0&&(_s=null),LC(n.stateNode),Ht(t,Be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Uc)throw Uc=!1,t=ip,ip=null,t;return zc&1&&t.tag!==0&&ro(),i=t.pendingLanes,i&1?t===op?qa++:(qa=0,op=t):qa=0,Fs(),null}function ro(){if(hs!==null){var t=G_(zc),e=hn.transition,n=Ee;try{if(hn.transition=null,Ee=16>t?16:t,hs===null)var r=!1;else{if(t=hs,hs=null,zc=0,me&6)throw Error($(331));var s=me;for(me|=4,G=t.current;G!==null;){var i=G,o=i.child;if(G.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(G=c;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:Ba(8,d,i)}var p=d.child;if(p!==null)p.return=d,G=p;else for(;G!==null;){d=G;var h=d.sibling,y=d.return;if(ox(d),d===c){G=null;break}if(h!==null){h.return=y,G=h;break}G=y}}}var E=i.alternate;if(E!==null){var _=E.child;if(_!==null){E.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}G=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,G=o;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ba(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,G=w;break e}G=i.return}}var v=t.current;for(G=v;G!==null;){o=G;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,G=S;else e:for(o=v;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xd(9,a)}}catch(D){Ue(a,a.return,D)}if(a===o){G=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,G=N;break e}G=a.return}}if(me=s,Fs(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(pd,t)}catch{}r=!0}return r}finally{Ee=n,hn.transition=e}}return!1}function n0(t,e,n){e=Io(n,e),e=GE(t,e,1),t=ws(t,e,1),e=Mt(),t!==null&&(Ll(t,1,e),Ht(t,e))}function Ue(t,e,n){if(t.tag===3)n0(t,t,n);else for(;e!==null;){if(e.tag===3){n0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_s===null||!_s.has(r))){t=Io(n,t),t=YE(e,t,1),e=ws(e,t,1),t=Mt(),e!==null&&(Ll(e,1,t),Ht(e,t));break}}e=e.return}}function lA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(dt&n)===n&&(et===4||et===3&&(dt&130023424)===dt&&500>Be()-Lm?ai(t,0):Dm|=n),Ht(t,e)}function gx(t,e){e===0&&(t.mode&1?(e=Su,Su<<=1,!(Su&130023424)&&(Su=4194304)):e=1);var n=Mt();t=Sr(t,e),t!==null&&(Ll(t,e,n),Ht(t,n))}function uA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gx(t,n)}function cA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),gx(t,n)}var yx;yx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,Xb(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,Ne&&e.flags&1048576&&EE(e,Nc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sc(t,e),t=e.pendingProps;var s=Eo(e,Pt.current);no(e,n),s=Am(null,e,r,t,s,n);var i=Pm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qt(r)?(i=!0,Rc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Tm(e),s.updater=Ed,e.stateNode=s,s._reactInternals=e,Kf(e,r,t,n),e=Xf(null,e,r,!0,i,n)):(e.tag=0,Ne&&i&&gm(e),Ot(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=hA(r),t=En(r,t),s){case 0:e=Yf(null,e,r,t,n);break e;case 1:e=Hv(null,e,r,t,n);break e;case 11:e=Wv(null,e,r,t,n);break e;case 14:e=qv(null,e,r,En(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),Yf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),Hv(t,e,r,s,n);case 3:e:{if(ex(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,bE(t,e),Lc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Io(Error($(423)),e),e=Qv(t,e,r,n,s);break e}else if(r!==s){s=Io(Error($(424)),e),e=Qv(t,e,r,n,s);break e}else for(en=vs(e.stateNode.containerInfo.firstChild),nn=e,Ne=!0,In=null,n=IE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xo(),r===s){e=Ir(t,e,n);break e}Ot(t,e,r,n)}e=e.child}return e;case 5:return AE(e),t===null&&qf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Uf(r,s)?o=null:i!==null&&Uf(r,i)&&(e.flags|=32),ZE(t,e),Ot(t,e,o,n),e.child;case 6:return t===null&&qf(e),null;case 13:return tx(t,e,n);case 4:return Sm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=To(e,null,r,n):Ot(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),Wv(t,e,r,s,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ie(Oc,r._currentValue),r._currentValue=o,i!==null)if(Rn(i.value,o)){if(i.children===s.children&&!Wt.current){e=Ir(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=wr(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Hf(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Hf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ot(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,no(e,n),s=fn(s),r=r(s),e.flags|=1,Ot(t,e,r,n),e.child;case 14:return r=e.type,s=En(r,e.pendingProps),s=En(r.type,s),qv(t,e,r,s,n);case 15:return XE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),sc(t,e),e.tag=1,qt(r)?(t=!0,Rc(e)):t=!1,no(e,n),KE(e,r,s),Kf(e,r,s,n),Xf(null,e,r,!0,t,n);case 19:return nx(t,e,n);case 22:return JE(t,e,n)}throw Error($(156,e.tag))};function vx(t,e){return q_(t,e)}function dA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,n,r){return new dA(t,e,n,r)}function Fm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hA(t){if(typeof t=="function")return Fm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sm)return 11;if(t===im)return 14}return 2}function xs(t,e){var n=t.alternate;return n===null?(n=dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ac(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Fm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zi:return li(n.children,s,i,e);case rm:o=8,s|=8;break;case vf:return t=dn(12,n,e,s|2),t.elementType=vf,t.lanes=i,t;case wf:return t=dn(13,n,e,s),t.elementType=wf,t.lanes=i,t;case _f:return t=dn(19,n,e,s),t.elementType=_f,t.lanes=i,t;case A_:return Sd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C_:o=10;break e;case b_:o=9;break e;case sm:o=11;break e;case im:o=14;break e;case Jr:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=dn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function li(t,e,n,r){return t=dn(7,t,r,e),t.lanes=n,t}function Sd(t,e,n,r){return t=dn(22,t,r,e),t.elementType=A_,t.lanes=n,t.stateNode={isHidden:!1},t}function Qh(t,e,n){return t=dn(6,t,null,e),t.lanes=n,t}function Kh(t,e,n){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ah(0),this.expirationTimes=Ah(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ah(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Um(t,e,n,r,s,i,o,a,u){return t=new fA(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=dn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tm(i),t}function pA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wx(t){if(!t)return Ps;t=t._reactInternals;e:{if(Si(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(qt(n))return wE(t,n,e)}return e}function _x(t,e,n,r,s,i,o,a,u){return t=Um(n,r,!0,t,s,i,o,a,u),t.context=wx(null),n=t.current,r=Mt(),s=Es(n),i=wr(r,s),i.callback=e??null,ws(n,i,s),t.current.lanes=s,Ll(t,s,r),Ht(t,r),t}function Id(t,e,n,r){var s=e.current,i=Mt(),o=Es(s);return n=wx(n),e.context===null?e.context=n:e.pendingContext=n,e=wr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ws(s,e,o),t!==null&&(An(t,s,o,i),tc(t,s,o)),o}function Bc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function r0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zm(t,e){r0(t,e),(t=t.alternate)&&r0(t,e)}function mA(){return null}var Ex=typeof reportError=="function"?reportError:function(t){console.error(t)};function $m(t){this._internalRoot=t}Cd.prototype.render=$m.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Id(t,e,null,null)};Cd.prototype.unmount=$m.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pi(function(){Id(null,t,null,null)}),e[Tr]=null}};function Cd(t){this._internalRoot=t}Cd.prototype.unstable_scheduleHydration=function(t){if(t){var e=J_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<es.length&&e!==0&&e<es[n].priority;n++);es.splice(n,0,t),n===0&&eE(t)}};function Bm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function s0(){}function gA(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Bc(o);i.call(c)}}var o=_x(e,r,t,0,null,!1,!1,"",s0);return t._reactRootContainer=o,t[Tr]=o.current,ol(t.nodeType===8?t.parentNode:t),pi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Bc(u);a.call(c)}}var u=Um(t,0,!1,null,null,!1,!1,"",s0);return t._reactRootContainer=u,t[Tr]=u.current,ol(t.nodeType===8?t.parentNode:t),pi(function(){Id(e,u,n,r)}),u}function Ad(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Bc(o);a.call(u)}}Id(e,o,t,s)}else o=gA(n,e,t,s,r);return Bc(o)}Y_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Aa(e.pendingLanes);n!==0&&(lm(e,n|1),Ht(e,Be()),!(me&6)&&(Co=Be()+500,Fs()))}break;case 13:pi(function(){var r=Sr(t,1);if(r!==null){var s=Mt();An(r,t,1,s)}}),zm(t,1)}};um=function(t){if(t.tag===13){var e=Sr(t,134217728);if(e!==null){var n=Mt();An(e,t,134217728,n)}zm(t,134217728)}};X_=function(t){if(t.tag===13){var e=Es(t),n=Sr(t,e);if(n!==null){var r=Mt();An(n,t,e,r)}zm(t,e)}};J_=function(){return Ee};Z_=function(t,e){var n=Ee;try{return Ee=t,e()}finally{Ee=n}};Rf=function(t,e,n){switch(e){case"input":if(Tf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=vd(r);if(!s)throw Error($(90));R_(r),Tf(r,s)}}}break;case"textarea":N_(t,n);break;case"select":e=n.value,e!=null&&Ji(t,!!n.multiple,e,!1)}};F_=Mm;U_=pi;var yA={usingClientEntryPoint:!1,Events:[Vl,qi,vd,V_,j_,Mm]},xa={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vA={bundleType:xa.bundleType,version:xa.version,rendererPackageName:xa.rendererPackageName,rendererConfig:xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=B_(t),t===null?null:t.stateNode},findFiberByHostInstance:xa.findFiberByHostInstance||mA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{pd=Lu.inject(vA),Hn=Lu}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yA;on.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bm(e))throw Error($(200));return pA(t,e,null,n)};on.createRoot=function(t,e){if(!Bm(t))throw Error($(299));var n=!1,r="",s=Ex;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Um(t,1,!1,null,null,n,!1,r,s),t[Tr]=e.current,ol(t.nodeType===8?t.parentNode:t),new $m(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=B_(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return pi(t)};on.hydrate=function(t,e,n){if(!bd(e))throw Error($(200));return Ad(null,t,e,!0,n)};on.hydrateRoot=function(t,e,n){if(!Bm(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ex;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=_x(e,null,t,1,n??null,s,!1,i,o),t[Tr]=e.current,ol(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Cd(e)};on.render=function(t,e,n){if(!bd(e))throw Error($(200));return Ad(null,t,e,!1,n)};on.unmountComponentAtNode=function(t){if(!bd(t))throw Error($(40));return t._reactRootContainer?(pi(function(){Ad(null,null,t,!1,function(){t._reactRootContainer=null,t[Tr]=null})}),!0):!1};on.unstable_batchedUpdates=Mm;on.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bd(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Ad(t,e,n,!1,r)};on.version="18.3.1-next-f1338f8080-20240426";function xx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xx)}catch(t){console.error(t)}}xx(),x_.exports=on;var Fl=x_.exports;const Tx=c_(Fl);var Sx,i0=Fl;Sx=i0.createRoot,i0.hydrateRoot;const wA=1,_A=1e6;let Gh=0;function EA(){return Gh=(Gh+1)%Number.MAX_SAFE_INTEGER,Gh.toString()}const Yh=new Map,o0=t=>{if(Yh.has(t))return;const e=setTimeout(()=>{Yh.delete(t),Ha({type:"REMOVE_TOAST",toastId:t})},_A);Yh.set(t,e)},xA=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,wA)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?o0(n):t.toasts.forEach(r=>{o0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},lc=[];let uc={toasts:[]};function Ha(t){uc=xA(uc,t),lc.forEach(e=>{e(uc)})}function TA({...t}){const e=EA(),n=s=>Ha({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ha({type:"DISMISS_TOAST",toastId:e});return Ha({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Pd(){const[t,e]=I.useState(uc);return I.useEffect(()=>(lc.push(e),()=>{const n=lc.indexOf(e);n>-1&&lc.splice(n,1)}),[t]),{...t,toast:TA,dismiss:n=>Ha({type:"DISMISS_TOAST",toastId:n})}}function Ze(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function SA(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Ix(...t){return e=>t.forEach(n=>SA(n,e))}function kn(...t){return I.useCallback(Ix(...t),t)}function IA(t,e=[]){let n=[];function r(i,o){const a=I.createContext(o),u=n.length;n=[...n,o];function c(p){const{scope:h,children:y,...E}=p,_=(h==null?void 0:h[t][u])||a,x=I.useMemo(()=>E,Object.values(E));return g.jsx(_.Provider,{value:x,children:y})}function d(p,h){const y=(h==null?void 0:h[t][u])||a,E=I.useContext(y);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>I.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return I.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,CA(s,...e)]}function CA(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const p=u(i)[`__scope${c}`];return{...a,...p}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Wc=I.forwardRef((t,e)=>{const{children:n,...r}=t,s=I.Children.toArray(n),i=s.find(bA);if(i){const o=i.props.children,a=s.map(u=>u===i?I.Children.count(o)>1?I.Children.only(null):I.isValidElement(o)?o.props.children:null:u);return g.jsx(up,{...r,ref:e,children:I.isValidElement(o)?I.cloneElement(o,void 0,a):null})}return g.jsx(up,{...r,ref:e,children:n})});Wc.displayName="Slot";var up=I.forwardRef((t,e)=>{const{children:n,...r}=t;if(I.isValidElement(n)){const s=PA(n);return I.cloneElement(n,{...AA(r,n.props),ref:e?Ix(e,s):s})}return I.Children.count(n)>1?I.Children.only(null):null});up.displayName="SlotClone";var Cx=({children:t})=>g.jsx(g.Fragment,{children:t});function bA(t){return I.isValidElement(t)&&t.type===Cx}function AA(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function PA(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function RA(t){const e=t+"CollectionProvider",[n,r]=IA(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:E,children:_}=y,x=H.useRef(null),w=H.useRef(new Map).current;return g.jsx(s,{scope:E,itemMap:w,collectionRef:x,children:_})};o.displayName=e;const a=t+"CollectionSlot",u=H.forwardRef((y,E)=>{const{scope:_,children:x}=y,w=i(a,_),v=kn(E,w.collectionRef);return g.jsx(Wc,{ref:v,children:x})});u.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",p=H.forwardRef((y,E)=>{const{scope:_,children:x,...w}=y,v=H.useRef(null),S=kn(E,v),N=i(c,_);return H.useEffect(()=>(N.itemMap.set(v,{ref:v,...w}),()=>void N.itemMap.delete(v))),g.jsx(Wc,{[d]:"",ref:S,children:x})});p.displayName=c;function h(y){const E=i(t+"CollectionConsumer",y);return H.useCallback(()=>{const x=E.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(E.itemMap.values()).sort((N,D)=>w.indexOf(N.ref.current)-w.indexOf(D.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},h,r]}function bx(t,e=[]){let n=[];function r(i,o){const a=I.createContext(o),u=n.length;n=[...n,o];const c=p=>{var w;const{scope:h,children:y,...E}=p,_=((w=h==null?void 0:h[t])==null?void 0:w[u])||a,x=I.useMemo(()=>E,Object.values(E));return g.jsx(_.Provider,{value:x,children:y})};c.displayName=i+"Provider";function d(p,h){var _;const y=((_=h==null?void 0:h[t])==null?void 0:_[u])||a,E=I.useContext(y);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>I.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return I.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,kA(s,...e)]}function kA(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const p=u(i)[`__scope${c}`];return{...a,...p}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var NA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Qt=NA.reduce((t,e)=>{const n=I.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Wc:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Ax(t,e){t&&Fl.flushSync(()=>t.dispatchEvent(e))}function Jn(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),I.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function OA(t,e=globalThis==null?void 0:globalThis.document){const n=Jn(t);I.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var DA="DismissableLayer",cp="dismissableLayer.update",LA="dismissableLayer.pointerDownOutside",MA="dismissableLayer.focusOutside",a0,Px=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wm=I.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...u}=t,c=I.useContext(Px),[d,p]=I.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=I.useState({}),E=kn(e,b=>p(b)),_=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=_.indexOf(x),v=d?_.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,N=v>=w,D=jA(b=>{const T=b.target,A=[...c.branches].some(P=>P.contains(T));!N||A||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},h),M=FA(b=>{const T=b.target;[...c.branches].some(P=>P.contains(T))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},h);return OA(b=>{v===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},h),I.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(a0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),l0(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=a0)}},[d,h,n,c]),I.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),l0())},[d,c]),I.useEffect(()=>{const b=()=>y({});return document.addEventListener(cp,b),()=>document.removeEventListener(cp,b)},[]),g.jsx(Qt.div,{...u,ref:E,style:{pointerEvents:S?N?"auto":"none":void 0,...t.style},onFocusCapture:Ze(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Ze(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ze(t.onPointerDownCapture,D.onPointerDownCapture)})});Wm.displayName=DA;var VA="DismissableLayerBranch",Rx=I.forwardRef((t,e)=>{const n=I.useContext(Px),r=I.useRef(null),s=kn(e,r);return I.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),g.jsx(Qt.div,{...t,ref:s})});Rx.displayName=VA;function jA(t,e=globalThis==null?void 0:globalThis.document){const n=Jn(t),r=I.useRef(!1),s=I.useRef(()=>{});return I.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let u=function(){kx(LA,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function FA(t,e=globalThis==null?void 0:globalThis.document){const n=Jn(t),r=I.useRef(!1);return I.useEffect(()=>{const s=i=>{i.target&&!r.current&&kx(MA,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function l0(){const t=new CustomEvent(cp);document.dispatchEvent(t)}function kx(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Ax(s,i):s.dispatchEvent(i)}var UA=Wm,zA=Rx,mi=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},$A="Portal",Nx=I.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=I.useState(!1);mi(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Tx.createPortal(g.jsx(Qt.div,{...r,ref:e}),o):null});Nx.displayName=$A;function BA(t,e){return I.useReducer((n,r)=>e[n][r]??n,t)}var qm=t=>{const{present:e,children:n}=t,r=WA(e),s=typeof n=="function"?n({present:r.isPresent}):I.Children.only(n),i=kn(r.ref,qA(s));return typeof n=="function"||r.isPresent?I.cloneElement(s,{ref:i}):null};qm.displayName="Presence";function WA(t){const[e,n]=I.useState(),r=I.useRef({}),s=I.useRef(t),i=I.useRef("none"),o=t?"mounted":"unmounted",[a,u]=BA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const c=Mu(r.current);i.current=a==="mounted"?c:"none"},[a]),mi(()=>{const c=r.current,d=s.current;if(d!==t){const h=i.current,y=Mu(c);t?u("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&h!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),mi(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,p=y=>{const _=Mu(r.current).includes(y.animationName);if(y.target===e&&_&&(u("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=y=>{y.target===e&&(i.current=Mu(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:I.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Mu(t){return(t==null?void 0:t.animationName)||"none"}function qA(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function HA({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=QA({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Jn(n),u=I.useCallback(c=>{if(i){const p=typeof c=="function"?c(t):c;p!==t&&a(p)}else s(c)},[i,t,s,a]);return[o,u]}function QA({defaultProp:t,onChange:e}){const n=I.useState(t),[r]=n,s=I.useRef(r),i=Jn(e);return I.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var KA="VisuallyHidden",Rd=I.forwardRef((t,e)=>g.jsx(Qt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Rd.displayName=KA;var GA=Rd,Hm="ToastProvider",[Qm,YA,XA]=RA("Toast"),[Ox,J4]=bx("Toast",[XA]),[JA,kd]=Ox(Hm),Dx=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,u]=I.useState(null),[c,d]=I.useState(0),p=I.useRef(!1),h=I.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Hm}\`. Expected non-empty \`string\`.`),g.jsx(Qm.Provider,{scope:e,children:g.jsx(JA,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:u,onToastAdd:I.useCallback(()=>d(y=>y+1),[]),onToastRemove:I.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:h,children:o})})};Dx.displayName=Hm;var Lx="ToastViewport",ZA=["F8"],dp="toast.viewportPause",hp="toast.viewportResume",Mx=I.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=ZA,label:s="Notifications ({hotkey})",...i}=t,o=kd(Lx,n),a=YA(n),u=I.useRef(null),c=I.useRef(null),d=I.useRef(null),p=I.useRef(null),h=kn(e,p,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=o.toastCount>0;I.useEffect(()=>{const x=w=>{var S;r.length!==0&&r.every(N=>w[N]||w.code===N)&&((S=p.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),I.useEffect(()=>{const x=u.current,w=p.current;if(E&&x&&w){const v=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(dp);w.dispatchEvent(M),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(hp);w.dispatchEvent(M),o.isClosePausedRef.current=!1}},N=M=>{!x.contains(M.relatedTarget)&&S()},D=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",v),x.addEventListener("focusout",N),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",D),window.addEventListener("blur",v),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",N),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",D),window.removeEventListener("blur",v),window.removeEventListener("focus",S)}}},[E,o.isClosePausedRef]);const _=I.useCallback(({tabbingDirection:x})=>{const v=a().map(S=>{const N=S.ref.current,D=[N,...hP(N)];return x==="forwards"?D:D.reverse()});return(x==="forwards"?v.reverse():v).flat()},[a]);return I.useEffect(()=>{const x=p.current;if(x){const w=v=>{var D,M,b;const S=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!S){const T=document.activeElement,A=v.shiftKey;if(v.target===x&&A){(D=c.current)==null||D.focus();return}const O=_({tabbingDirection:A?"backwards":"forwards"}),R=O.findIndex(W=>W===T);Xh(O.slice(R+1))?v.preventDefault():A?(M=c.current)==null||M.focus():(b=d.current)==null||b.focus()}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[a,_]),g.jsxs(zA,{ref:u,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&g.jsx(fp,{ref:c,onFocusFromOutsideViewport:()=>{const x=_({tabbingDirection:"forwards"});Xh(x)}}),g.jsx(Qm.Slot,{scope:n,children:g.jsx(Qt.ol,{tabIndex:-1,...i,ref:h})}),E&&g.jsx(fp,{ref:d,onFocusFromOutsideViewport:()=>{const x=_({tabbingDirection:"backwards"});Xh(x)}})]})});Mx.displayName=Lx;var Vx="ToastFocusProxy",fp=I.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=kd(Vx,n);return g.jsx(Rd,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});fp.displayName=Vx;var Nd="Toast",eP="toast.swipeStart",tP="toast.swipeMove",nP="toast.swipeCancel",rP="toast.swipeEnd",jx=I.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,u]=HA({prop:r,defaultProp:s,onChange:i});return g.jsx(qm,{present:n||a,children:g.jsx(oP,{open:a,...o,ref:e,onClose:()=>u(!1),onPause:Jn(t.onPause),onResume:Jn(t.onResume),onSwipeStart:Ze(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ze(t.onSwipeMove,c=>{const{x:d,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Ze(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ze(t.onSwipeEnd,c=>{const{x:d,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});jx.displayName=Nd;var[sP,iP]=Ox(Nd,{onClose(){}}),oP=I.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:h,onSwipeEnd:y,...E}=t,_=kd(Nd,n),[x,w]=I.useState(null),v=kn(e,W=>w(W)),S=I.useRef(null),N=I.useRef(null),D=s||_.duration,M=I.useRef(0),b=I.useRef(D),T=I.useRef(0),{onToastAdd:A,onToastRemove:P}=_,k=Jn(()=>{var re;(x==null?void 0:x.contains(document.activeElement))&&((re=_.viewport)==null||re.focus()),o()}),O=I.useCallback(W=>{!W||W===1/0||(window.clearTimeout(T.current),M.current=new Date().getTime(),T.current=window.setTimeout(k,W))},[k]);I.useEffect(()=>{const W=_.viewport;if(W){const re=()=>{O(b.current),c==null||c()},te=()=>{const ie=new Date().getTime()-M.current;b.current=b.current-ie,window.clearTimeout(T.current),u==null||u()};return W.addEventListener(dp,te),W.addEventListener(hp,re),()=>{W.removeEventListener(dp,te),W.removeEventListener(hp,re)}}},[_.viewport,D,u,c,O]),I.useEffect(()=>{i&&!_.isClosePausedRef.current&&O(D)},[i,D,_.isClosePausedRef,O]),I.useEffect(()=>(A(),()=>P()),[A,P]);const R=I.useMemo(()=>x?qx(x):null,[x]);return _.viewport?g.jsxs(g.Fragment,{children:[R&&g.jsx(aP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),g.jsx(sP,{scope:n,onClose:k,children:Fl.createPortal(g.jsx(Qm.ItemSlot,{scope:n,children:g.jsx(UA,{asChild:!0,onEscapeKeyDown:Ze(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||k(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(Qt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...E,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ze(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Ze(t.onPointerDown,W=>{W.button===0&&(S.current={x:W.clientX,y:W.clientY})}),onPointerMove:Ze(t.onPointerMove,W=>{if(!S.current)return;const re=W.clientX-S.current.x,te=W.clientY-S.current.y,ie=!!N.current,V=["left","right"].includes(_.swipeDirection),B=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,Y=V?B(0,re):0,K=V?0:B(0,te),J=W.pointerType==="touch"?10:2,ee={x:Y,y:K},Ce={originalEvent:W,delta:ee};ie?(N.current=ee,Vu(tP,p,Ce,{discrete:!1})):u0(ee,_.swipeDirection,J)?(N.current=ee,Vu(eP,d,Ce,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(re)>J||Math.abs(te)>J)&&(S.current=null)}),onPointerUp:Ze(t.onPointerUp,W=>{const re=N.current,te=W.target;if(te.hasPointerCapture(W.pointerId)&&te.releasePointerCapture(W.pointerId),N.current=null,S.current=null,re){const ie=W.currentTarget,V={originalEvent:W,delta:re};u0(re,_.swipeDirection,_.swipeThreshold)?Vu(rP,y,V,{discrete:!0}):Vu(nP,h,V,{discrete:!0}),ie.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),aP=t=>{const{__scopeToast:e,children:n,...r}=t,s=kd(Nd,e),[i,o]=I.useState(!1),[a,u]=I.useState(!1);return cP(()=>o(!0)),I.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:g.jsx(Nx,{asChild:!0,children:g.jsx(Rd,{...r,children:i&&g.jsxs(g.Fragment,{children:[s.label," ",n]})})})},lP="ToastTitle",Fx=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Qt.div,{...r,ref:e})});Fx.displayName=lP;var uP="ToastDescription",Ux=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Qt.div,{...r,ref:e})});Ux.displayName=uP;var zx="ToastAction",$x=I.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?g.jsx(Wx,{altText:n,asChild:!0,children:g.jsx(Km,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${zx}\`. Expected non-empty \`string\`.`),null)});$x.displayName=zx;var Bx="ToastClose",Km=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=iP(Bx,n);return g.jsx(Wx,{asChild:!0,children:g.jsx(Qt.button,{type:"button",...r,ref:e,onClick:Ze(t.onClick,s.onClose)})})});Km.displayName=Bx;var Wx=I.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return g.jsx(Qt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function qx(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),dP(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...qx(r))}}),e}function Vu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Ax(s,i):s.dispatchEvent(i)}var u0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function cP(t=()=>{}){const e=Jn(t);mi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function dP(t){return t.nodeType===t.ELEMENT_NODE}function hP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Xh(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var fP=Dx,Hx=Mx,Qx=jx,Kx=Fx,Gx=Ux,Yx=$x,Xx=Km;function Jx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Jx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Zx(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Jx(t))&&(r&&(r+=" "),r+=e);return r}const c0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,d0=Zx,pP=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return d0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],p=i==null?void 0:i[c];if(d===null)return null;const h=c0(d)||c0(p);return s[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[p,h]=d;return h===void 0||(c[p]=h),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:p,className:h,...y}=d;return Object.entries(y).every(E=>{let[_,x]=E;return Array.isArray(x)?x.includes({...i,...a}[_]):{...i,...a}[_]===x})?[...c,p,h]:c},[]);return d0(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},u)=>I.createElement("svg",{ref:u,...gP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:eT("lucide",s),...a},[...o.map(([c,d])=>I.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=(t,e)=>{const n=I.forwardRef(({className:r,...s},i)=>I.createElement(yP,{ref:i,iconNode:e,className:eT(`lucide-${mP(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=Ii("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=Ii("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=Ii("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Ii("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=Ii("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=Ii("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=Ii("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Gm="-",xP=t=>{const e=SP(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Gm);return a[0]===""&&a.length!==1&&a.shift(),sT(a,e)||TP(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},sT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?sT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Gm);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},h0=/^\[(.+)\]$/,TP=t=>{if(h0.test(t)){const e=h0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},SP=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return CP(Object.entries(t.classGroups),n).forEach(([i,o])=>{pp(o,r,i,e)}),r},pp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:f0(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(IP(s)){pp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{pp(o,f0(e,i),n,r)})})},f0=(t,e)=>{let n=t;return e.split(Gm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},IP=t=>t.isThemeGetter,CP=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,bP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},iT="!",AP=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const u=[];let c=0,d=0,p;for(let x=0;x<a.length;x++){let w=a[x];if(c===0){if(w===s&&(r||a.slice(x,x+i)===e)){u.push(a.slice(d,x)),d=x+i;continue}if(w==="/"){p=x;continue}}w==="["?c++:w==="]"&&c--}const h=u.length===0?a:a.substring(d),y=h.startsWith(iT),E=y?h.substring(1):h,_=p&&p>d?p-d:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:E,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},PP=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},RP=t=>({cache:bP(t.cacheSize),parseClassName:AP(t),...xP(t)}),kP=/\s+/,NP=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(kP);let a="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:d,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:y}=n(c);let E=!!y,_=r(E?h.substring(0,y):h);if(!_){if(!E){a=c+(a.length>0?" "+a:a);continue}if(_=r(h),!_){a=c+(a.length>0?" "+a:a);continue}E=!1}const x=PP(d).join(":"),w=p?x+iT:x,v=w+_;if(i.includes(v))continue;i.push(v);const S=s(_,E);for(let N=0;N<S.length;++N){const D=S[N];i.push(w+D)}a=c+(a.length>0?" "+a:a)}return a};function OP(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=oT(e))&&(r&&(r+=" "),r+=n);return r}const oT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=oT(t[r]))&&(n&&(n+=" "),n+=e);return n};function DP(t,...e){let n,r,s,i=o;function o(u){const c=e.reduce((d,p)=>p(d),t());return n=RP(c),r=n.cache.get,s=n.cache.set,i=a,a(u)}function a(u){const c=r(u);if(c)return c;const d=NP(u,n);return s(u,d),d}return function(){return i(OP.apply(null,arguments))}}const Ae=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},aT=/^\[(?:([a-z-]+):)?(.+)\]$/i,LP=/^\d+\/\d+$/,MP=new Set(["px","full","screen"]),VP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,UP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ur=t=>so(t)||MP.has(t)||LP.test(t),Kr=t=>zo(t,"length",GP),so=t=>!!t&&!Number.isNaN(Number(t)),Jh=t=>zo(t,"number",so),Ta=t=>!!t&&Number.isInteger(Number(t)),$P=t=>t.endsWith("%")&&so(t.slice(0,-1)),ue=t=>aT.test(t),Gr=t=>VP.test(t),BP=new Set(["length","size","percentage"]),WP=t=>zo(t,BP,lT),qP=t=>zo(t,"position",lT),HP=new Set(["image","url"]),QP=t=>zo(t,HP,XP),KP=t=>zo(t,"",YP),Sa=()=>!0,zo=(t,e,n)=>{const r=aT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},GP=t=>jP.test(t)&&!FP.test(t),lT=()=>!1,YP=t=>UP.test(t),XP=t=>zP.test(t),JP=()=>{const t=Ae("colors"),e=Ae("spacing"),n=Ae("blur"),r=Ae("brightness"),s=Ae("borderColor"),i=Ae("borderRadius"),o=Ae("borderSpacing"),a=Ae("borderWidth"),u=Ae("contrast"),c=Ae("grayscale"),d=Ae("hueRotate"),p=Ae("invert"),h=Ae("gap"),y=Ae("gradientColorStops"),E=Ae("gradientColorStopPositions"),_=Ae("inset"),x=Ae("margin"),w=Ae("opacity"),v=Ae("padding"),S=Ae("saturate"),N=Ae("scale"),D=Ae("sepia"),M=Ae("skew"),b=Ae("space"),T=Ae("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ue,e],O=()=>[ue,e],R=()=>["",ur,Kr],W=()=>["auto",so,ue],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",ue],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[so,ue];return{cacheSize:500,separator:":",theme:{colors:[Sa],spacing:[ur,Kr],blur:["none","",Gr,ue],brightness:K(),borderColor:[t],borderRadius:["none","","full",Gr,ue],borderSpacing:O(),borderWidth:R(),contrast:K(),grayscale:B(),hueRotate:K(),invert:B(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[$P,Kr],inset:k(),margin:k(),opacity:K(),padding:O(),saturate:K(),scale:K(),sepia:B(),skew:K(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[Gr]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),ue]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ta,ue]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Ta,ue]}],"grid-cols":[{"grid-cols":[Sa]}],"col-start-end":[{col:["auto",{span:["full",Ta,ue]},ue]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Sa]}],"row-start-end":[{row:["auto",{span:[Ta,ue]},ue]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[Gr]},Gr]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Gr,Kr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jh]}],"font-family":[{font:[Sa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",so,Jh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ur,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ur,Kr]}],"underline-offset":[{"underline-offset":["auto",ur,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),qP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",WP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},QP]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[ur,ue]}],"outline-w":[{outline:[ur,Kr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ur,Kr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Gr,KP]}],"shadow-color":[{shadow:[Sa]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Gr,ue]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[S]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Ta,ue]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ur,Kr,Jh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ZP=DP(JP);function Dr(...t){return ZP(Zx(t))}const eR=fP,uT=I.forwardRef(({className:t,...e},n)=>g.jsx(Hx,{ref:n,className:Dr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));uT.displayName=Hx.displayName;const tR=pP("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cT=I.forwardRef(({className:t,variant:e,...n},r)=>g.jsx(Qx,{ref:r,className:Dr(tR({variant:e}),t),...n}));cT.displayName=Qx.displayName;const nR=I.forwardRef(({className:t,...e},n)=>g.jsx(Yx,{ref:n,className:Dr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));nR.displayName=Yx.displayName;const dT=I.forwardRef(({className:t,...e},n)=>g.jsx(Xx,{ref:n,className:Dr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(rT,{className:"h-4 w-4"})}));dT.displayName=Xx.displayName;const hT=I.forwardRef(({className:t,...e},n)=>g.jsx(Kx,{ref:n,className:Dr("text-sm font-semibold",t),...e}));hT.displayName=Kx.displayName;const fT=I.forwardRef(({className:t,...e},n)=>g.jsx(Gx,{ref:n,className:Dr("text-sm opacity-90",t),...e}));fT.displayName=Gx.displayName;function rR(){const{toasts:t}=Pd();return g.jsxs(eR,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return g.jsxs(cT,{...i,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(hT,{children:n}),r&&g.jsx(fT,{children:r})]}),s,g.jsx(dT,{})]},e)}),g.jsx(uT,{})]})}var p0=["light","dark"],sR="(prefers-color-scheme: dark)",iR=I.createContext(void 0),oR={setTheme:t=>{},themes:[]},aR=()=>{var t;return(t=I.useContext(iR))!=null?t:oR};I.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:u})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(E=>`'${E}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?p0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(E,_=!1,x=!0)=>{let w=o?o[E]:E,v=_?E+"|| ''":`'${w}'`,S="";return s&&x&&!_&&p0.includes(E)&&(S+=`d.style.colorScheme = '${E}';`),n==="class"?_||w?S+=`c.add(${v})`:S+="null":w&&(S+=`d[s](n,${v})`),S},y=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${sR}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${p}}catch(t){}}();`;return I.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:y}})});var lR=t=>{switch(t){case"success":return dR;case"info":return fR;case"warning":return hR;case"error":return pR;default:return null}},uR=Array(12).fill(0),cR=({visible:t})=>H.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},H.createElement("div",{className:"sonner-spinner"},uR.map((e,n)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),dR=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hR=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fR=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pR=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),mR=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},mp=1,gR=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:mp++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(vR(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||mp++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Xt=new gR,yR=(t,e)=>{let n=(e==null?void 0:e.id)||mp++;return Xt.addToast({title:t,...e,id:n}),n},vR=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",wR=yR,_R=()=>Xt.toasts,ju=Object.assign(wR,{success:Xt.success,info:Xt.info,warning:Xt.warning,error:Xt.error,custom:Xt.custom,message:Xt.message,promise:Xt.promise,dismiss:Xt.dismiss,loading:Xt.loading},{getHistory:_R});function ER(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}ER(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Fu(t){return t.label!==void 0}var xR=3,TR="32px",SR=4e3,IR=356,CR=14,bR=20,AR=200;function PR(...t){return t.filter(Boolean).join(" ")}var RR=t=>{var e,n,r,s,i,o,a,u,c,d;let{invert:p,toast:h,unstyled:y,interacting:E,setHeights:_,visibleToasts:x,heights:w,index:v,toasts:S,expanded:N,removeToast:D,defaultRichColors:M,closeButton:b,style:T,cancelButtonStyle:A,actionButtonStyle:P,className:k="",descriptionClassName:O="",duration:R,position:W,gap:re,loadingIcon:te,expandByDefault:ie,classNames:V,icons:B,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:K,cn:J}=t,[ee,Ce]=H.useState(!1),[Xe,ve]=H.useState(!1),[mt,Ln]=H.useState(!1),[Mn,Kt]=H.useState(!1),[rr,Vn]=H.useState(0),[gn,sr]=H.useState(0),Ur=H.useRef(null),yn=H.useRef(null),Jo=v===0,Zo=v+1<=x,qe=h.type,jn=h.dismissible!==!1,tu=h.className||"",ah=h.descriptionClassName||"",zr=H.useMemo(()=>w.findIndex(oe=>oe.toastId===h.id)||0,[w,h.id]),ea=H.useMemo(()=>{var oe;return(oe=h.closeButton)!=null?oe:b},[h.closeButton,b]),ta=H.useMemo(()=>h.duration||R||SR,[h.duration,R]),He=H.useRef(0),Ve=H.useRef(0),Ws=H.useRef(0),ir=H.useRef(null),[na,lh]=W.split("-"),$r=H.useMemo(()=>w.reduce((oe,Te,_e)=>_e>=zr?oe:oe+Te.height,0),[w,zr]),ra=mR(),nu=h.invert||p,qs=qe==="loading";Ve.current=H.useMemo(()=>zr*re+$r,[zr,$r]),H.useEffect(()=>{Ce(!0)},[]),H.useLayoutEffect(()=>{if(!ee)return;let oe=yn.current,Te=oe.style.height;oe.style.height="auto";let _e=oe.getBoundingClientRect().height;oe.style.height=Te,sr(_e),_(gt=>gt.find(Ut=>Ut.toastId===h.id)?gt.map(Ut=>Ut.toastId===h.id?{...Ut,height:_e}:Ut):[{toastId:h.id,height:_e,position:h.position},...gt])},[ee,h.title,h.description,_,h.id]);let Fn=H.useCallback(()=>{ve(!0),Vn(Ve.current),_(oe=>oe.filter(Te=>Te.toastId!==h.id)),setTimeout(()=>{D(h)},AR)},[h,D,_,Ve]);H.useEffect(()=>{if(h.promise&&qe==="loading"||h.duration===1/0||h.type==="loading")return;let oe,Te=ta;return N||E||K&&ra?(()=>{if(Ws.current<He.current){let _e=new Date().getTime()-He.current;Te=Te-_e}Ws.current=new Date().getTime()})():Te!==1/0&&(He.current=new Date().getTime(),oe=setTimeout(()=>{var _e;(_e=h.onAutoClose)==null||_e.call(h,h),Fn()},Te)),()=>clearTimeout(oe)},[N,E,ie,h,ta,Fn,h.promise,qe,K,ra]),H.useEffect(()=>{let oe=yn.current;if(oe){let Te=oe.getBoundingClientRect().height;return sr(Te),_(_e=>[{toastId:h.id,height:Te,position:h.position},..._e]),()=>_(_e=>_e.filter(gt=>gt.toastId!==h.id))}},[_,h.id]),H.useEffect(()=>{h.delete&&Fn()},[Fn,h.delete]);function uh(){return B!=null&&B.loading?H.createElement("div",{className:"sonner-loader","data-visible":qe==="loading"},B.loading):te?H.createElement("div",{className:"sonner-loader","data-visible":qe==="loading"},te):H.createElement(cR,{visible:qe==="loading"})}return H.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:yn,className:J(k,tu,V==null?void 0:V.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[qe],(n=h==null?void 0:h.classNames)==null?void 0:n[qe]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:M,"data-styled":!(h.jsx||h.unstyled||y),"data-mounted":ee,"data-promise":!!h.promise,"data-removed":Xe,"data-visible":Zo,"data-y-position":na,"data-x-position":lh,"data-index":v,"data-front":Jo,"data-swiping":mt,"data-dismissible":jn,"data-type":qe,"data-invert":nu,"data-swipe-out":Mn,"data-expanded":!!(N||ie&&ee),style:{"--index":v,"--toasts-before":v,"--z-index":S.length-v,"--offset":`${Xe?rr:Ve.current}px`,"--initial-height":ie?"auto":`${gn}px`,...T,...h.style},onPointerDown:oe=>{qs||!jn||(Ur.current=new Date,Vn(Ve.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(Ln(!0),ir.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,Te,_e,gt;if(Mn||!jn)return;ir.current=null;let Ut=Number(((oe=yn.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Br=new Date().getTime()-((Te=Ur.current)==null?void 0:Te.getTime()),or=Math.abs(Ut)/Br;if(Math.abs(Ut)>=bR||or>.11){Vn(Ve.current),(_e=h.onDismiss)==null||_e.call(h,h),Fn(),Kt(!0);return}(gt=yn.current)==null||gt.style.setProperty("--swipe-amount","0px"),Ln(!1)},onPointerMove:oe=>{var Te;if(!ir.current||!jn)return;let _e=oe.clientY-ir.current.y,gt=oe.clientX-ir.current.x,Ut=(na==="top"?Math.min:Math.max)(0,_e),Br=oe.pointerType==="touch"?10:2;Math.abs(Ut)>Br?(Te=yn.current)==null||Te.style.setProperty("--swipe-amount",`${_e}px`):Math.abs(gt)>Br&&(ir.current=null)}},ea&&!h.jsx?H.createElement("button",{"aria-label":Y,"data-disabled":qs,"data-close-button":!0,onClick:qs||!jn?()=>{}:()=>{var oe;Fn(),(oe=h.onDismiss)==null||oe.call(h,h)},className:J(V==null?void 0:V.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||H.isValidElement(h.title)?h.jsx||h.title:H.createElement(H.Fragment,null,qe||h.icon||h.promise?H.createElement("div",{"data-icon":"",className:J(V==null?void 0:V.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||uh():null,h.type!=="loading"?h.icon||(B==null?void 0:B[qe])||lR(qe):null):null,H.createElement("div",{"data-content":"",className:J(V==null?void 0:V.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},H.createElement("div",{"data-title":"",className:J(V==null?void 0:V.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?H.createElement("div",{"data-description":"",className:J(O,ah,V==null?void 0:V.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},h.description):null),H.isValidElement(h.cancel)?h.cancel:h.cancel&&Fu(h.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:oe=>{var Te,_e;Fu(h.cancel)&&jn&&((_e=(Te=h.cancel).onClick)==null||_e.call(Te,oe),Fn())},className:J(V==null?void 0:V.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,H.isValidElement(h.action)?h.action:h.action&&Fu(h.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||P,onClick:oe=>{var Te,_e;Fu(h.action)&&(oe.defaultPrevented||((_e=(Te=h.action).onClick)==null||_e.call(Te,oe),Fn()))},className:J(V==null?void 0:V.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function m0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var kR=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:u="light",richColors:c,duration:d,style:p,visibleToasts:h=xR,toastOptions:y,dir:E=m0(),gap:_=CR,loadingIcon:x,icons:w,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:S,cn:N=PR}=t,[D,M]=H.useState([]),b=H.useMemo(()=>Array.from(new Set([n].concat(D.filter(K=>K.position).map(K=>K.position)))),[D,n]),[T,A]=H.useState([]),[P,k]=H.useState(!1),[O,R]=H.useState(!1),[W,re]=H.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=H.useRef(null),ie=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=H.useRef(null),B=H.useRef(!1),Y=H.useCallback(K=>{var J;(J=D.find(ee=>ee.id===K.id))!=null&&J.delete||Xt.dismiss(K.id),M(ee=>ee.filter(({id:Ce})=>Ce!==K.id))},[D]);return H.useEffect(()=>Xt.subscribe(K=>{if(K.dismiss){M(J=>J.map(ee=>ee.id===K.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{Tx.flushSync(()=>{M(J=>{let ee=J.findIndex(Ce=>Ce.id===K.id);return ee!==-1?[...J.slice(0,ee),{...J[ee],...K},...J.slice(ee+1)]:[K,...J]})})})}),[]),H.useEffect(()=>{if(u!=="system"){re(u);return}u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:K})=>{re(K?"dark":"light")})},[u]),H.useEffect(()=>{D.length<=1&&k(!1)},[D]),H.useEffect(()=>{let K=J=>{var ee,Ce;r.every(Xe=>J[Xe]||J.code===Xe)&&(k(!0),(ee=te.current)==null||ee.focus()),J.code==="Escape"&&(document.activeElement===te.current||(Ce=te.current)!=null&&Ce.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[r]),H.useEffect(()=>{if(te.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,B.current=!1)}},[te.current]),D.length?H.createElement("section",{"aria-label":`${v} ${ie}`,tabIndex:-1},b.map((K,J)=>{var ee;let[Ce,Xe]=K.split("-");return H.createElement("ol",{key:K,dir:E==="auto"?m0():E,tabIndex:-1,ref:te,className:o,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":Ce,"data-x-position":Xe,style:{"--front-toast-height":`${((ee=T[0])==null?void 0:ee.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||TR,"--width":`${IR}px`,"--gap":`${_}px`,...p},onBlur:ve=>{B.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(B.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||B.current||(B.current=!0,V.current=ve.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{O||k(!1)},onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},D.filter(ve=>!ve.position&&J===0||ve.position===K).map((ve,mt)=>{var Ln,Mn;return H.createElement(RR,{key:ve.id,icons:w,index:mt,toast:ve,defaultRichColors:c,duration:(Ln=y==null?void 0:y.duration)!=null?Ln:d,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:e,visibleToasts:h,closeButton:(Mn=y==null?void 0:y.closeButton)!=null?Mn:i,interacting:O,position:K,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:Y,toasts:D.filter(Kt=>Kt.position==ve.position),heights:T.filter(Kt=>Kt.position==ve.position),setHeights:A,expandByDefault:s,gap:_,loadingIcon:x,expanded:P,pauseWhenPageIsHidden:S,cn:N})}))})):null};const NR=({...t})=>{const{theme:e="system"}=aR();return g.jsx(kR,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},OR=["top","right","bottom","left"],Rs=Math.min,Zt=Math.max,qc=Math.round,Uu=Math.floor,ks=t=>({x:t,y:t}),DR={left:"right",right:"left",bottom:"top",top:"bottom"},LR={start:"end",end:"start"};function gp(t,e,n){return Zt(t,Rs(e,n))}function Cr(t,e){return typeof t=="function"?t(e):t}function br(t){return t.split("-")[0]}function $o(t){return t.split("-")[1]}function Ym(t){return t==="x"?"y":"x"}function Xm(t){return t==="y"?"height":"width"}function Ns(t){return["top","bottom"].includes(br(t))?"y":"x"}function Jm(t){return Ym(Ns(t))}function MR(t,e,n){n===void 0&&(n=!1);const r=$o(t),s=Jm(t),i=Xm(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Hc(o)),[o,Hc(o)]}function VR(t){const e=Hc(t);return[yp(t),e,yp(e)]}function yp(t){return t.replace(/start|end/g,e=>LR[e])}function jR(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function FR(t,e,n,r){const s=$o(t);let i=jR(br(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(yp)))),i}function Hc(t){return t.replace(/left|right|bottom|top/g,e=>DR[e])}function UR(t){return{top:0,right:0,bottom:0,left:0,...t}}function pT(t){return typeof t!="number"?UR(t):{top:t,right:t,bottom:t,left:t}}function Qc(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function g0(t,e,n){let{reference:r,floating:s}=t;const i=Ns(e),o=Jm(e),a=Xm(o),u=br(e),c=i==="y",d=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let y;switch(u){case"top":y={x:d,y:r.y-s.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-s.width,y:p};break;default:y={x:r.x,y:r.y}}switch($o(e)){case"start":y[o]-=h*(n&&c?-1:1);break;case"end":y[o]+=h*(n&&c?-1:1);break}return y}const zR=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:p}=g0(c,r,u),h=r,y={},E=0;for(let _=0;_<a.length;_++){const{name:x,fn:w}=a[_],{x:v,y:S,data:N,reset:D}=await w({x:d,y:p,initialPlacement:r,placement:h,strategy:s,middlewareData:y,rects:c,platform:o,elements:{reference:t,floating:e}});d=v??d,p=S??p,y={...y,[x]:{...y[x],...N}},D&&E<=50&&(E++,typeof D=="object"&&(D.placement&&(h=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:d,y:p}=g0(c,h,u)),_=-1)}return{x:d,y:p,placement:h,strategy:s,middlewareData:y}};async function ml(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:h=!1,padding:y=0}=Cr(e,t),E=pT(y),x=a[h?p==="floating"?"reference":"floating":p],w=Qc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:u})),v=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},D=Qc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:S,strategy:u}):v);return{top:(w.top-D.top+E.top)/N.y,bottom:(D.bottom-w.bottom+E.bottom)/N.y,left:(w.left-D.left+E.left)/N.x,right:(D.right-w.right+E.right)/N.x}}const $R=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:u}=e,{element:c,padding:d=0}=Cr(t,e)||{};if(c==null)return{};const p=pT(d),h={x:n,y:r},y=Jm(s),E=Xm(y),_=await o.getDimensions(c),x=y==="y",w=x?"top":"left",v=x?"bottom":"right",S=x?"clientHeight":"clientWidth",N=i.reference[E]+i.reference[y]-h[y]-i.floating[E],D=h[y]-i.reference[y],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let b=M?M[S]:0;(!b||!await(o.isElement==null?void 0:o.isElement(M)))&&(b=a.floating[S]||i.floating[E]);const T=N/2-D/2,A=b/2-_[E]/2-1,P=Rs(p[w],A),k=Rs(p[v],A),O=P,R=b-_[E]-k,W=b/2-_[E]/2+T,re=gp(O,W,R),te=!u.arrow&&$o(s)!=null&&W!==re&&i.reference[E]/2-(W<O?P:k)-_[E]/2<0,ie=te?W<O?W-O:W-R:0;return{[y]:h[y]+ie,data:{[y]:re,centerOffset:W-re-ie,...te&&{alignmentOffset:ie}},reset:te}}}),BR=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:_=!0,...x}=Cr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=br(s),v=Ns(a),S=br(a)===a,N=await(u.isRTL==null?void 0:u.isRTL(c.floating)),D=h||(S||!_?[Hc(a)]:VR(a)),M=E!=="none";!h&&M&&D.push(...FR(a,_,E,N));const b=[a,...D],T=await ml(e,x),A=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(T[w]),p){const W=MR(s,o,N);A.push(T[W[0]],T[W[1]])}if(P=[...P,{placement:s,overflows:A}],!A.every(W=>W<=0)){var k,O;const W=(((k=i.flip)==null?void 0:k.index)||0)+1,re=b[W];if(re)return{data:{index:W,overflows:P},reset:{placement:re}};let te=(O=P.filter(ie=>ie.overflows[0]<=0).sort((ie,V)=>ie.overflows[1]-V.overflows[1])[0])==null?void 0:O.placement;if(!te)switch(y){case"bestFit":{var R;const ie=(R=P.filter(V=>{if(M){const B=Ns(V.placement);return B===v||B==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(B=>B>0).reduce((B,Y)=>B+Y,0)]).sort((V,B)=>V[1]-B[1])[0])==null?void 0:R[0];ie&&(te=ie);break}case"initialPlacement":te=a;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function y0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function v0(t){return OR.some(e=>t[e]>=0)}const WR=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Cr(t,e);switch(r){case"referenceHidden":{const i=await ml(e,{...s,elementContext:"reference"}),o=y0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:v0(o)}}}case"escaped":{const i=await ml(e,{...s,altBoundary:!0}),o=y0(i,n.floating);return{data:{escapedOffsets:o,escaped:v0(o)}}}default:return{}}}}};async function qR(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=br(n),a=$o(n),u=Ns(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&u?-1:1,p=Cr(e,t);let{mainAxis:h,crossAxis:y,alignmentAxis:E}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof E=="number"&&(y=a==="end"?E*-1:E),u?{x:y*d,y:h*c}:{x:h*c,y:y*d}}const HR=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,u=await qR(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},QR=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:w,y:v}=x;return{x:w,y:v}}},...u}=Cr(t,e),c={x:n,y:r},d=await ml(e,u),p=Ns(br(s)),h=Ym(p);let y=c[h],E=c[p];if(i){const x=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=y+d[x],S=y-d[w];y=gp(v,y,S)}if(o){const x=p==="y"?"top":"left",w=p==="y"?"bottom":"right",v=E+d[x],S=E-d[w];E=gp(v,E,S)}const _=a.fn({...e,[h]:y,[p]:E});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[h]:i,[p]:o}}}}}},KR=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=Cr(t,e),d={x:n,y:r},p=Ns(s),h=Ym(p);let y=d[h],E=d[p];const _=Cr(a,e),x=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const S=h==="y"?"height":"width",N=i.reference[h]-i.floating[S]+x.mainAxis,D=i.reference[h]+i.reference[S]-x.mainAxis;y<N?y=N:y>D&&(y=D)}if(c){var w,v;const S=h==="y"?"width":"height",N=["top","left"].includes(br(s)),D=i.reference[p]-i.floating[S]+(N&&((w=o.offset)==null?void 0:w[p])||0)+(N?0:x.crossAxis),M=i.reference[p]+i.reference[S]+(N?0:((v=o.offset)==null?void 0:v[p])||0)-(N?x.crossAxis:0);E<D?E=D:E>M&&(E=M)}return{[h]:y,[p]:E}}}},GR=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:u=()=>{},...c}=Cr(t,e),d=await ml(e,c),p=br(s),h=$o(s),y=Ns(s)==="y",{width:E,height:_}=i.floating;let x,w;p==="top"||p==="bottom"?(x=p,w=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=p,x=h==="end"?"top":"bottom");const v=_-d.top-d.bottom,S=E-d.left-d.right,N=Rs(_-d[x],v),D=Rs(E-d[w],S),M=!e.middlewareData.shift;let b=N,T=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=v),M&&!h){const P=Zt(d.left,0),k=Zt(d.right,0),O=Zt(d.top,0),R=Zt(d.bottom,0);y?T=E-2*(P!==0||k!==0?P+k:Zt(d.left,d.right)):b=_-2*(O!==0||R!==0?O+R:Zt(d.top,d.bottom))}await u({...e,availableWidth:T,availableHeight:b});const A=await o.getDimensions(a.floating);return E!==A.width||_!==A.height?{reset:{rects:!0}}:{}}}};function Od(){return typeof window<"u"}function Bo(t){return mT(t)?(t.nodeName||"").toLowerCase():"#document"}function rn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tr(t){var e;return(e=(mT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function mT(t){return Od()?t instanceof Node||t instanceof rn(t).Node:!1}function Nn(t){return Od()?t instanceof Element||t instanceof rn(t).Element:!1}function Zn(t){return Od()?t instanceof HTMLElement||t instanceof rn(t).HTMLElement:!1}function w0(t){return!Od()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof rn(t).ShadowRoot}function Ul(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=On(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function YR(t){return["table","td","th"].includes(Bo(t))}function Dd(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Zm(t){const e=eg(),n=Nn(t)?On(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function XR(t){let e=Os(t);for(;Zn(e)&&!bo(e);){if(Zm(e))return e;if(Dd(e))return null;e=Os(e)}return null}function eg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bo(t){return["html","body","#document"].includes(Bo(t))}function On(t){return rn(t).getComputedStyle(t)}function Ld(t){return Nn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Os(t){if(Bo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||w0(t)&&t.host||tr(t);return w0(e)?e.host:e}function gT(t){const e=Os(t);return bo(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zn(e)&&Ul(e)?e:gT(e)}function gl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=gT(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=rn(s);if(i){const a=vp(o);return e.concat(o,o.visualViewport||[],Ul(s)?s:[],a&&n?gl(a):[])}return e.concat(s,gl(s,[],n))}function vp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function yT(t){const e=On(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Zn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=qc(n)!==i||qc(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function tg(t){return Nn(t)?t:t.contextElement}function io(t){const e=tg(t);if(!Zn(e))return ks(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=yT(e);let o=(i?qc(n.width):n.width)/r,a=(i?qc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const JR=ks(0);function vT(t){const e=rn(t);return!eg()||!e.visualViewport?JR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ZR(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==rn(t)?!1:e}function gi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=tg(t);let o=ks(1);e&&(r?Nn(r)&&(o=io(r)):o=io(t));const a=ZR(i,n,r)?vT(i):ks(0);let u=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,p=s.height/o.y;if(i){const h=rn(i),y=r&&Nn(r)?rn(r):r;let E=h,_=vp(E);for(;_&&r&&y!==E;){const x=io(_),w=_.getBoundingClientRect(),v=On(_),S=w.left+(_.clientLeft+parseFloat(v.paddingLeft))*x.x,N=w.top+(_.clientTop+parseFloat(v.paddingTop))*x.y;u*=x.x,c*=x.y,d*=x.x,p*=x.y,u+=S,c+=N,E=rn(_),_=vp(E)}}return Qc({width:d,height:p,x:u,y:c})}function ek(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=tr(r),a=e?Dd(e.floating):!1;if(r===o||a&&i)return n;let u={scrollLeft:0,scrollTop:0},c=ks(1);const d=ks(0),p=Zn(r);if((p||!p&&!i)&&((Bo(r)!=="body"||Ul(o))&&(u=Ld(r)),Zn(r))){const h=gi(r);c=io(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x,y:n.y*c.y-u.scrollTop*c.y+d.y}}function tk(t){return Array.from(t.getClientRects())}function wp(t,e){const n=Ld(t).scrollLeft;return e?e.left+n:gi(tr(t)).left+n}function nk(t){const e=tr(t),n=Ld(t),r=t.ownerDocument.body,s=Zt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Zt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+wp(t);const a=-n.scrollTop;return On(r).direction==="rtl"&&(o+=Zt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function rk(t,e){const n=rn(t),r=tr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,u=0;if(s){i=s.width,o=s.height;const c=eg();(!c||c&&e==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:a,y:u}}function sk(t,e){const n=gi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Zn(t)?io(t):ks(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,u=s*i.x,c=r*i.y;return{width:o,height:a,x:u,y:c}}function _0(t,e,n){let r;if(e==="viewport")r=rk(t,n);else if(e==="document")r=nk(tr(t));else if(Nn(e))r=sk(e,n);else{const s=vT(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Qc(r)}function wT(t,e){const n=Os(t);return n===e||!Nn(n)||bo(n)?!1:On(n).position==="fixed"||wT(n,e)}function ik(t,e){const n=e.get(t);if(n)return n;let r=gl(t,[],!1).filter(a=>Nn(a)&&Bo(a)!=="body"),s=null;const i=On(t).position==="fixed";let o=i?Os(t):t;for(;Nn(o)&&!bo(o);){const a=On(o),u=Zm(o);!u&&a.position==="fixed"&&(s=null),(i?!u&&!s:!u&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ul(o)&&!u&&wT(t,o))?r=r.filter(d=>d!==o):s=a,o=Os(o)}return e.set(t,r),r}function ok(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Dd(e)?[]:ik(e,this._c):[].concat(n),r],a=o[0],u=o.reduce((c,d)=>{const p=_0(e,d,s);return c.top=Zt(p.top,c.top),c.right=Rs(p.right,c.right),c.bottom=Rs(p.bottom,c.bottom),c.left=Zt(p.left,c.left),c},_0(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function ak(t){const{width:e,height:n}=yT(t);return{width:e,height:n}}function lk(t,e,n){const r=Zn(e),s=tr(e),i=n==="fixed",o=gi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const u=ks(0);if(r||!r&&!i)if((Bo(e)!=="body"||Ul(s))&&(a=Ld(e)),r){const y=gi(e,!0,i,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else s&&(u.x=wp(s));let c=0,d=0;if(s&&!r&&!i){const y=s.getBoundingClientRect();d=y.top+a.scrollTop,c=y.left+a.scrollLeft-wp(s,y)}const p=o.left+a.scrollLeft-u.x-c,h=o.top+a.scrollTop-u.y-d;return{x:p,y:h,width:o.width,height:o.height}}function Zh(t){return On(t).position==="static"}function E0(t,e){if(!Zn(t)||On(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return tr(t)===n&&(n=n.ownerDocument.body),n}function _T(t,e){const n=rn(t);if(Dd(t))return n;if(!Zn(t)){let s=Os(t);for(;s&&!bo(s);){if(Nn(s)&&!Zh(s))return s;s=Os(s)}return n}let r=E0(t,e);for(;r&&YR(r)&&Zh(r);)r=E0(r,e);return r&&bo(r)&&Zh(r)&&!Zm(r)?n:r||XR(t)||n}const uk=async function(t){const e=this.getOffsetParent||_T,n=this.getDimensions,r=await n(t.floating);return{reference:lk(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ck(t){return On(t).direction==="rtl"}const dk={convertOffsetParentRelativeRectToViewportRelativeRect:ek,getDocumentElement:tr,getClippingRect:ok,getOffsetParent:_T,getElementRects:uk,getClientRects:tk,getDimensions:ak,getScale:io,isElement:Nn,isRTL:ck};function hk(t,e){let n=null,r;const s=tr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),i();const{left:c,top:d,width:p,height:h}=t.getBoundingClientRect();if(a||e(),!p||!h)return;const y=Uu(d),E=Uu(s.clientWidth-(c+p)),_=Uu(s.clientHeight-(d+h)),x=Uu(c),v={rootMargin:-y+"px "+-E+"px "+-_+"px "+-x+"px",threshold:Zt(0,Rs(1,u))||1};let S=!0;function N(D){const M=D[0].intersectionRatio;if(M!==u){if(!S)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(N,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,v)}n.observe(t)}return o(!0),i}function fk(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=tg(t),d=s||i?[...c?gl(c):[],...gl(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const p=c&&a?hk(c,n):null;let h=-1,y=null;o&&(y=new ResizeObserver(w=>{let[v]=w;v&&v.target===c&&y&&(y.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=y)==null||S.observe(e)})),n()}),c&&!u&&y.observe(c),y.observe(e));let E,_=u?gi(t):null;u&&x();function x(){const w=gi(t);_&&(w.x!==_.x||w.y!==_.y||w.width!==_.width||w.height!==_.height)&&n(),_=w,E=requestAnimationFrame(x)}return n(),()=>{var w;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),p==null||p(),(w=y)==null||w.disconnect(),y=null,u&&cancelAnimationFrame(E)}}const pk=HR,mk=QR,gk=BR,yk=GR,vk=WR,x0=$R,wk=KR,_k=(t,e,n)=>{const r=new Map,s={platform:dk,...n},i={...s.platform,_c:r};return zR(t,e,{...s,platform:i})};var cc=typeof document<"u"?I.useLayoutEffect:I.useEffect;function Kc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Kc(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Kc(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function ET(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function T0(t,e){const n=ET(t);return Math.round(e*n)/n}function ef(t){const e=I.useRef(t);return cc(()=>{e.current=t}),e}function Ek(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[d,p]=I.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,y]=I.useState(r);Kc(h,r)||y(r);const[E,_]=I.useState(null),[x,w]=I.useState(null),v=I.useCallback(V=>{V!==M.current&&(M.current=V,_(V))},[]),S=I.useCallback(V=>{V!==b.current&&(b.current=V,w(V))},[]),N=i||E,D=o||x,M=I.useRef(null),b=I.useRef(null),T=I.useRef(d),A=u!=null,P=ef(u),k=ef(s),O=ef(c),R=I.useCallback(()=>{if(!M.current||!b.current)return;const V={placement:e,strategy:n,middleware:h};k.current&&(V.platform=k.current),_k(M.current,b.current,V).then(B=>{const Y={...B,isPositioned:O.current!==!1};W.current&&!Kc(T.current,Y)&&(T.current=Y,Fl.flushSync(()=>{p(Y)}))})},[h,e,n,k,O]);cc(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,p(V=>({...V,isPositioned:!1})))},[c]);const W=I.useRef(!1);cc(()=>(W.current=!0,()=>{W.current=!1}),[]),cc(()=>{if(N&&(M.current=N),D&&(b.current=D),N&&D){if(P.current)return P.current(N,D,R);R()}},[N,D,R,P,A]);const re=I.useMemo(()=>({reference:M,floating:b,setReference:v,setFloating:S}),[v,S]),te=I.useMemo(()=>({reference:N,floating:D}),[N,D]),ie=I.useMemo(()=>{const V={position:n,left:0,top:0};if(!te.floating)return V;const B=T0(te.floating,d.x),Y=T0(te.floating,d.y);return a?{...V,transform:"translate("+B+"px, "+Y+"px)",...ET(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Y}},[n,a,te.floating,d.x,d.y]);return I.useMemo(()=>({...d,update:R,refs:re,elements:te,floatingStyles:ie}),[d,R,re,te,ie])}const xk=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?x0({element:r.current,padding:s}).fn(n):{}:r?x0({element:r,padding:s}).fn(n):{}}}},Tk=(t,e)=>({...pk(t),options:[t,e]}),Sk=(t,e)=>({...mk(t),options:[t,e]}),Ik=(t,e)=>({...wk(t),options:[t,e]}),Ck=(t,e)=>({...gk(t),options:[t,e]}),bk=(t,e)=>({...yk(t),options:[t,e]}),Ak=(t,e)=>({...vk(t),options:[t,e]}),Pk=(t,e)=>({...xk(t),options:[t,e]});var Rk="Arrow",xT=I.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return g.jsx(Qt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});xT.displayName=Rk;var kk=xT;function Nk(t,e=[]){let n=[];function r(i,o){const a=I.createContext(o),u=n.length;n=[...n,o];function c(p){const{scope:h,children:y,...E}=p,_=(h==null?void 0:h[t][u])||a,x=I.useMemo(()=>E,Object.values(E));return g.jsx(_.Provider,{value:x,children:y})}function d(p,h){const y=(h==null?void 0:h[t][u])||a,E=I.useContext(y);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>I.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return I.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,Ok(s,...e)]}function Ok(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const p=u(i)[`__scope${c}`];return{...a,...p}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Dk(t){const[e,n]=I.useState(void 0);return mi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const u=i.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var TT="Popper",[ST,IT]=Nk(TT),[Z4,CT]=ST(TT),bT="PopperAnchor",AT=I.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=CT(bT,n),o=I.useRef(null),a=kn(e,o);return I.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(Qt.div,{...s,ref:a})});AT.displayName=bT;var ng="PopperContent",[Lk,Mk]=ST(ng),PT=I.forwardRef((t,e)=>{var mt,Ln,Mn,Kt,rr,Vn;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:E,..._}=t,x=CT(ng,n),[w,v]=I.useState(null),S=kn(e,gn=>v(gn)),[N,D]=I.useState(null),M=Dk(N),b=(M==null?void 0:M.width)??0,T=(M==null?void 0:M.height)??0,A=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(c)?c:[c],O=k.length>0,R={padding:P,boundary:k.filter(jk),altBoundary:O},{refs:W,floatingStyles:re,placement:te,isPositioned:ie,middlewareData:V}=Ek({strategy:"fixed",placement:A,whileElementsMounted:(...gn)=>fk(...gn,{animationFrame:y==="always"}),elements:{reference:x.anchor},middleware:[Tk({mainAxis:s+T,alignmentAxis:o}),u&&Sk({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Ik():void 0,...R}),u&&Ck({...R}),bk({...R,apply:({elements:gn,rects:sr,availableWidth:Ur,availableHeight:yn})=>{const{width:Jo,height:Zo}=sr.reference,qe=gn.floating.style;qe.setProperty("--radix-popper-available-width",`${Ur}px`),qe.setProperty("--radix-popper-available-height",`${yn}px`),qe.setProperty("--radix-popper-anchor-width",`${Jo}px`),qe.setProperty("--radix-popper-anchor-height",`${Zo}px`)}}),N&&Pk({element:N,padding:a}),Fk({arrowWidth:b,arrowHeight:T}),h&&Ak({strategy:"referenceHidden",...R})]}),[B,Y]=NT(te),K=Jn(E);mi(()=>{ie&&(K==null||K())},[ie,K]);const J=(mt=V.arrow)==null?void 0:mt.x,ee=(Ln=V.arrow)==null?void 0:Ln.y,Ce=((Mn=V.arrow)==null?void 0:Mn.centerOffset)!==0,[Xe,ve]=I.useState();return mi(()=>{w&&ve(window.getComputedStyle(w).zIndex)},[w]),g.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:ie?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Xe,"--radix-popper-transform-origin":[(Kt=V.transformOrigin)==null?void 0:Kt.x,(rr=V.transformOrigin)==null?void 0:rr.y].join(" "),...((Vn=V.hide)==null?void 0:Vn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(Lk,{scope:n,placedSide:B,onArrowChange:D,arrowX:J,arrowY:ee,shouldHideArrow:Ce,children:g.jsx(Qt.div,{"data-side":B,"data-align":Y,..._,ref:S,style:{..._.style,animation:ie?void 0:"none"}})})})});PT.displayName=ng;var RT="PopperArrow",Vk={top:"bottom",right:"left",bottom:"top",left:"right"},kT=I.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Mk(RT,r),o=Vk[i.placedSide];return g.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:g.jsx(kk,{...s,ref:n,style:{...s.style,display:"block"}})})});kT.displayName=RT;function jk(t){return t!==null}var Fk=t=>({name:"transformOrigin",options:t,fn(e){var x,w,v;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,d]=NT(n),p={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,y=(((v=s.arrow)==null?void 0:v.y)??0)+u/2;let E="",_="";return c==="bottom"?(E=o?p:`${h}px`,_=`${-u}px`):c==="top"?(E=o?p:`${h}px`,_=`${r.floating.height+u}px`):c==="right"?(E=`${-u}px`,_=o?p:`${y}px`):c==="left"&&(E=`${r.floating.width+u}px`,_=o?p:`${y}px`),{data:{x:E,y:_}}}});function NT(t){const[e,n="center"]=t.split("-");return[e,n]}var Uk=AT,zk=PT,$k=kT,[Md,eF]=bx("Tooltip",[IT]),rg=IT(),OT="TooltipProvider",Bk=700,S0="tooltip.open",[Wk,DT]=Md(OT),LT=t=>{const{__scopeTooltip:e,delayDuration:n=Bk,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=I.useState(!0),u=I.useRef(!1),c=I.useRef(0);return I.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),g.jsx(Wk,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:I.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:I.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:I.useCallback(d=>{u.current=d},[]),disableHoverableContent:s,children:i})};LT.displayName=OT;var MT="Tooltip",[tF,Vd]=Md(MT),_p="TooltipTrigger",qk=I.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Vd(_p,n),i=DT(_p,n),o=rg(n),a=I.useRef(null),u=kn(e,a,s.onTriggerChange),c=I.useRef(!1),d=I.useRef(!1),p=I.useCallback(()=>c.current=!1,[]);return I.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),g.jsx(Uk,{asChild:!0,...o,children:g.jsx(Qt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:Ze(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ze(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ze(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ze(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Ze(t.onBlur,s.onClose),onClick:Ze(t.onClick,s.onClose)})})});qk.displayName=_p;var Hk="TooltipPortal",[nF,Qk]=Md(Hk,{forceMount:void 0}),Ao="TooltipContent",VT=I.forwardRef((t,e)=>{const n=Qk(Ao,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Vd(Ao,t.__scopeTooltip);return g.jsx(qm,{present:r||o.open,children:o.disableHoverableContent?g.jsx(jT,{side:s,...i,ref:e}):g.jsx(Kk,{side:s,...i,ref:e})})}),Kk=I.forwardRef((t,e)=>{const n=Vd(Ao,t.__scopeTooltip),r=DT(Ao,t.__scopeTooltip),s=I.useRef(null),i=kn(e,s),[o,a]=I.useState(null),{trigger:u,onClose:c}=n,d=s.current,{onPointerInTransitChange:p}=r,h=I.useCallback(()=>{a(null),p(!1)},[p]),y=I.useCallback((E,_)=>{const x=E.currentTarget,w={x:E.clientX,y:E.clientY},v=Jk(w,x.getBoundingClientRect()),S=Zk(w,v),N=eN(_.getBoundingClientRect()),D=nN([...S,...N]);a(D),p(!0)},[p]);return I.useEffect(()=>()=>h(),[h]),I.useEffect(()=>{if(u&&d){const E=x=>y(x,d),_=x=>y(x,u);return u.addEventListener("pointerleave",E),d.addEventListener("pointerleave",_),()=>{u.removeEventListener("pointerleave",E),d.removeEventListener("pointerleave",_)}}},[u,d,y,h]),I.useEffect(()=>{if(o){const E=_=>{const x=_.target,w={x:_.clientX,y:_.clientY},v=(u==null?void 0:u.contains(x))||(d==null?void 0:d.contains(x)),S=!tN(w,o);v?h():S&&(h(),c())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[u,d,o,c,h]),g.jsx(jT,{...t,ref:i})}),[Gk,Yk]=Md(MT,{isInside:!1}),jT=I.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,u=Vd(Ao,n),c=rg(n),{onClose:d}=u;return I.useEffect(()=>(document.addEventListener(S0,d),()=>document.removeEventListener(S0,d)),[d]),I.useEffect(()=>{if(u.trigger){const p=h=>{const y=h.target;y!=null&&y.contains(u.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,d]),g.jsx(Wm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:g.jsxs(zk,{"data-state":u.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(Cx,{children:r}),g.jsx(Gk,{scope:n,isInside:!0,children:g.jsx(GA,{id:u.contentId,role:"tooltip",children:s||r})})]})})});VT.displayName=Ao;var FT="TooltipArrow",Xk=I.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=rg(n);return Yk(FT,n).isInside?null:g.jsx($k,{...s,...r,ref:e})});Xk.displayName=FT;function Jk(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Zk(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function eN(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function tN(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,u=e[i].y,c=e[o].x,d=e[o].y;u>r!=d>r&&n<(c-a)*(r-u)/(d-u)+a&&(s=!s)}return s}function nN(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),rN(e)}function rN(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var sN=LT,UT=VT;const iN=sN,oN=I.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(UT,{ref:r,sideOffset:e,className:Dr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));oN.displayName=UT.displayName;var jd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fd=typeof window>"u"||"Deno"in globalThis;function xn(){}function aN(t,e){return typeof t=="function"?t(e):t}function lN(t){return typeof t=="number"&&t>=0&&t!==1/0}function uN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function I0(t,e){return typeof t=="function"?t(e):t}function cN(t,e){return typeof t=="function"?t(e):t}function C0(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==sg(o,e.options))return!1}else if(!vl(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function b0(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(yl(e.options.mutationKey)!==yl(i))return!1}else if(!vl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function sg(t,e){return((e==null?void 0:e.queryKeyHashFn)||yl)(t)}function yl(t){return JSON.stringify(t,(e,n)=>Ep(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function vl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!vl(t[n],e[n])):!1}function zT(t,e){if(t===e)return t;const n=A0(t)&&A0(e);if(n||Ep(t)&&Ep(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let u=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,u++):(a[d]=zT(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function A0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ep(t){if(!P0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!P0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function P0(t){return Object.prototype.toString.call(t)==="[object Object]"}function dN(t){return new Promise(e=>{setTimeout(e,t)})}function hN(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?zT(t,e):e}function fN(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function pN(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ig=Symbol();function $T(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ig?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ri,os,co,n_,mN=(n_=class extends jd{constructor(){super();we(this,ri);we(this,os);we(this,co);ce(this,co,e=>{if(!Fd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,os)||this.setEventListener(U(this,co))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,os))==null||e.call(this),ce(this,os,void 0))}setEventListener(e){var n;ce(this,co,e),(n=U(this,os))==null||n.call(this),ce(this,os,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,ri)!==e&&(ce(this,ri,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,ri)=="boolean"?U(this,ri):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ri=new WeakMap,os=new WeakMap,co=new WeakMap,n_),BT=new mN,ho,as,fo,r_,gN=(r_=class extends jd{constructor(){super();we(this,ho,!0);we(this,as);we(this,fo);ce(this,fo,e=>{if(!Fd&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,as)||this.setEventListener(U(this,fo))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,as))==null||e.call(this),ce(this,as,void 0))}setEventListener(e){var n;ce(this,fo,e),(n=U(this,as))==null||n.call(this),ce(this,as,e(this.setOnline.bind(this)))}setOnline(e){U(this,ho)!==e&&(ce(this,ho,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,ho)}},ho=new WeakMap,as=new WeakMap,fo=new WeakMap,r_),Gc=new gN;function yN(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function vN(t){return Math.min(1e3*2**t,3e4)}function WT(t){return(t??"online")==="online"?Gc.isOnline():!0}var qT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function tf(t){return t instanceof qT}function HT(t){let e=!1,n=0,r=!1,s;const i=yN(),o=_=>{var x;r||(h(new qT(_)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},u=()=>{e=!1},c=()=>BT.isFocused()&&(t.networkMode==="always"||Gc.isOnline())&&t.canRun(),d=()=>WT(t.networkMode)&&t.canRun(),p=_=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,_),s==null||s(),i.resolve(_))},h=_=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,_),s==null||s(),i.reject(_))},y=()=>new Promise(_=>{var x;s=w=>{(r||c())&&_(w)},(x=t.onPause)==null||x.call(t)}).then(()=>{var _;s=void 0,r||(_=t.onContinue)==null||_.call(t)}),E=()=>{if(r)return;let _;const x=n===0?t.initialPromise:void 0;try{_=x??t.fn()}catch(w){_=Promise.reject(w)}Promise.resolve(_).then(p).catch(w=>{var M;if(r)return;const v=t.retry??(Fd?0:3),S=t.retryDelay??vN,N=typeof S=="function"?S(n,w):S,D=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(e||!D){h(w);return}n++,(M=t.onFail)==null||M.call(t,n,w),dN(N).then(()=>c()?void 0:y()).then(()=>{e?h(w):E()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:u,canStart:d,start:()=>(d()?E():y().then(E),i)}}function wN(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{i(()=>{a(...u)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Lt=wN(),si,s_,QT=(s_=class{constructor(){we(this,si)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lN(this.gcTime)&&ce(this,si,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Fd?1/0:5*60*1e3))}clearGcTimeout(){U(this,si)&&(clearTimeout(U(this,si)),ce(this,si,void 0))}},si=new WeakMap,s_),po,mo,ln,St,Nl,ii,Tn,cr,i_,_N=(i_=class extends QT{constructor(n){super();we(this,Tn);we(this,po);we(this,mo);we(this,ln);we(this,St);we(this,Nl);we(this,ii);ce(this,ii,!1),ce(this,Nl,n.defaultOptions),this.setOptions(n.options),this.observers=[],ce(this,ln,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ce(this,po,xN(this.options)),this.state=n.state??U(this,po),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,St))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Nl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,ln).remove(this)}setData(n,r){const s=hN(this.state.data,n,this.options);return wt(this,Tn,cr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){wt(this,Tn,cr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,St))==null?void 0:s.promise;return(i=U(this,St))==null||i.cancel(n),r?r.then(xn).catch(xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,po))}isActive(){return this.observers.some(n=>cN(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ig||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!uN(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,St))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,St))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,ln).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,St)&&(U(this,ii)?U(this,St).cancel({revert:!0}):U(this,St).cancelRetry()),this.scheduleGc()),U(this,ln).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||wt(this,Tn,cr).call(this,{type:"invalidate"})}fetch(n,r){var c,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,St))return U(this,St).continueRetry(),U(this,St).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(y=>y.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ce(this,ii,!0),s.signal)})},o=()=>{const h=$T(this.options,r),y={queryKey:this.queryKey,meta:this.meta};return i(y),ce(this,ii,!1),this.options.persister?this.options.persister(h,y,this):h(y)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),ce(this,mo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&wt(this,Tn,cr).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const u=h=>{var y,E,_,x;tf(h)&&h.silent||wt(this,Tn,cr).call(this,{type:"error",error:h}),tf(h)||((E=(y=U(this,ln).config).onError)==null||E.call(y,h,this),(x=(_=U(this,ln).config).onSettled)==null||x.call(_,this.state.data,h,this)),this.scheduleGc()};return ce(this,St,HT({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var y,E,_,x;if(h===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){u(w);return}(E=(y=U(this,ln).config).onSuccess)==null||E.call(y,h,this),(x=(_=U(this,ln).config).onSettled)==null||x.call(_,h,this.state.error,this),this.scheduleGc()},onError:u,onFail:(h,y)=>{wt(this,Tn,cr).call(this,{type:"failed",failureCount:h,error:y})},onPause:()=>{wt(this,Tn,cr).call(this,{type:"pause"})},onContinue:()=>{wt(this,Tn,cr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),U(this,St).start()}},po=new WeakMap,mo=new WeakMap,ln=new WeakMap,St=new WeakMap,Nl=new WeakMap,ii=new WeakMap,Tn=new WeakSet,cr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...EN(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return tf(i)&&i.revert&&U(this,mo)?{...U(this,mo),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Lt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,ln).notify({query:this,type:"updated",action:n})})},i_);function EN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:WT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function xN(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $n,o_,TN=(o_=class extends jd{constructor(e={}){super();we(this,$n);this.config=e,ce(this,$n,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??sg(s,n);let o=this.get(i);return o||(o=new _N({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,$n).has(e.queryHash)||(U(this,$n).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,$n).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,$n).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,$n).get(e)}getAll(){return[...U(this,$n).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>C0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>C0(e,r)):n}notify(e){Lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},$n=new WeakMap,o_),Bn,Nt,oi,Wn,Xr,a_,SN=(a_=class extends QT{constructor(n){super();we(this,Wn);we(this,Bn);we(this,Nt);we(this,oi);this.mutationId=n.mutationId,ce(this,Nt,n.mutationCache),ce(this,Bn,[]),this.state=n.state||IN(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,Bn).includes(n)||(U(this,Bn).push(n),this.clearGcTimeout(),U(this,Nt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ce(this,Bn,U(this,Bn).filter(r=>r!==n)),this.scheduleGc(),U(this,Nt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,Bn).length||(this.state.status==="pending"?this.scheduleGc():U(this,Nt).remove(this))}continue(){var n;return((n=U(this,oi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,u,c,d,p,h,y,E,_,x,w,v,S,N,D,M,b,T;ce(this,oi,HT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,P)=>{wt(this,Wn,Xr).call(this,{type:"failed",failureCount:A,error:P})},onPause:()=>{wt(this,Wn,Xr).call(this,{type:"pause"})},onContinue:()=>{wt(this,Wn,Xr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Nt).canRun(this)}));const r=this.state.status==="pending",s=!U(this,oi).canStart();try{if(!r){wt(this,Wn,Xr).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=U(this,Nt).config).onMutate)==null?void 0:o.call(i,n,this));const P=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,n));P!==this.state.context&&wt(this,Wn,Xr).call(this,{type:"pending",context:P,variables:n,isPaused:s})}const A=await U(this,oi).start();return await((d=(c=U(this,Nt).config).onSuccess)==null?void 0:d.call(c,A,n,this.state.context,this)),await((h=(p=this.options).onSuccess)==null?void 0:h.call(p,A,n,this.state.context)),await((E=(y=U(this,Nt).config).onSettled)==null?void 0:E.call(y,A,null,this.state.variables,this.state.context,this)),await((x=(_=this.options).onSettled)==null?void 0:x.call(_,A,null,n,this.state.context)),wt(this,Wn,Xr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((v=(w=U(this,Nt).config).onError)==null?void 0:v.call(w,A,n,this.state.context,this)),await((N=(S=this.options).onError)==null?void 0:N.call(S,A,n,this.state.context)),await((M=(D=U(this,Nt).config).onSettled)==null?void 0:M.call(D,void 0,A,this.state.variables,this.state.context,this)),await((T=(b=this.options).onSettled)==null?void 0:T.call(b,void 0,A,n,this.state.context)),A}finally{wt(this,Wn,Xr).call(this,{type:"error",error:A})}}finally{U(this,Nt).runNext(this)}}},Bn=new WeakMap,Nt=new WeakMap,oi=new WeakMap,Wn=new WeakSet,Xr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Lt.batch(()=>{U(this,Bn).forEach(s=>{s.onMutationUpdate(n)}),U(this,Nt).notify({mutation:this,type:"updated",action:n})})},a_);function IN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yt,Ol,l_,CN=(l_=class extends jd{constructor(e={}){super();we(this,Yt);we(this,Ol);this.config=e,ce(this,Yt,new Map),ce(this,Ol,Date.now())}build(e,n,r){const s=new SN({mutationCache:this,mutationId:++vu(this,Ol)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=zu(e),r=U(this,Yt).get(n)??[];r.push(e),U(this,Yt).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=zu(e);if(U(this,Yt).has(n)){const s=(r=U(this,Yt).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?U(this,Yt).delete(n):U(this,Yt).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=U(this,Yt).get(zu(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=U(this,Yt).get(zu(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...U(this,Yt).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>b0(n,r))}findAll(e={}){return this.getAll().filter(n=>b0(e,n))}notify(e){Lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Lt.batch(()=>Promise.all(e.map(n=>n.continue().catch(xn))))}},Yt=new WeakMap,Ol=new WeakMap,l_);function zu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function R0(t){return{onFetch:(e,n)=>{var d,p,h,y,E;const r=e.options,s=(h=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:h.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((E=e.state.data)==null?void 0:E.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let _=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},w=$T(e.options,e.fetchOptions),v=async(S,N,D)=>{if(_)return Promise.reject();if(N==null&&S.pages.length)return Promise.resolve(S);const M={queryKey:e.queryKey,pageParam:N,direction:D?"backward":"forward",meta:e.options.meta};x(M);const b=await w(M),{maxPages:T}=e.options,A=D?pN:fN;return{pages:A(S.pages,b,T),pageParams:A(S.pageParams,N,T)}};if(s&&i.length){const S=s==="backward",N=S?bN:k0,D={pages:i,pageParams:o},M=N(r,D);a=await v(D,M,S)}else{const S=t??i.length;do{const N=u===0?o[0]??r.initialPageParam:k0(r,a);if(u>0&&N==null)break;a=await v(a,N),u++}while(u<S)}return a};e.options.persister?e.fetchFn=()=>{var _,x;return(x=(_=e.options).persister)==null?void 0:x.call(_,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function k0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function bN(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Fe,ls,us,go,yo,cs,vo,wo,u_,AN=(u_=class{constructor(t={}){we(this,Fe);we(this,ls);we(this,us);we(this,go);we(this,yo);we(this,cs);we(this,vo);we(this,wo);ce(this,Fe,t.queryCache||new TN),ce(this,ls,t.mutationCache||new CN),ce(this,us,t.defaultOptions||{}),ce(this,go,new Map),ce(this,yo,new Map),ce(this,cs,0)}mount(){vu(this,cs)._++,U(this,cs)===1&&(ce(this,vo,BT.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Fe).onFocus())})),ce(this,wo,Gc.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Fe).onOnline())})))}unmount(){var t,e;vu(this,cs)._--,U(this,cs)===0&&((t=U(this,vo))==null||t.call(this),ce(this,vo,void 0),(e=U(this,wo))==null||e.call(this),ce(this,wo,void 0))}isFetching(t){return U(this,Fe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,ls).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Fe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=U(this,Fe).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(I0(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return U(this,Fe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,Fe).get(r.queryHash),i=s==null?void 0:s.state.data,o=aN(e,i);if(o!==void 0)return U(this,Fe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Lt.batch(()=>U(this,Fe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Fe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,Fe);Lt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,Fe),r={type:"active",...t};return Lt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Lt.batch(()=>U(this,Fe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(xn).catch(xn)}invalidateQueries(t={},e={}){return Lt.batch(()=>{if(U(this,Fe).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Lt.batch(()=>U(this,Fe).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(xn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(xn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,Fe).build(this,e);return n.isStaleByTime(I0(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xn).catch(xn)}fetchInfiniteQuery(t){return t.behavior=R0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xn).catch(xn)}ensureInfiniteQueryData(t){return t.behavior=R0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Gc.isOnline()?U(this,ls).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Fe)}getMutationCache(){return U(this,ls)}getDefaultOptions(){return U(this,us)}setDefaultOptions(t){ce(this,us,t)}setQueryDefaults(t,e){U(this,go).set(yl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,go).values()];let n={};return e.forEach(r=>{vl(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){U(this,yo).set(yl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,yo).values()];let n={};return e.forEach(r=>{vl(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,us).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=sg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===ig&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,us).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Fe).clear(),U(this,ls).clear()}},Fe=new WeakMap,ls=new WeakMap,us=new WeakMap,go=new WeakMap,yo=new WeakMap,cs=new WeakMap,vo=new WeakMap,wo=new WeakMap,u_),PN=I.createContext(void 0),RN=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(PN.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}var fs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fs||(fs={}));const N0="popstate";function kN(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return xp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Yc(s)}return ON(e,n,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function KT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NN(){return Math.random().toString(36).substr(2,8)}function O0(t,e){return{usr:t.state,key:t.key,idx:e}}function xp(t,e,n,r){return n===void 0&&(n=null),wl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wo(e):e,{state:n,key:e&&e.key||r||NN()})}function Yc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ON(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=fs.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(wl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=fs.Pop;let x=d(),w=x==null?null:x-c;c=x,u&&u({action:a,location:_.location,delta:w})}function h(x,w){a=fs.Push;let v=xp(_.location,x,w);c=d()+1;let S=O0(v,c),N=_.createHref(v);try{o.pushState(S,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(N)}i&&u&&u({action:a,location:_.location,delta:1})}function y(x,w){a=fs.Replace;let v=xp(_.location,x,w);c=d();let S=O0(v,c),N=_.createHref(v);o.replaceState(S,"",N),i&&u&&u({action:a,location:_.location,delta:0})}function E(x){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof x=="string"?x:Yc(x);return v=v.replace(/ $/,"%20"),We(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let _={get action(){return a},get location(){return t(s,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(N0,p),u=x,()=>{s.removeEventListener(N0,p),u=null}},createHref(x){return e(s,x)},createURL:E,encodeLocation(x){let w=E(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:y,go(x){return o.go(x)}};return _}var D0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(D0||(D0={}));function DN(t,e,n){return n===void 0&&(n="/"),LN(t,e,n,!1)}function LN(t,e,n,r){let s=typeof e=="string"?Wo(e):e,i=og(s.pathname||"/",n);if(i==null)return null;let o=GT(t);MN(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=QN(i);a=qN(o[u],c,r)}return a}function GT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(We(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Ts([r,u.relativePath]),d=n.concat(u);i.children&&i.children.length>0&&(We(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),GT(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:BN(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of YT(i.path))s(i,o,u)}),e}function YT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=YT(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function MN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const VN=/^:[\w-]+$/,jN=3,FN=2,UN=1,zN=10,$N=-2,L0=t=>t==="*";function BN(t,e){let n=t.split("/"),r=n.length;return n.some(L0)&&(r+=$N),e&&(r+=FN),n.filter(s=>!L0(s)).reduce((s,i)=>s+(VN.test(i)?jN:i===""?UN:zN),r)}function WN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function qN(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=M0({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=M0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Ts([i,p.pathname]),pathnameBase:XN(Ts([i,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(i=Ts([i,p.pathnameBase]))}return o}function M0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HN(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,p)=>{let{paramName:h,isOptional:y}=d;if(h==="*"){let _=a[p]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const E=a[p];return y&&!E?c[h]=void 0:c[h]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function HN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),KT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function QN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return KT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function og(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function KN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Wo(t):t;return{pathname:n?n.startsWith("/")?n:GN(n,e):e,search:JN(r),hash:ZN(s)}}function GN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function nf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ag(t,e){let n=YN(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function lg(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Wo(t):(s=wl({},t),We(!s.pathname||!s.pathname.includes("?"),nf("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),nf("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),nf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),p-=1;s.pathname=h.join("/")}a=p>=0?e[p]:"/"}let u=KN(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Ts=t=>t.join("/").replace(/\/\/+/g,"/"),XN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function e2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XT=["post","put","patch","delete"];new Set(XT);const t2=["get",...XT];new Set(t2);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _l(){return _l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_l.apply(this,arguments)}const ug=I.createContext(null),n2=I.createContext(null),Us=I.createContext(null),Ud=I.createContext(null),Lr=I.createContext({outlet:null,matches:[],isDataRoute:!1}),JT=I.createContext(null);function r2(t,e){let{relative:n}=e===void 0?{}:e;qo()||We(!1);let{basename:r,navigator:s}=I.useContext(Us),{hash:i,pathname:o,search:a}=e1(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Ts([r,o])),s.createHref({pathname:u,search:a,hash:i})}function qo(){return I.useContext(Ud)!=null}function Ci(){return qo()||We(!1),I.useContext(Ud).location}function ZT(t){I.useContext(Us).static||I.useLayoutEffect(t)}function nr(){let{isDataRoute:t}=I.useContext(Lr);return t?g2():s2()}function s2(){qo()||We(!1);let t=I.useContext(ug),{basename:e,future:n,navigator:r}=I.useContext(Us),{matches:s}=I.useContext(Lr),{pathname:i}=Ci(),o=JSON.stringify(ag(s,n.v7_relativeSplatPath)),a=I.useRef(!1);return ZT(()=>{a.current=!0}),I.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let p=lg(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ts([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,i,t])}function zd(){let{matches:t}=I.useContext(Lr),e=t[t.length-1];return e?e.params:{}}function e1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=I.useContext(Us),{matches:s}=I.useContext(Lr),{pathname:i}=Ci(),o=JSON.stringify(ag(s,r.v7_relativeSplatPath));return I.useMemo(()=>lg(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function i2(t,e){return o2(t,e)}function o2(t,e,n,r){qo()||We(!1);let{navigator:s}=I.useContext(Us),{matches:i}=I.useContext(Lr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Ci(),d;if(e){var p;let x=typeof e=="string"?Wo(e):e;u==="/"||(p=x.pathname)!=null&&p.startsWith(u)||We(!1),d=x}else d=c;let h=d.pathname||"/",y=h;if(u!=="/"){let x=u.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let E=DN(t,{pathname:y}),_=d2(E&&E.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Ts([u,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Ts([u,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&_?I.createElement(Ud.Provider,{value:{location:_l({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:fs.Pop}},_):_}function a2(){let t=m2(),e=e2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:s},n):null,null)}const l2=I.createElement(a2,null);class u2 extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(Lr.Provider,{value:this.props.routeContext},I.createElement(JT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function c2(t){let{routeContext:e,match:n,children:r}=t,s=I.useContext(ug);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(Lr.Provider,{value:e},r)}function d2(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||We(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:h,errors:y}=n,E=p.route.loader&&h[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||E){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,p,h)=>{let y,E=!1,_=null,x=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,_=p.route.errorElement||l2,u&&(c<0&&h===0?(E=!0,x=null):c===h&&(E=!0,x=p.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,h+1)),v=()=>{let S;return y?S=_:E?S=x:p.route.Component?S=I.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=d,I.createElement(c2,{match:p,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:S})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?I.createElement(u2,{location:n.location,revalidation:n.revalidation,component:_,error:y,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var t1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(t1||{}),Xc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Xc||{});function h2(t){let e=I.useContext(ug);return e||We(!1),e}function f2(t){let e=I.useContext(n2);return e||We(!1),e}function p2(t){let e=I.useContext(Lr);return e||We(!1),e}function n1(t){let e=p2(),n=e.matches[e.matches.length-1];return n.route.id||We(!1),n.route.id}function m2(){var t;let e=I.useContext(JT),n=f2(Xc.UseRouteError),r=n1(Xc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function g2(){let{router:t}=h2(t1.UseNavigateStable),e=n1(Xc.UseNavigateStable),n=I.useRef(!1);return ZT(()=>{n.current=!0}),I.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,_l({fromRouteId:e},i)))},[t,e])}function y2(t){let{to:e,replace:n,state:r,relative:s}=t;qo()||We(!1);let{future:i,static:o}=I.useContext(Us),{matches:a}=I.useContext(Lr),{pathname:u}=Ci(),c=nr(),d=lg(e,ag(a,i.v7_relativeSplatPath),u,s==="path"),p=JSON.stringify(d);return I.useEffect(()=>c(JSON.parse(p),{replace:n,state:r,relative:s}),[c,p,s,n,r]),null}function _n(t){We(!1)}function v2(t){let{basename:e="/",children:n=null,location:r,navigationType:s=fs.Pop,navigator:i,static:o=!1,future:a}=t;qo()&&We(!1);let u=e.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:u,navigator:i,static:o,future:_l({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof r=="string"&&(r=Wo(r));let{pathname:d="/",search:p="",hash:h="",state:y=null,key:E="default"}=r,_=I.useMemo(()=>{let x=og(d,u);return x==null?null:{location:{pathname:x,search:p,hash:h,state:y,key:E},navigationType:s}},[u,d,p,h,y,E,s]);return _==null?null:I.createElement(Us.Provider,{value:c},I.createElement(Ud.Provider,{children:n,value:_}))}function w2(t){let{children:e,location:n}=t;return i2(Tp(e),n)}new Promise(()=>{});function Tp(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,s)=>{if(!I.isValidElement(r))return;let i=[...e,s];if(r.type===I.Fragment){n.push.apply(n,Tp(r.props.children,i));return}r.type!==_n&&We(!1),!r.props.index||!r.props.children||We(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Tp(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sp.apply(this,arguments)}function _2(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function E2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function x2(t,e){return t.button===0&&(!e||e==="_self")&&!E2(t)}const T2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],S2="6";try{window.__reactRouterVersion=S2}catch{}const I2="startTransition",V0=lC[I2];function C2(t){let{basename:e,children:n,future:r,window:s}=t,i=I.useRef();i.current==null&&(i.current=kN({window:s,v5Compat:!0}));let o=i.current,[a,u]=I.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=I.useCallback(p=>{c&&V0?V0(()=>u(p)):u(p)},[u,c]);return I.useLayoutEffect(()=>o.listen(d),[o,d]),I.createElement(v2,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const b2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cg=I.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:u,to:c,preventScrollReset:d,viewTransition:p}=e,h=_2(e,T2),{basename:y}=I.useContext(Us),E,_=!1;if(typeof c=="string"&&A2.test(c)&&(E=c,b2))try{let S=new URL(window.location.href),N=c.startsWith("//")?new URL(S.protocol+c):new URL(c),D=og(N.pathname,y);N.origin===S.origin&&D!=null?c=D+N.search+N.hash:_=!0}catch{}let x=r2(c,{relative:s}),w=P2(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:s,viewTransition:p});function v(S){r&&r(S),S.defaultPrevented||w(S)}return I.createElement("a",Sp({},h,{href:E||x,onClick:_||i?r:v,ref:n,target:u}))});var j0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(j0||(j0={}));var F0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(F0||(F0={}));function P2(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,u=nr(),c=Ci(),d=e1(t,{relative:o});return I.useCallback(p=>{if(x2(p,n)){p.preventDefault();let h=r!==void 0?r:Yc(c)===Yc(d);u(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,u,d,r,s,n,t,i,o,a])}var U0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},R2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},s1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=i>>2,p=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,y=c&63;u||(y=64,o||(h=64)),r.push(n[d],n[p],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):R2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||p==null)throw new k2;const h=i<<2|a>>4;if(r.push(h),c!==64){const y=a<<4&240|c>>2;if(r.push(y),p!==64){const E=c<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class k2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N2=function(t){const e=r1(t);return s1.encodeByteArray(e,!0)},Jc=function(t){return N2(t).replace(/\./g,"")},i1=function(t){try{return s1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=()=>O2().__FIREBASE_DEFAULTS__,L2=()=>{if(typeof process>"u"||typeof U0>"u")return;const t=U0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},M2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&i1(t[1]);return e&&JSON.parse(e)},$d=()=>{try{return D2()||L2()||M2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},o1=t=>{var e,n;return(n=(e=$d())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},V2=t=>{const e=o1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},a1=()=>{var t;return(t=$d())===null||t===void 0?void 0:t.config},l1=t=>{var e;return(e=$d())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jc(JSON.stringify(n)),Jc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function z2(){var t;const e=(t=$d())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function B2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function W2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q2(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function H2(){return!z2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q2(){try{return typeof indexedDB=="object"}catch{return!1}}function K2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=G2,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Y2(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Mr(s,a,r)}}function Y2(t,e){return t.replace(X2,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const X2=/\{\$([^}]+)}/g;function J2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(z0(i)&&z0(o)){if(!Zc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function z0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ra(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ka(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Z2(t,e){const n=new eO(t,e);return n.subscribe.bind(n)}class eO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=rf),s.error===void 0&&(s.error=rf),s.complete===void 0&&(s.complete=rf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t){return t&&t._delegate?t._delegate:t}class yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new j2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sO(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rO(t){return t===Xs?void 0:t}function sO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const oO={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},aO=fe.INFO,lO={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},uO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=lO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dg{constructor(e){this.name=e,this._logLevel=aO,this._logHandler=uO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const cO=(t,e)=>e.some(n=>t instanceof n);let $0,B0;function dO(){return $0||($0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hO(){return B0||(B0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u1=new WeakMap,Ip=new WeakMap,c1=new WeakMap,sf=new WeakMap,hg=new WeakMap;function fO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ss(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&u1.set(n,t)}).catch(()=>{}),hg.set(e,t),e}function pO(t){if(Ip.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ip.set(t,e)}let Cp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ip.get(t);if(e==="objectStoreNames")return t.objectStoreNames||c1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ss(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mO(t){Cp=t(Cp)}function gO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(of(this),e,...n);return c1.set(r,e.sort?e.sort():[e]),Ss(r)}:hO().includes(t)?function(...e){return t.apply(of(this),e),Ss(u1.get(this))}:function(...e){return Ss(t.apply(of(this),e))}}function yO(t){return typeof t=="function"?gO(t):(t instanceof IDBTransaction&&pO(t),cO(t,dO())?new Proxy(t,Cp):t)}function Ss(t){if(t instanceof IDBRequest)return fO(t);if(sf.has(t))return sf.get(t);const e=yO(t);return e!==t&&(sf.set(t,e),hg.set(e,t)),e}const of=t=>hg.get(t);function vO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ss(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ss(o.result),u.oldVersion,u.newVersion,Ss(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const wO=["get","getKey","getAll","getAllKeys","count"],_O=["put","add","delete","clear"],af=new Map;function W0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(af.get(e))return af.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=_O.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||wO.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return af.set(e,i),i}mO(t=>({...t,get:(e,n,r)=>W0(e,n)||t.get(e,n,r),has:(e,n)=>!!W0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bp="@firebase/app",q0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new dg("@firebase/app"),TO="@firebase/app-compat",SO="@firebase/analytics-compat",IO="@firebase/analytics",CO="@firebase/app-check-compat",bO="@firebase/app-check",AO="@firebase/auth",PO="@firebase/auth-compat",RO="@firebase/database",kO="@firebase/data-connect",NO="@firebase/database-compat",OO="@firebase/functions",DO="@firebase/functions-compat",LO="@firebase/installations",MO="@firebase/installations-compat",VO="@firebase/messaging",jO="@firebase/messaging-compat",FO="@firebase/performance",UO="@firebase/performance-compat",zO="@firebase/remote-config",$O="@firebase/remote-config-compat",BO="@firebase/storage",WO="@firebase/storage-compat",qO="@firebase/firestore",HO="@firebase/vertexai-preview",QO="@firebase/firestore-compat",KO="firebase",GO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="[DEFAULT]",YO={[bp]:"fire-core",[TO]:"fire-core-compat",[IO]:"fire-analytics",[SO]:"fire-analytics-compat",[bO]:"fire-app-check",[CO]:"fire-app-check-compat",[AO]:"fire-auth",[PO]:"fire-auth-compat",[RO]:"fire-rtdb",[kO]:"fire-data-connect",[NO]:"fire-rtdb-compat",[OO]:"fire-fn",[DO]:"fire-fn-compat",[LO]:"fire-iid",[MO]:"fire-iid-compat",[VO]:"fire-fcm",[jO]:"fire-fcm-compat",[FO]:"fire-perf",[UO]:"fire-perf-compat",[zO]:"fire-rc",[$O]:"fire-rc-compat",[BO]:"fire-gcs",[WO]:"fire-gcs-compat",[qO]:"fire-fst",[QO]:"fire-fst-compat",[HO]:"fire-vertex","fire-js":"fire-js",[KO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,XO=new Map,Pp=new Map;function H0(t,e){try{t.container.addComponent(e)}catch(n){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Po(t){const e=t.name;if(Pp.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;Pp.set(e,t);for(const n of ed.values())H0(n,t);for(const n of XO.values())H0(n,t);return!0}function fg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new zl("app","Firebase",JO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=GO;function d1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ap,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Is.create("bad-app-name",{appName:String(s)});if(n||(n=a1()),!n)throw Is.create("no-options");const i=ed.get(s);if(i){if(Zc(n,i.options)&&Zc(r,i.config))return i;throw Is.create("duplicate-app",{appName:s})}const o=new iO(s);for(const u of Pp.values())o.addComponent(u);const a=new ZO(n,r,o);return ed.set(s,a),a}function h1(t=Ap){const e=ed.get(t);if(!e&&t===Ap&&a1())return d1();if(!e)throw Is.create("no-app",{appName:t});return e}function Cs(t,e,n){var r;let s=(r=YO[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(a.join(" "));return}Po(new yi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="firebase-heartbeat-database",tD=1,El="firebase-heartbeat-store";let lf=null;function f1(){return lf||(lf=vO(eD,tD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(El)}catch(n){console.warn(n)}}}}).catch(t=>{throw Is.create("idb-open",{originalErrorMessage:t.message})})),lf}async function nD(t){try{const n=(await f1()).transaction(El),r=await n.objectStore(El).get(p1(t));return await n.done,r}catch(e){if(e instanceof Mr)Ar.warn(e.message);else{const n=Is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ar.warn(n.message)}}}async function Q0(t,e){try{const r=(await f1()).transaction(El,"readwrite");await r.objectStore(El).put(e,p1(t)),await r.done}catch(n){if(n instanceof Mr)Ar.warn(n.message);else{const r=Is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ar.warn(r.message)}}}function p1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=1024,sD=30*24*60*60*1e3;class iD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=K0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=sD}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ar.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=K0(),{heartbeatsToSend:r,unsentEntries:s}=oD(this._heartbeatsCache.heartbeats),i=Jc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ar.warn(n),""}}}function K0(){return new Date().toISOString().substring(0,10)}function oD(t,e=rD){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),G0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),G0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q2()?K2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Q0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Q0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function G0(t){return Jc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){Po(new yi("platform-logger",e=>new EO(e),"PRIVATE")),Po(new yi("heartbeat",e=>new iD(e),"PRIVATE")),Cs(bp,q0,t),Cs(bp,q0,"esm2017"),Cs("fire-js","")}lD("");var Y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ui,m1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,T){function A(){}A.prototype=T.prototype,b.D=T.prototype,b.prototype=new A,b.prototype.constructor=b,b.C=function(P,k,O){for(var R=Array(arguments.length-2),W=2;W<arguments.length;W++)R[W-2]=arguments[W];return T.prototype[k].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,T,A){A||(A=0);var P=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)P[k]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(k=0;16>k;++k)P[k]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=b.g[0],A=b.g[1],k=b.g[2];var O=b.g[3],R=T+(O^A&(k^O))+P[0]+3614090360&4294967295;T=A+(R<<7&4294967295|R>>>25),R=O+(k^T&(A^k))+P[1]+3905402710&4294967295,O=T+(R<<12&4294967295|R>>>20),R=k+(A^O&(T^A))+P[2]+606105819&4294967295,k=O+(R<<17&4294967295|R>>>15),R=A+(T^k&(O^T))+P[3]+3250441966&4294967295,A=k+(R<<22&4294967295|R>>>10),R=T+(O^A&(k^O))+P[4]+4118548399&4294967295,T=A+(R<<7&4294967295|R>>>25),R=O+(k^T&(A^k))+P[5]+1200080426&4294967295,O=T+(R<<12&4294967295|R>>>20),R=k+(A^O&(T^A))+P[6]+2821735955&4294967295,k=O+(R<<17&4294967295|R>>>15),R=A+(T^k&(O^T))+P[7]+4249261313&4294967295,A=k+(R<<22&4294967295|R>>>10),R=T+(O^A&(k^O))+P[8]+1770035416&4294967295,T=A+(R<<7&4294967295|R>>>25),R=O+(k^T&(A^k))+P[9]+2336552879&4294967295,O=T+(R<<12&4294967295|R>>>20),R=k+(A^O&(T^A))+P[10]+4294925233&4294967295,k=O+(R<<17&4294967295|R>>>15),R=A+(T^k&(O^T))+P[11]+2304563134&4294967295,A=k+(R<<22&4294967295|R>>>10),R=T+(O^A&(k^O))+P[12]+1804603682&4294967295,T=A+(R<<7&4294967295|R>>>25),R=O+(k^T&(A^k))+P[13]+4254626195&4294967295,O=T+(R<<12&4294967295|R>>>20),R=k+(A^O&(T^A))+P[14]+2792965006&4294967295,k=O+(R<<17&4294967295|R>>>15),R=A+(T^k&(O^T))+P[15]+1236535329&4294967295,A=k+(R<<22&4294967295|R>>>10),R=T+(k^O&(A^k))+P[1]+4129170786&4294967295,T=A+(R<<5&4294967295|R>>>27),R=O+(A^k&(T^A))+P[6]+3225465664&4294967295,O=T+(R<<9&4294967295|R>>>23),R=k+(T^A&(O^T))+P[11]+643717713&4294967295,k=O+(R<<14&4294967295|R>>>18),R=A+(O^T&(k^O))+P[0]+3921069994&4294967295,A=k+(R<<20&4294967295|R>>>12),R=T+(k^O&(A^k))+P[5]+3593408605&4294967295,T=A+(R<<5&4294967295|R>>>27),R=O+(A^k&(T^A))+P[10]+38016083&4294967295,O=T+(R<<9&4294967295|R>>>23),R=k+(T^A&(O^T))+P[15]+3634488961&4294967295,k=O+(R<<14&4294967295|R>>>18),R=A+(O^T&(k^O))+P[4]+3889429448&4294967295,A=k+(R<<20&4294967295|R>>>12),R=T+(k^O&(A^k))+P[9]+568446438&4294967295,T=A+(R<<5&4294967295|R>>>27),R=O+(A^k&(T^A))+P[14]+3275163606&4294967295,O=T+(R<<9&4294967295|R>>>23),R=k+(T^A&(O^T))+P[3]+4107603335&4294967295,k=O+(R<<14&4294967295|R>>>18),R=A+(O^T&(k^O))+P[8]+1163531501&4294967295,A=k+(R<<20&4294967295|R>>>12),R=T+(k^O&(A^k))+P[13]+2850285829&4294967295,T=A+(R<<5&4294967295|R>>>27),R=O+(A^k&(T^A))+P[2]+4243563512&4294967295,O=T+(R<<9&4294967295|R>>>23),R=k+(T^A&(O^T))+P[7]+1735328473&4294967295,k=O+(R<<14&4294967295|R>>>18),R=A+(O^T&(k^O))+P[12]+2368359562&4294967295,A=k+(R<<20&4294967295|R>>>12),R=T+(A^k^O)+P[5]+4294588738&4294967295,T=A+(R<<4&4294967295|R>>>28),R=O+(T^A^k)+P[8]+2272392833&4294967295,O=T+(R<<11&4294967295|R>>>21),R=k+(O^T^A)+P[11]+1839030562&4294967295,k=O+(R<<16&4294967295|R>>>16),R=A+(k^O^T)+P[14]+4259657740&4294967295,A=k+(R<<23&4294967295|R>>>9),R=T+(A^k^O)+P[1]+2763975236&4294967295,T=A+(R<<4&4294967295|R>>>28),R=O+(T^A^k)+P[4]+1272893353&4294967295,O=T+(R<<11&4294967295|R>>>21),R=k+(O^T^A)+P[7]+4139469664&4294967295,k=O+(R<<16&4294967295|R>>>16),R=A+(k^O^T)+P[10]+3200236656&4294967295,A=k+(R<<23&4294967295|R>>>9),R=T+(A^k^O)+P[13]+681279174&4294967295,T=A+(R<<4&4294967295|R>>>28),R=O+(T^A^k)+P[0]+3936430074&4294967295,O=T+(R<<11&4294967295|R>>>21),R=k+(O^T^A)+P[3]+3572445317&4294967295,k=O+(R<<16&4294967295|R>>>16),R=A+(k^O^T)+P[6]+76029189&4294967295,A=k+(R<<23&4294967295|R>>>9),R=T+(A^k^O)+P[9]+3654602809&4294967295,T=A+(R<<4&4294967295|R>>>28),R=O+(T^A^k)+P[12]+3873151461&4294967295,O=T+(R<<11&4294967295|R>>>21),R=k+(O^T^A)+P[15]+530742520&4294967295,k=O+(R<<16&4294967295|R>>>16),R=A+(k^O^T)+P[2]+3299628645&4294967295,A=k+(R<<23&4294967295|R>>>9),R=T+(k^(A|~O))+P[0]+4096336452&4294967295,T=A+(R<<6&4294967295|R>>>26),R=O+(A^(T|~k))+P[7]+1126891415&4294967295,O=T+(R<<10&4294967295|R>>>22),R=k+(T^(O|~A))+P[14]+2878612391&4294967295,k=O+(R<<15&4294967295|R>>>17),R=A+(O^(k|~T))+P[5]+4237533241&4294967295,A=k+(R<<21&4294967295|R>>>11),R=T+(k^(A|~O))+P[12]+1700485571&4294967295,T=A+(R<<6&4294967295|R>>>26),R=O+(A^(T|~k))+P[3]+2399980690&4294967295,O=T+(R<<10&4294967295|R>>>22),R=k+(T^(O|~A))+P[10]+4293915773&4294967295,k=O+(R<<15&4294967295|R>>>17),R=A+(O^(k|~T))+P[1]+2240044497&4294967295,A=k+(R<<21&4294967295|R>>>11),R=T+(k^(A|~O))+P[8]+1873313359&4294967295,T=A+(R<<6&4294967295|R>>>26),R=O+(A^(T|~k))+P[15]+4264355552&4294967295,O=T+(R<<10&4294967295|R>>>22),R=k+(T^(O|~A))+P[6]+2734768916&4294967295,k=O+(R<<15&4294967295|R>>>17),R=A+(O^(k|~T))+P[13]+1309151649&4294967295,A=k+(R<<21&4294967295|R>>>11),R=T+(k^(A|~O))+P[4]+4149444226&4294967295,T=A+(R<<6&4294967295|R>>>26),R=O+(A^(T|~k))+P[11]+3174756917&4294967295,O=T+(R<<10&4294967295|R>>>22),R=k+(T^(O|~A))+P[2]+718787259&4294967295,k=O+(R<<15&4294967295|R>>>17),R=A+(O^(k|~T))+P[9]+3951481745&4294967295,b.g[0]=b.g[0]+T&4294967295,b.g[1]=b.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,b.g[2]=b.g[2]+k&4294967295,b.g[3]=b.g[3]+O&4294967295}r.prototype.u=function(b,T){T===void 0&&(T=b.length);for(var A=T-this.blockSize,P=this.B,k=this.h,O=0;O<T;){if(k==0)for(;O<=A;)s(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<T;)if(P[k++]=b.charCodeAt(O++),k==this.blockSize){s(this,P),k=0;break}}else for(;O<T;)if(P[k++]=b[O++],k==this.blockSize){s(this,P),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var T=1;T<b.length-8;++T)b[T]=0;var A=8*this.o;for(T=b.length-8;T<b.length;++T)b[T]=A&255,A/=256;for(this.u(b),b=Array(16),T=A=0;4>T;++T)for(var P=0;32>P;P+=8)b[A++]=this.g[T]>>>P&255;return b};function i(b,T){var A=a;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=T(b)}function o(b,T){this.h=T;for(var A=[],P=!0,k=b.length-1;0<=k;k--){var O=b[k]|0;P&&O==T||(A[k]=O,P=!1)}this.g=A}var a={};function u(b){return-128<=b&&128>b?i(b,function(T){return new o([T|0],0>T?-1:0)}):new o([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return x(c(-b));for(var T=[],A=1,P=0;b>=A;P++)T[P]=b/A|0,A*=4294967296;return new o(T,0)}function d(b,T){if(b.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(b.charAt(0)=="-")return x(d(b.substring(1),T));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(T,8)),P=p,k=0;k<b.length;k+=8){var O=Math.min(8,b.length-k),R=parseInt(b.substring(k,k+O),T);8>O?(O=c(Math.pow(T,O)),P=P.j(O).add(c(R))):(P=P.j(A),P=P.add(c(R)))}return P}var p=u(0),h=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(_(this))return-x(this).m();for(var b=0,T=1,A=0;A<this.g.length;A++){var P=this.i(A);b+=(0<=P?P:4294967296+P)*T,T*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(E(this))return"0";if(_(this))return"-"+x(this).toString(b);for(var T=c(Math.pow(b,6)),A=this,P="";;){var k=N(A,T).g;A=w(A,k.j(T));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(b);if(A=k,E(A))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function E(b){if(b.h!=0)return!1;for(var T=0;T<b.g.length;T++)if(b.g[T]!=0)return!1;return!0}function _(b){return b.h==-1}t.l=function(b){return b=w(this,b),_(b)?-1:E(b)?0:1};function x(b){for(var T=b.g.length,A=[],P=0;P<T;P++)A[P]=~b.g[P];return new o(A,~b.h).add(h)}t.abs=function(){return _(this)?x(this):this},t.add=function(b){for(var T=Math.max(this.g.length,b.g.length),A=[],P=0,k=0;k<=T;k++){var O=P+(this.i(k)&65535)+(b.i(k)&65535),R=(O>>>16)+(this.i(k)>>>16)+(b.i(k)>>>16);P=R>>>16,O&=65535,R&=65535,A[k]=R<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function w(b,T){return b.add(x(T))}t.j=function(b){if(E(this)||E(b))return p;if(_(this))return _(b)?x(this).j(x(b)):x(x(this).j(b));if(_(b))return x(this.j(x(b)));if(0>this.l(y)&&0>b.l(y))return c(this.m()*b.m());for(var T=this.g.length+b.g.length,A=[],P=0;P<2*T;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<b.g.length;k++){var O=this.i(P)>>>16,R=this.i(P)&65535,W=b.i(k)>>>16,re=b.i(k)&65535;A[2*P+2*k]+=R*re,v(A,2*P+2*k),A[2*P+2*k+1]+=O*re,v(A,2*P+2*k+1),A[2*P+2*k+1]+=R*W,v(A,2*P+2*k+1),A[2*P+2*k+2]+=O*W,v(A,2*P+2*k+2)}for(P=0;P<T;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=T;P<2*T;P++)A[P]=0;return new o(A,0)};function v(b,T){for(;(b[T]&65535)!=b[T];)b[T+1]+=b[T]>>>16,b[T]&=65535,T++}function S(b,T){this.g=b,this.h=T}function N(b,T){if(E(T))throw Error("division by zero");if(E(b))return new S(p,p);if(_(b))return T=N(x(b),T),new S(x(T.g),x(T.h));if(_(T))return T=N(b,x(T)),new S(x(T.g),T.h);if(30<b.g.length){if(_(b)||_(T))throw Error("slowDivide_ only works with positive integers.");for(var A=h,P=T;0>=P.l(b);)A=D(A),P=D(P);var k=M(A,1),O=M(P,1);for(P=M(P,2),A=M(A,2);!E(P);){var R=O.add(P);0>=R.l(b)&&(k=k.add(A),O=R),P=M(P,1),A=M(A,1)}return T=w(b,k.j(T)),new S(k,T)}for(k=p;0<=b.l(T);){for(A=Math.max(1,Math.floor(b.m()/T.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=c(A),R=O.j(T);_(R)||0<R.l(b);)A-=P,O=c(A),R=O.j(T);E(O)&&(O=h),k=k.add(O),b=w(b,R)}return new S(k,b)}t.A=function(b){return N(this,b).h},t.and=function(b){for(var T=Math.max(this.g.length,b.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)&b.i(P);return new o(A,this.h&b.h)},t.or=function(b){for(var T=Math.max(this.g.length,b.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)|b.i(P);return new o(A,this.h|b.h)},t.xor=function(b){for(var T=Math.max(this.g.length,b.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)^b.i(P);return new o(A,this.h^b.h)};function D(b){for(var T=b.g.length+1,A=[],P=0;P<T;P++)A[P]=b.i(P)<<1|b.i(P-1)>>>31;return new o(A,b.h)}function M(b,T){var A=T>>5;T%=32;for(var P=b.g.length-A,k=[],O=0;O<P;O++)k[O]=0<T?b.i(O+A)>>>T|b.i(O+A+1)<<32-T:b.i(O+A);return new o(k,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,m1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ui=o}).apply(typeof Y0<"u"?Y0:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g1,Na,y1,dc,Rp,v1,w1,_1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,m){return l==Array.prototype||l==Object.prototype||(l[f]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(l,f){if(f)e:{var m=r;l=l.split(".");for(var C=0;C<l.length-1;C++){var L=l[C];if(!(L in m))break e;m=m[L]}l=l[l.length-1],C=m[l],f=f(C),f!=C&&f!=null&&e(m,l,{configurable:!0,writable:!0,value:f})}}function i(l,f){l instanceof String&&(l+="");var m=0,C=!1,L={next:function(){if(!C&&m<l.length){var j=m++;return{value:f(j,l[j]),done:!1}}return C=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(l){return l||function(){return i(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function c(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function d(l,f,m){return l.call.apply(l.bind,arguments)}function p(l,f,m){if(!l)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,C),l.apply(f,L)}}return function(){return l.apply(f,arguments)}}function h(l,f,m){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,h.apply(null,arguments)}function y(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var C=m.slice();return C.push.apply(C,arguments),l.apply(this,C)}}function E(l,f){function m(){}m.prototype=f.prototype,l.aa=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(C,L,j){for(var q=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)q[Se-2]=arguments[Se];return f.prototype[L].apply(C,q)}}function _(l){const f=l.length;if(0<f){const m=Array(f);for(let C=0;C<f;C++)m[C]=l[C];return m}return[]}function x(l,f){for(let m=1;m<arguments.length;m++){const C=arguments[m];if(u(C)){const L=l.length||0,j=C.length||0;l.length=L+j;for(let q=0;q<j;q++)l[L+q]=C[q]}else l.push(C)}}class w{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function v(l){return/^[\s\xa0]*$/.test(l)}function S(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function N(l){return N[" "](l),l}N[" "]=function(){};var D=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function M(l,f,m){for(const C in l)f.call(m,l[C],C,l)}function b(l,f){for(const m in l)f.call(void 0,l[m],m,l)}function T(l){const f={};for(const m in l)f[m]=l[m];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,f){let m,C;for(let L=1;L<arguments.length;L++){C=arguments[L];for(m in C)l[m]=C[m];for(let j=0;j<A.length;j++)m=A[j],Object.prototype.hasOwnProperty.call(C,m)&&(l[m]=C[m])}}function k(l){var f=1;l=l.split(":");const m=[];for(;0<f&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function O(l){a.setTimeout(()=>{throw l},0)}function R(){var l=B;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class W{constructor(){this.h=this.g=null}add(f,m){const C=re.get();C.set(f,m),this.h?this.h.next=C:this.g=C,this.h=C}}var re=new w(()=>new te,l=>l.reset());class te{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,V=!1,B=new W,Y=()=>{const l=a.Promise.resolve(void 0);ie=()=>{l.then(K)}};var K=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(m){O(m)}var f=re;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}V=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return l}();function Xe(l,f){if(ee.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,C=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(D){e:{try{N(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else m=="mouseover"?f=l.fromElement:m=="mouseout"&&(f=l.toElement);this.relatedTarget=f,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ve[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Xe.aa.h.call(this)}}E(Xe,ee);var ve={2:"touch",3:"pen",4:"mouse"};Xe.prototype.h=function(){Xe.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),Ln=0;function Mn(l,f,m,C,L){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!C,this.ha=L,this.key=++Ln,this.da=this.fa=!1}function Kt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function rr(l){this.src=l,this.g={},this.h=0}rr.prototype.add=function(l,f,m,C,L){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var q=gn(l,f,C,L);return-1<q?(f=l[q],m||(f.fa=!1)):(f=new Mn(f,this.src,j,!!C,L),f.fa=m,l.push(f)),f};function Vn(l,f){var m=f.type;if(m in l.g){var C=l.g[m],L=Array.prototype.indexOf.call(C,f,void 0),j;(j=0<=L)&&Array.prototype.splice.call(C,L,1),j&&(Kt(f),l.g[m].length==0&&(delete l.g[m],l.h--))}}function gn(l,f,m,C){for(var L=0;L<l.length;++L){var j=l[L];if(!j.da&&j.listener==f&&j.capture==!!m&&j.ha==C)return L}return-1}var sr="closure_lm_"+(1e6*Math.random()|0),Ur={};function yn(l,f,m,C,L){if(Array.isArray(f)){for(var j=0;j<f.length;j++)yn(l,f[j],m,C,L);return null}return m=ta(m),l&&l[mt]?l.K(f,m,c(C)?!!C.capture:!!C,L):Jo(l,f,m,!1,C,L)}function Jo(l,f,m,C,L,j){if(!f)throw Error("Invalid event type");var q=c(L)?!!L.capture:!!L,Se=zr(l);if(Se||(l[sr]=Se=new rr(l)),m=Se.add(f,m,C,q,j),m.proxy)return m;if(C=Zo(),m.proxy=C,C.src=l,C.listener=m,l.addEventListener)Ce||(L=q),L===void 0&&(L=!1),l.addEventListener(f.toString(),C,L);else if(l.attachEvent)l.attachEvent(tu(f.toString()),C);else if(l.addListener&&l.removeListener)l.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Zo(){function l(m){return f.call(l.src,l.listener,m)}const f=ah;return l}function qe(l,f,m,C,L){if(Array.isArray(f))for(var j=0;j<f.length;j++)qe(l,f[j],m,C,L);else C=c(C)?!!C.capture:!!C,m=ta(m),l&&l[mt]?(l=l.i,f=String(f).toString(),f in l.g&&(j=l.g[f],m=gn(j,m,C,L),-1<m&&(Kt(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete l.g[f],l.h--)))):l&&(l=zr(l))&&(f=l.g[f.toString()],l=-1,f&&(l=gn(f,m,C,L)),(m=-1<l?f[l]:null)&&jn(m))}function jn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[mt])Vn(f.i,l);else{var m=l.type,C=l.proxy;f.removeEventListener?f.removeEventListener(m,C,l.capture):f.detachEvent?f.detachEvent(tu(m),C):f.addListener&&f.removeListener&&f.removeListener(C),(m=zr(f))?(Vn(m,l),m.h==0&&(m.src=null,f[sr]=null)):Kt(l)}}}function tu(l){return l in Ur?Ur[l]:Ur[l]="on"+l}function ah(l,f){if(l.da)l=!0;else{f=new Xe(f,this);var m=l.listener,C=l.ha||l.src;l.fa&&jn(l),l=m.call(C,f)}return l}function zr(l){return l=l[sr],l instanceof rr?l:null}var ea="__closure_events_fn_"+(1e9*Math.random()>>>0);function ta(l){return typeof l=="function"?l:(l[ea]||(l[ea]=function(f){return l.handleEvent(f)}),l[ea])}function He(){J.call(this),this.i=new rr(this),this.M=this,this.F=null}E(He,J),He.prototype[mt]=!0,He.prototype.removeEventListener=function(l,f,m,C){qe(this,l,f,m,C)};function Ve(l,f){var m,C=l.F;if(C)for(m=[];C;C=C.F)m.push(C);if(l=l.M,C=f.type||f,typeof f=="string")f=new ee(f,l);else if(f instanceof ee)f.target=f.target||l;else{var L=f;f=new ee(C,l),P(f,L)}if(L=!0,m)for(var j=m.length-1;0<=j;j--){var q=f.g=m[j];L=Ws(q,C,!0,f)&&L}if(q=f.g=l,L=Ws(q,C,!0,f)&&L,L=Ws(q,C,!1,f)&&L,m)for(j=0;j<m.length;j++)q=f.g=m[j],L=Ws(q,C,!1,f)&&L}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var m=l.g[f],C=0;C<m.length;C++)Kt(m[C]);delete l.g[f],l.h--}}this.F=null},He.prototype.K=function(l,f,m,C){return this.i.add(String(l),f,!1,m,C)},He.prototype.L=function(l,f,m,C){return this.i.add(String(l),f,!0,m,C)};function Ws(l,f,m,C){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,j=0;j<f.length;++j){var q=f[j];if(q&&!q.da&&q.capture==m){var Se=q.listener,at=q.ha||q.src;q.fa&&Vn(l.i,q),L=Se.call(at,C)!==!1&&L}}return L&&!C.defaultPrevented}function ir(l,f,m){if(typeof l=="function")m&&(l=h(l,m));else if(l&&typeof l.handleEvent=="function")l=h(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function na(l){l.g=ir(()=>{l.g=null,l.i&&(l.i=!1,na(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class lh extends J{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:na(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(l){J.call(this),this.h=l,this.g={}}E($r,J);var ra=[];function nu(l){M(l.g,function(f,m){this.g.hasOwnProperty(m)&&jn(f)},l),l.g={}}$r.prototype.N=function(){$r.aa.N.call(this),nu(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qs=a.JSON.stringify,Fn=a.JSON.parse,uh=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function oe(){}oe.prototype.h=null;function Te(l){return l.h||(l.h=l.i())}function _e(){}var gt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ut(){ee.call(this,"d")}E(Ut,ee);function Br(){ee.call(this,"c")}E(Br,ee);var or={},ay=null;function ru(){return ay=ay||new He}or.La="serverreachability";function ly(l){ee.call(this,or.La,l)}E(ly,ee);function sa(l){const f=ru();Ve(f,new ly(f))}or.STAT_EVENT="statevent";function uy(l,f){ee.call(this,or.STAT_EVENT,l),this.stat=f}E(uy,ee);function kt(l){const f=ru();Ve(f,new uy(f,l))}or.Ma="timingevent";function cy(l,f){ee.call(this,or.Ma,l),this.size=f}E(cy,ee);function ia(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function oa(){this.g=!0}oa.prototype.xa=function(){this.g=!1};function TI(l,f,m,C,L,j){l.info(function(){if(l.g)if(j)for(var q="",Se=j.split("&"),at=0;at<Se.length;at++){var ge=Se[at].split("=");if(1<ge.length){var yt=ge[0];ge=ge[1];var vt=yt.split("_");q=2<=vt.length&&vt[1]=="type"?q+(yt+"="+ge+"&"):q+(yt+"=redacted&")}}else q=null;else q=j;return"XMLHTTP REQ ("+C+") [attempt "+L+"]: "+f+`
`+m+`
`+q})}function SI(l,f,m,C,L,j,q){l.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+L+"]: "+f+`
`+m+`
`+j+" "+q})}function Ri(l,f,m,C){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+CI(l,m)+(C?" "+C:"")})}function II(l,f){l.info(function(){return"TIMEOUT: "+f})}oa.prototype.info=function(){};function CI(l,f){if(!l.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var C=m[l];if(!(2>C.length)){var L=C[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var q=1;q<L.length;q++)L[q]=""}}}}return qs(m)}catch{return f}}var su={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ch;function iu(){}E(iu,oe),iu.prototype.g=function(){return new XMLHttpRequest},iu.prototype.i=function(){return{}},ch=new iu;function Wr(l,f,m,C){this.j=l,this.i=f,this.l=m,this.R=C||1,this.U=new $r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hy}function hy(){this.i=null,this.g="",this.h=!1}var fy={},dh={};function hh(l,f,m){l.L=1,l.v=uu(ar(f)),l.m=m,l.P=!0,py(l,null)}function py(l,f){l.F=Date.now(),ou(l),l.A=ar(l.v);var m=l.A,C=l.R;Array.isArray(C)||(C=[String(C)]),Ay(m.i,"t",C),l.C=0,m=l.j.J,l.h=new hy,l.g=Hy(l.j,m?f:null,!l.m),0<l.O&&(l.M=new lh(h(l.Y,l,l.g),l.O)),f=l.U,m=l.g,C=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(ra[0]=L.toString()),L=ra);for(var j=0;j<L.length;j++){var q=yn(m,L[j],C||f.handleEvent,!1,f.h||f);if(!q)break;f.g[q.key]=q}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),sa(),TI(l.i,l.u,l.A,l.l,l.R,l.m)}Wr.prototype.ca=function(l){l=l.target;const f=this.M;f&&lr(l)==3?f.j():this.Y(l)},Wr.prototype.Y=function(l){try{if(l==this.g)e:{const vt=lr(this.g);var f=this.g.Ba();const Oi=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||Ly(this.g)))){this.J||vt!=4||f==7||(f==8||0>=Oi?sa(3):sa(2)),fh(this);var m=this.g.Z();this.X=m;t:if(my(this)){var C=Ly(this.g);l="";var L=C.length,j=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hs(this),aa(this);var q="";break t}this.h.i=new a.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,l+=this.h.i.decode(C[f],{stream:!(j&&f==L-1)});C.length=0,this.h.g+=l,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=m==200,SI(this.i,this.u,this.A,this.l,this.R,vt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,at=this.g;if((Se=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Se)){var ge=Se;break t}}ge=null}if(m=ge)Ri(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ph(this,m);else{this.o=!1,this.s=3,kt(12),Hs(this),aa(this);break e}}if(this.P){m=!0;let vn;for(;!this.J&&this.C<q.length;)if(vn=bI(this,q),vn==dh){vt==4&&(this.s=4,kt(14),m=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==fy){this.s=4,kt(15),Ri(this.i,this.l,q,"[Invalid Chunk]"),m=!1;break}else Ri(this.i,this.l,vn,null),ph(this,vn);if(my(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||q.length!=0||this.h.h||(this.s=1,kt(16),m=!1),this.o=this.o&&m,!m)Ri(this.i,this.l,q,"[Invalid Chunked Response]"),Hs(this),aa(this);else if(0<q.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),_h(yt),yt.M=!0,kt(11))}}else Ri(this.i,this.l,q,null),ph(this,q);vt==4&&Hs(this),this.o&&!this.J&&(vt==4?$y(this.j,this):(this.o=!1,ou(this)))}else WI(this.g),m==400&&0<q.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Hs(this),aa(this)}}}catch{}finally{}};function my(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function bI(l,f){var m=l.C,C=f.indexOf(`
`,m);return C==-1?dh:(m=Number(f.substring(m,C)),isNaN(m)?fy:(C+=1,C+m>f.length?dh:(f=f.slice(C,C+m),l.C=C+m,f)))}Wr.prototype.cancel=function(){this.J=!0,Hs(this)};function ou(l){l.S=Date.now()+l.I,gy(l,l.I)}function gy(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ia(h(l.ba,l),f)}function fh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Wr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(II(this.i,this.A),this.L!=2&&(sa(),kt(17)),Hs(this),this.s=2,aa(this)):gy(this,this.S-l)};function aa(l){l.j.G==0||l.J||$y(l.j,l)}function Hs(l){fh(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,nu(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function ph(l,f){try{var m=l.j;if(m.G!=0&&(m.g==l||mh(m.h,l))){if(!l.K&&mh(m.h,l)&&m.G==3){try{var C=m.Da.g.parse(f)}catch{C=null}if(Array.isArray(C)&&C.length==3){var L=C;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)mu(m),fu(m);else break e;wh(m),kt(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=ia(h(m.Za,m),6e3));if(1>=wy(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ks(m,11)}else if((l.K||m.g==l)&&mu(m),!v(f))for(L=m.Da.g.parse(f),f=0;f<L.length;f++){let ge=L[f];if(m.T=ge[0],ge=ge[1],m.G==2)if(ge[0]=="c"){m.K=ge[1],m.ia=ge[2];const yt=ge[3];yt!=null&&(m.la=yt,m.j.info("VER="+m.la));const vt=ge[4];vt!=null&&(m.Aa=vt,m.j.info("SVER="+m.Aa));const Oi=ge[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(C=1.5*Oi,m.L=C,m.j.info("backChannelRequestTimeoutMs_="+C)),C=m;const vn=l.g;if(vn){const yu=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yu){var j=C.h;j.g||yu.indexOf("spdy")==-1&&yu.indexOf("quic")==-1&&yu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(gh(j,j.h),j.h=null))}if(C.D){const Eh=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Eh&&(C.ya=Eh,be(C.I,C.D,Eh))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),C=m;var q=l;if(C.qa=qy(C,C.J?C.ia:null,C.W),q.K){_y(C.h,q);var Se=q,at=C.L;at&&(Se.I=at),Se.B&&(fh(Se),ou(Se)),C.g=q}else Uy(C);0<m.i.length&&pu(m)}else ge[0]!="stop"&&ge[0]!="close"||Ks(m,7);else m.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Ks(m,7):vh(m):ge[0]!="noop"&&m.l&&m.l.ta(ge),m.v=0)}}sa(4)}catch{}}var AI=class{constructor(l,f){this.g=l,this.map=f}};function yy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function wy(l){return l.h?1:l.g?l.g.size:0}function mh(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function gh(l,f){l.g?l.g.add(f):l.h=f}function _y(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}yy.prototype.cancel=function(){if(this.i=Ey(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ey(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const m of l.g.values())f=f.concat(m.D);return f}return _(l.i)}function PI(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],m=l.length,C=0;C<m;C++)f.push(l[C]);return f}f=[],m=0;for(C in l)f[m++]=l[C];return f}function RI(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var m=0;m<l;m++)f.push(m);return f}f=[],m=0;for(const C in l)f[m++]=C;return f}}}function xy(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var m=RI(l),C=PI(l),L=C.length,j=0;j<L;j++)f.call(void 0,C[j],m&&m[j],l)}var Ty=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kI(l,f){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var C=l[m].indexOf("="),L=null;if(0<=C){var j=l[m].substring(0,C);L=l[m].substring(C+1)}else j=l[m];f(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Qs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Qs){this.h=l.h,au(this,l.j),this.o=l.o,this.g=l.g,lu(this,l.s),this.l=l.l;var f=l.i,m=new ca;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Sy(this,m),this.m=l.m}else l&&(f=String(l).match(Ty))?(this.h=!1,au(this,f[1]||"",!0),this.o=la(f[2]||""),this.g=la(f[3]||"",!0),lu(this,f[4]),this.l=la(f[5]||"",!0),Sy(this,f[6]||"",!0),this.m=la(f[7]||"")):(this.h=!1,this.i=new ca(null,this.h))}Qs.prototype.toString=function(){var l=[],f=this.j;f&&l.push(ua(f,Iy,!0),":");var m=this.g;return(m||f=="file")&&(l.push("//"),(f=this.o)&&l.push(ua(f,Iy,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(ua(m,m.charAt(0)=="/"?DI:OI,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",ua(m,MI)),l.join("")};function ar(l){return new Qs(l)}function au(l,f,m){l.j=m?la(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function lu(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Sy(l,f,m){f instanceof ca?(l.i=f,VI(l.i,l.h)):(m||(f=ua(f,LI)),l.i=new ca(f,l.h))}function be(l,f,m){l.i.set(f,m)}function uu(l){return be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function la(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ua(l,f,m){return typeof l=="string"?(l=encodeURI(l).replace(f,NI),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function NI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Iy=/[#\/\?@]/g,OI=/[#\?:]/g,DI=/[#\?]/g,LI=/[#\?@]/g,MI=/#/g;function ca(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function qr(l){l.g||(l.g=new Map,l.h=0,l.i&&kI(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=ca.prototype,t.add=function(l,f){qr(this),this.i=null,l=ki(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this};function Cy(l,f){qr(l),f=ki(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function by(l,f){return qr(l),f=ki(l,f),l.g.has(f)}t.forEach=function(l,f){qr(this),this.g.forEach(function(m,C){m.forEach(function(L){l.call(f,L,C,this)},this)},this)},t.na=function(){qr(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let C=0;C<f.length;C++){const L=l[C];for(let j=0;j<L.length;j++)m.push(f[C])}return m},t.V=function(l){qr(this);let f=[];if(typeof l=="string")by(this,l)&&(f=f.concat(this.g.get(ki(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)f=f.concat(l[m])}return f},t.set=function(l,f){return qr(this),this.i=null,l=ki(this,l),by(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Ay(l,f,m){Cy(l,f),0<m.length&&(l.i=null,l.g.set(ki(l,f),_(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var C=f[m];const j=encodeURIComponent(String(C)),q=this.V(C);for(C=0;C<q.length;C++){var L=j;q[C]!==""&&(L+="="+encodeURIComponent(String(q[C]))),l.push(L)}}return this.i=l.join("&")};function ki(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function VI(l,f){f&&!l.j&&(qr(l),l.i=null,l.g.forEach(function(m,C){var L=C.toLowerCase();C!=L&&(Cy(this,C),Ay(this,L,m))},l)),l.j=f}function jI(l,f){const m=new oa;if(a.Image){const C=new Image;C.onload=y(Hr,m,"TestLoadImage: loaded",!0,f,C),C.onerror=y(Hr,m,"TestLoadImage: error",!1,f,C),C.onabort=y(Hr,m,"TestLoadImage: abort",!1,f,C),C.ontimeout=y(Hr,m,"TestLoadImage: timeout",!1,f,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=l}else f(!1)}function FI(l,f){const m=new oa,C=new AbortController,L=setTimeout(()=>{C.abort(),Hr(m,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:C.signal}).then(j=>{clearTimeout(L),j.ok?Hr(m,"TestPingServer: ok",!0,f):Hr(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),Hr(m,"TestPingServer: error",!1,f)})}function Hr(l,f,m,C,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),C(m)}catch{}}function UI(){this.g=new uh}function zI(l,f,m){const C=m||"";try{xy(l,function(L,j){let q=L;c(L)&&(q=qs(L)),f.push(C+j+"="+encodeURIComponent(q))})}catch(L){throw f.push(C+"type="+encodeURIComponent("_badmap")),L}}function cu(l){this.l=l.Ub||null,this.j=l.eb||!1}E(cu,oe),cu.prototype.g=function(){return new du(this.l,this.j)},cu.prototype.i=function(l){return function(){return l}}({});function du(l,f){He.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(du,He),t=du.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,ha(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,da(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ha(this)),this.g&&(this.readyState=3,ha(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Py(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Py(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?da(this):ha(this),this.readyState==3&&Py(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,da(this))},t.Qa=function(l){this.g&&(this.response=l,da(this))},t.ga=function(){this.g&&da(this)};function da(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ha(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=f.next();return l.join(`\r
`)};function ha(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(du.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Ry(l){let f="";return M(l,function(m,C){f+=C,f+=":",f+=m,f+=`\r
`}),f}function yh(l,f,m){e:{for(C in m){var C=!1;break e}C=!0}C||(m=Ry(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):be(l,f,m))}function je(l){He.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(je,He);var $I=/^https?$/i,BI=["POST","PUT"];t=je.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,m,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ch.g(),this.v=this.o?Te(this.o):Te(ch),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(j){ky(this,j);return}if(l=m||"",m=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var L in C)m.set(L,C[L]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const j of C.keys())m.set(j,C.get(j));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),L=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(BI,f,void 0))||C||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,q]of m)this.g.setRequestHeader(j,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dy(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){ky(this,j)}};function ky(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Ny(l),hu(l)}function Ny(l){l.A||(l.A=!0,Ve(l,"complete"),Ve(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ve(this,"complete"),Ve(this,"abort"),hu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hu(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Oy(this):this.bb())},t.bb=function(){Oy(this)};function Oy(l){if(l.h&&typeof o<"u"&&(!l.v[1]||lr(l)!=4||l.Z()!=2)){if(l.u&&lr(l)==4)ir(l.Ea,0,l);else if(Ve(l,"readystatechange"),lr(l)==4){l.h=!1;try{const q=l.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var C;if(C=q===0){var L=String(l.D).match(Ty)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),C=!$I.test(L?L.toLowerCase():"")}m=C}if(m)Ve(l,"complete"),Ve(l,"success");else{l.m=6;try{var j=2<lr(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",Ny(l)}}finally{hu(l)}}}}function hu(l,f){if(l.g){Dy(l);const m=l.g,C=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||Ve(l,"ready");try{m.onreadystatechange=C}catch{}}}function Dy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function lr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Fn(f)}};function Ly(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function WI(l){const f={};l=(l.g&&2<=lr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<l.length;C++){if(v(l[C]))continue;var m=k(l[C]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=f[L]||[];f[L]=j,j.push(m)}b(f,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fa(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function My(l){this.Aa=0,this.i=[],this.j=new oa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fa("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fa("baseRetryDelayMs",5e3,l),this.cb=fa("retryDelaySeedMs",1e4,l),this.Wa=fa("forwardChannelMaxRetries",2,l),this.wa=fa("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new yy(l&&l.concurrentRequestLimit),this.Da=new UI,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=My.prototype,t.la=8,t.G=1,t.connect=function(l,f,m,C){kt(0),this.W=l,this.H=f||{},m&&C!==void 0&&(this.H.OSID=m,this.H.OAID=C),this.F=this.X,this.I=qy(this,null,this.W),pu(this)};function vh(l){if(Vy(l),l.G==3){var f=l.U++,m=ar(l.I);if(be(m,"SID",l.K),be(m,"RID",f),be(m,"TYPE","terminate"),pa(l,m),f=new Wr(l,l.j,f),f.L=2,f.v=uu(ar(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=Hy(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ou(f)}Wy(l)}function fu(l){l.g&&(_h(l),l.g.cancel(),l.g=null)}function Vy(l){fu(l),l.u&&(a.clearTimeout(l.u),l.u=null),mu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function pu(l){if(!vy(l.h)&&!l.s){l.s=!0;var f=l.Ga;ie||Y(),V||(ie(),V=!0),B.add(f,l),l.B=0}}function qI(l,f){return wy(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ia(h(l.Ga,l,f),By(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new Wr(this,this.j,l);let j=this.o;if(this.S&&(j?(j=T(j),P(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var C=this.i[m];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(f+=C,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Fy(this,L,f),m=ar(this.I),be(m,"RID",l),be(m,"CVER",22),this.D&&be(m,"X-HTTP-Session-Id",this.D),pa(this,m),j&&(this.O?f="headers="+encodeURIComponent(String(Ry(j)))+"&"+f:this.m&&yh(m,this.m,j)),gh(this.h,L),this.Ua&&be(m,"TYPE","init"),this.P?(be(m,"$req",f),be(m,"SID","null"),L.T=!0,hh(L,m,null)):hh(L,m,f),this.G=2}}else this.G==3&&(l?jy(this,l):this.i.length==0||vy(this.h)||jy(this))};function jy(l,f){var m;f?m=f.l:m=l.U++;const C=ar(l.I);be(C,"SID",l.K),be(C,"RID",m),be(C,"AID",l.T),pa(l,C),l.m&&l.o&&yh(C,l.m,l.o),m=new Wr(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Fy(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),gh(l.h,m),hh(m,C,f)}function pa(l,f){l.H&&M(l.H,function(m,C){be(f,C,m)}),l.l&&xy({},function(m,C){be(f,C,m)})}function Fy(l,f,m){m=Math.min(l.i.length,m);var C=l.l?h(l.l.Na,l.l,l):null;e:{var L=l.i;let j=-1;for(;;){const q=["count="+m];j==-1?0<m?(j=L[0].g,q.push("ofs="+j)):j=0:q.push("ofs="+j);let Se=!0;for(let at=0;at<m;at++){let ge=L[at].g;const yt=L[at].map;if(ge-=j,0>ge)j=Math.max(0,L[at].g-100),Se=!1;else try{zI(yt,q,"req"+ge+"_")}catch{C&&C(yt)}}if(Se){C=q.join("&");break e}}}return l=l.i.splice(0,m),f.D=l,C}function Uy(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;ie||Y(),V||(ie(),V=!0),B.add(f,l),l.v=0}}function wh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ia(h(l.Fa,l),By(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,zy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ia(h(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),fu(this),zy(this))};function _h(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function zy(l){l.g=new Wr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=ar(l.qa);be(f,"RID","rpc"),be(f,"SID",l.K),be(f,"AID",l.T),be(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&be(f,"TO",l.ja),be(f,"TYPE","xmlhttp"),pa(l,f),l.m&&l.o&&yh(f,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=uu(ar(f)),m.m=null,m.P=!0,py(m,l)}t.Za=function(){this.C!=null&&(this.C=null,fu(this),wh(this),kt(19))};function mu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function $y(l,f){var m=null;if(l.g==f){mu(l),_h(l),l.g=null;var C=2}else if(mh(l.h,f))m=f.D,_y(l.h,f),C=1;else return;if(l.G!=0){if(f.o)if(C==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var L=l.B;C=ru(),Ve(C,new cy(C,m)),pu(l)}else Uy(l);else if(L=f.s,L==3||L==0&&0<f.X||!(C==1&&qI(l,f)||C==2&&wh(l)))switch(m&&0<m.length&&(f=l.h,f.i=f.i.concat(m)),L){case 1:Ks(l,5);break;case 4:Ks(l,10);break;case 3:Ks(l,6);break;default:Ks(l,2)}}}function By(l,f){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*f}function Ks(l,f){if(l.j.info("Error code "+f),f==2){var m=h(l.fb,l),C=l.Xa;const L=!C;C=new Qs(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||au(C,"https"),uu(C),L?jI(C.toString(),m):FI(C.toString(),m)}else kt(2);l.G=0,l.l&&l.l.sa(f),Wy(l),Vy(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Wy(l){if(l.G=0,l.ka=[],l.l){const f=Ey(l.h);(f.length!=0||l.i.length!=0)&&(x(l.ka,f),x(l.ka,l.i),l.h.i.length=0,_(l.i),l.i.length=0),l.l.ra()}}function qy(l,f,m){var C=m instanceof Qs?ar(m):new Qs(m);if(C.g!="")f&&(C.g=f+"."+C.g),lu(C,C.s);else{var L=a.location;C=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var j=new Qs(null);C&&au(j,C),f&&(j.g=f),L&&lu(j,L),m&&(j.l=m),C=j}return m=l.D,f=l.ya,m&&f&&be(C,m,f),be(C,"VER",l.la),pa(l,C),C}function Hy(l,f,m){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new je(new cu({eb:m})):new je(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qy(){}t=Qy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gu(){}gu.prototype.g=function(l,f){return new Gt(l,f)};function Gt(l,f){He.call(this),this.g=new My(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!v(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!v(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Ni(this)}E(Gt,He),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){vh(this.g)},Gt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=qs(l),l=m);f.i.push(new AI(f.Ya++,l)),f.G==3&&pu(f)},Gt.prototype.N=function(){this.g.l=null,delete this.j,vh(this.g),delete this.g,Gt.aa.N.call(this)};function Ky(l){Ut.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}E(Ky,Ut);function Gy(){Br.call(this),this.status=1}E(Gy,Br);function Ni(l){this.g=l}E(Ni,Qy),Ni.prototype.ua=function(){Ve(this.g,"a")},Ni.prototype.ta=function(l){Ve(this.g,new Ky(l))},Ni.prototype.sa=function(l){Ve(this.g,new Gy)},Ni.prototype.ra=function(){Ve(this.g,"b")},gu.prototype.createWebChannel=gu.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,_1=function(){return new gu},w1=function(){return ru()},v1=or,Rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},su.NO_ERROR=0,su.TIMEOUT=8,su.HTTP_ERROR=6,dc=su,dy.COMPLETE="complete",y1=dy,_e.EventType=gt,gt.OPEN="a",gt.CLOSE="b",gt.ERROR="c",gt.MESSAGE="d",He.prototype.listen=He.prototype.K,Na=_e,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,g1=je}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});const X0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new dg("@firebase/firestore");function Ia(){return vi.logLevel}function X(t,...e){if(vi.logLevel<=fe.DEBUG){const n=e.map(pg);vi.debug(`Firestore (${Qo}): ${t}`,...n)}}function Pr(t,...e){if(vi.logLevel<=fe.ERROR){const n=e.map(pg);vi.error(`Firestore (${Qo}): ${t}`,...n)}}function Ro(t,...e){if(vi.logLevel<=fe.WARN){const n=e.map(pg);vi.warn(`Firestore (${Qo}): ${t}`,...n)}}function pg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: `+t;throw Pr(e),new Error(e)}function xe(t,e){t||se()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class cD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dD{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new _r,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new _r)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new E1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new It(e)}}class hD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new hD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){xe(this.o===void 0);const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new pD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=gD(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function ko(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new tt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new tt(0,0))}static max(){return new ae(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Re extends xl{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const yD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends xl{construct(e,n,r){return new ct(e,n,r)}static isValidIdentifier(e){return yD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(n)}static emptyPath(){return new ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(Re.fromString(e))}static fromName(e){return new Z(Re.fromString(e).popFirst(5))}static empty(){return new Z(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new Re(e.slice()))}}function vD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ae.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new Ds(s,Z.empty(),e)}function wD(t){return new Ds(t.readTime,t.key,-1)}class Ds{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ds(ae.min(),Z.empty(),-1)}static max(){return new Ds(ae.max(),Z.empty(),-1)}}function _D(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==ED)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function TD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}mg.oe=-1;function Bd(t){return t==null}function td(t){return t===0&&1/t==-1/0}function SD(t){return typeof t=="number"&&Number.isInteger(t)&&!td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function T1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||ut.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ut.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ut{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ut.RED,this.left=s??ut.EMPTY,this.right=i??ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ut(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ut.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}ut.EMPTY=null,ut.RED=!0,ut.BLACK=!1;ut.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,s,i){return this}insert(e,n,r){return new ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Z0(this.data.getIterator())}getIteratorFrom(e){return new Z0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ht(this.comparator);return n.data=e,n}}class Z0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new tn([])}unionWith(e){let n=new ht(ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new S1("Invalid base64 string: "+i):i}}(e);return new pt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const ID=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(t){if(xe(!!t),typeof t=="string"){let e=0;const n=ID.exec(t);if(xe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wi(t){return typeof t=="string"?pt.fromBase64String(t):pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function yg(t){const e=t.mapValue.fields.__previous_value__;return gg(e)?yg(e):e}function Tl(t){const e=Ls(t.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,r,s,i,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Sl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gg(t)?4:AD(t)?9007199254740991:bD(t)?10:11:se()}function er(t,e){if(t===e)return!0;const n=_i(t);if(n!==_i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tl(t).isEqual(Tl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ls(s.timestampValue),a=Ls(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return wi(s.bytesValue).isEqual(wi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return $e(s.geoPointValue.latitude)===$e(i.geoPointValue.latitude)&&$e(s.geoPointValue.longitude)===$e(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return $e(s.integerValue)===$e(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=$e(s.doubleValue),a=$e(i.doubleValue);return o===a?td(o)===td(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ko(t.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(J0(o)!==J0(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!er(o[u],a[u])))return!1;return!0}(t,e);default:return se()}}function Il(t,e){return(t.values||[]).find(n=>er(n,e))!==void 0}function No(t,e){if(t===e)return 0;const n=_i(t),r=_i(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=$e(i.integerValue||i.doubleValue),u=$e(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return ew(t.timestampValue,e.timestampValue);case 4:return ew(Tl(t),Tl(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(i,o){const a=wi(i),u=wi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=ye(a[c],u[c]);if(d!==0)return d}return ye(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ye($e(i.latitude),$e(o.latitude));return a!==0?a:ye($e(i.longitude),$e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return tw(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,c,d;const p=i.fields||{},h=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,E=(u=h.value)===null||u===void 0?void 0:u.arrayValue,_=ye(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:tw(y,E)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Wu.mapValue&&o===Wu.mapValue)return 0;if(i===Wu.mapValue)return 1;if(o===Wu.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const h=ye(u[p],d[p]);if(h!==0)return h;const y=No(a[u[p]],c[d[p]]);if(y!==0)return y}return ye(u.length,d.length)}(t.mapValue,e.mapValue);default:throw se()}}function ew(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Ls(t),r=Ls(e),s=ye(n.seconds,r.seconds);return s!==0?s:ye(n.nanos,r.nanos)}function tw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=No(n[s],r[s]);if(i)return i}return ye(n.length,r.length)}function Oo(t){return kp(t)}function kp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ls(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return wi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=kp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${kp(n.fields[o])}`;return s+"}"}(t.mapValue):se()}function nw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Np(t){return!!t&&"integerValue"in t}function vg(t){return!!t&&"arrayValue"in t}function rw(t){return!!t&&"nullValue"in t}function sw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hc(t){return!!t&&"mapValue"in t}function bD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qa(n)}setAll(e){let n=ct.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Qa(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];hc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){bi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new $t(Qa(this.value))}}function I1(t){const e=[];return bi(t.fields,(n,r)=>{const s=new ct([n]);if(hc(r)){const i=I1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new At(e,0,ae.min(),ae.min(),ae.min(),$t.empty(),0)}static newFoundDocument(e,n,r,s){return new At(e,1,n,ae.min(),r,s,0)}static newNoDocument(e,n){return new At(e,2,n,ae.min(),ae.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,ae.min(),ae.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.position=e,this.inclusive=n}}function iw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=No(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function ow(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n="asc"){this.field=e,this.dir=n}}function PD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{}class Ge extends C1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new kD(e,n,r):n==="array-contains"?new DD(e,r):n==="in"?new LD(e,r):n==="not-in"?new MD(e,r):n==="array-contains-any"?new VD(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ND(e,r):new OD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(No(n,this.value)):n!==null&&_i(this.value)===_i(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dn extends C1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Dn(e,n)}matches(e){return b1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function b1(t){return t.op==="and"}function A1(t){return RD(t)&&b1(t)}function RD(t){for(const e of t.filters)if(e instanceof Dn)return!1;return!0}function Op(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+Oo(t.value);if(A1(t))return t.filters.map(e=>Op(e)).join(",");{const e=t.filters.map(n=>Op(n)).join(",");return`${t.op}(${e})`}}function P1(t,e){return t instanceof Ge?function(r,s){return s instanceof Ge&&r.op===s.op&&r.field.isEqual(s.field)&&er(r.value,s.value)}(t,e):t instanceof Dn?function(r,s){return s instanceof Dn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&P1(o,s.filters[a]),!0):!1}(t,e):void se()}function R1(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`}(t):t instanceof Dn?function(n){return n.op.toString()+" {"+n.getFilters().map(R1).join(" ,")+"}"}(t):"Filter"}class kD extends Ge{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class ND extends Ge{constructor(e,n){super(e,"in",n),this.keys=k1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OD extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=k1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function k1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class DD extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vg(n)&&Il(n.arrayValue,this.value)}}class LD extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Il(this.value.arrayValue,n)}}class MD extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Il(this.value.arrayValue,n)}}class VD extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Il(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function aw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new jD(t,e,n,r,s,i,o)}function wg(t){const e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Op(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Bd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oo(r)).join(",")),e.ue=n}return e.ue}function _g(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!P1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ow(t.startAt,e.startAt)&&ow(t.endAt,e.endAt)}function Dp(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FD(t,e,n,r,s,i,o,a){return new Ko(t,e,n,r,s,i,o,a)}function Eg(t){return new Ko(t)}function lw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function N1(t){return t.collectionGroup!==null}function Ka(t){const e=le(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ht(ct.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Cl(i,r))}),n.has(ct.keyField().canonicalString())||e.ce.push(new Cl(ct.keyField(),r))}return e.ce}function Kn(t){const e=le(t);return e.le||(e.le=UD(e,Ka(t))),e.le}function UD(t,e){if(t.limitType==="F")return aw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Cl(s.field,i)});const n=t.endAt?new nd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nd(t.startAt.position,t.startAt.inclusive):null;return aw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Lp(t,e){const n=t.filters.concat([e]);return new Ko(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mp(t,e,n){return new Ko(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wd(t,e){return _g(Kn(t),Kn(e))&&t.limitType===e.limitType}function O1(t){return`${wg(Kn(t))}|lt:${t.limitType}`}function Vi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>R1(s)).join(", ")}]`),Bd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Oo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Oo(s)).join(",")),`Target(${r})`}(Kn(t))}; limitType=${t.limitType})`}function qd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Z.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ka(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=iw(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Ka(r),s)||r.endAt&&!function(o,a,u){const c=iw(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Ka(r),s))}(t,e)}function zD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function D1(t){return(e,n)=>{let r=!1;for(const s of Ka(t)){const i=$D(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function $D(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?No(u,c):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){bi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return T1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new Me(Z.comparator);function Rr(){return BD}const L1=new Me(Z.comparator);function Oa(...t){let e=L1;for(const n of t)e=e.insert(n.key,n);return e}function M1(t){let e=L1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ti(){return Ga()}function V1(){return Ga()}function Ga(){return new Go(t=>t.toString(),(t,e)=>t.isEqual(e))}const WD=new Me(Z.comparator),qD=new ht(Z.comparator);function he(...t){let e=qD;for(const n of t)e=e.add(n);return e}const HD=new ht(ye);function QD(){return HD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:td(e)?"-0":e}}function j1(t){return{integerValue:""+t}}function KD(t,e){return SD(e)?j1(e):xg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this._=void 0}}function GD(t,e,n){return t instanceof bl?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&gg(i)&&(i=yg(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Al?U1(t,e):t instanceof Pl?z1(t,e):function(s,i){const o=F1(s,i),a=uw(o)+uw(s.Pe);return Np(o)&&Np(s.Pe)?j1(a):xg(s.serializer,a)}(t,e)}function YD(t,e,n){return t instanceof Al?U1(t,e):t instanceof Pl?z1(t,e):n}function F1(t,e){return t instanceof rd?function(r){return Np(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class bl extends Hd{}class Al extends Hd{constructor(e){super(),this.elements=e}}function U1(t,e){const n=$1(e);for(const r of t.elements)n.some(s=>er(s,r))||n.push(r);return{arrayValue:{values:n}}}class Pl extends Hd{constructor(e){super(),this.elements=e}}function z1(t,e){let n=$1(e);for(const r of t.elements)n=n.filter(s=>!er(s,r));return{arrayValue:{values:n}}}class rd extends Hd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function uw(t){return $e(t.integerValue||t.doubleValue)}function $1(t){return vg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n){this.field=e,this.transform=n}}function JD(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Al&&s instanceof Al||r instanceof Pl&&s instanceof Pl?ko(r.elements,s.elements,er):r instanceof rd&&s instanceof rd?er(r.Pe,s.Pe):r instanceof bl&&s instanceof bl}(t.transform,e.transform)}class ZD{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qd{}function B1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new q1(t.key,Gn.none()):new ql(t.key,t.data,Gn.none());{const n=t.data,r=$t.empty();let s=new ht(ct.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new zs(t.key,r,new tn(s.toArray()),Gn.none())}}function eL(t,e,n){t instanceof ql?function(s,i,o){const a=s.value.clone(),u=dw(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zs?function(s,i,o){if(!fc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=dw(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(W1(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ya(t,e,n,r){return t instanceof ql?function(i,o,a,u){if(!fc(i.precondition,o))return a;const c=i.value.clone(),d=hw(i.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof zs?function(i,o,a,u){if(!fc(i.precondition,o))return a;const c=hw(i.fieldTransforms,u,o),d=o.data;return d.setAll(W1(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return fc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function tL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=F1(r.transform,s||null);i!=null&&(n===null&&(n=$t.empty()),n.set(r.field,i))}return n||null}function cw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ko(r,s,(i,o)=>JD(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ql extends Qd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zs extends Qd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function W1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dw(t,e,n){const r=new Map;xe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,YD(o,a,n[s]))}return r}function hw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,GD(i,o,e))}return r}class q1 extends Qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nL extends Qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&eL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ya(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ya(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=V1();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=B1(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(n,r)=>cw(n,r))&&ko(this.baseMutations,e.baseMutations,(n,r)=>cw(n,r))}}class Tg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){xe(e.mutations.length===r.length);let s=function(){return WD}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Tg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,pe;function oL(t){switch(t){default:return se();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function H1(t){if(t===void 0)return Pr("GRPC error has no .code"),F.UNKNOWN;switch(t){case Qe.OK:return F.OK;case Qe.CANCELLED:return F.CANCELLED;case Qe.UNKNOWN:return F.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return F.INTERNAL;case Qe.UNAVAILABLE:return F.UNAVAILABLE;case Qe.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Qe.NOT_FOUND:return F.NOT_FOUND;case Qe.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Qe.ABORTED:return F.ABORTED;case Qe.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Qe.DATA_LOSS:return F.DATA_LOSS;default:return se()}}(pe=Qe||(Qe={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=new ui([4294967295,4294967295],0);function fw(t){const e=aL().encode(t),n=new m1;return n.update(e),new Uint8Array(n.digest())}function pw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ui([n,r],0),new ui([s,i],0)]}class Sg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Da(`Invalid padding: ${n}`);if(r<0)throw new Da(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Da(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Da(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ui.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ui.fromNumber(r)));return s.compare(lL)===1&&(s=new ui([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=fw(e),[r,s]=pw(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Sg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=fw(e),[r,s]=pw(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Da extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Hl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kd(ae.min(),s,new Me(ye),Rr(),he())}}class Hl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hl(r,n,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class Q1{constructor(e,n){this.targetId=e,this.me=n}}class K1{constructor(e,n,r=pt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class mw{constructor(){this.fe=0,this.ge=yw(),this.pe=pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=he(),n=he(),r=he();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:se()}}),new Hl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=yw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uL{constructor(e){this.Le=e,this.Be=new Map,this.ke=Rr(),this.qe=gw(),this.Qe=new Me(ye)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Dp(i))if(r===0){const o=new Z(i.path);this.Ue(n,o,At.newNoDocument(o,ae.min()))}else xe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=wi(r).toUint8Array()}catch(u){if(u instanceof S1)return Ro("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Sg(o,s,i)}catch(u){return Ro(u instanceof Da?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Dp(a.target)){const u=new Z(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,At.newNoDocument(u,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=he();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Kd(e,n,this.Qe,this.ke,r);return this.ke=Rr(),this.qe=gw(),this.Qe=new Me(ye),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new mw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ht(ye),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new mw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function gw(){return new Me(Z.comparator)}function yw(){return new Me(Z.comparator)}const cL={asc:"ASCENDING",desc:"DESCENDING"},dL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hL={and:"AND",or:"OR"};class fL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vp(t,e){return t.useProto3Json||Bd(e)?e:{value:e}}function sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pL(t,e){return sd(t,e.toTimestamp())}function Yn(t){return xe(!!t),ae.fromTimestamp(function(n){const r=Ls(n);return new tt(r.seconds,r.nanos)}(t))}function Ig(t,e){return jp(t,e).canonicalString()}function jp(t,e){const n=function(s){return new Re(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Y1(t){const e=Re.fromString(t);return xe(tS(e)),e}function Fp(t,e){return Ig(t.databaseId,e.path)}function uf(t,e){const n=Y1(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(J1(n))}function X1(t,e){return Ig(t.databaseId,e)}function mL(t){const e=Y1(t);return e.length===4?Re.emptyPath():J1(e)}function Up(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function J1(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vw(t,e,n){return{name:Fp(t,e),fields:n.value.mapValue.fields}}function gL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(xe(d===void 0||typeof d=="string"),pt.fromBase64String(d||"")):(xe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),pt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?F.UNKNOWN:H1(c.code);return new Q(d,c.message||"")}(o);n=new K1(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=uf(t,r.document.name),i=Yn(r.document.updateTime),o=r.document.createTime?Yn(r.document.createTime):ae.min(),a=new $t({mapValue:{fields:r.document.fields}}),u=At.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new pc(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=uf(t,r.document),i=r.readTime?Yn(r.readTime):ae.min(),o=At.newNoDocument(s,i),a=r.removedTargetIds||[];n=new pc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=uf(t,r.document),i=r.removedTargetIds||[];n=new pc([],i,s,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new iL(s,i),a=r.targetId;n=new Q1(a,o)}}return n}function yL(t,e){let n;if(e instanceof ql)n={update:vw(t,e.key,e.value)};else if(e instanceof q1)n={delete:Fp(t,e.key)};else if(e instanceof zs)n={update:vw(t,e.key,e.data),updateMask:CL(e.fieldMask)};else{if(!(e instanceof nL))return se();n={verify:Fp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof bl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Al)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:pL(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se()}(t,e.precondition)),n}function vL(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Yn(s.updateTime):Yn(i);return o.isEqual(ae.min())&&(o=Yn(i)),new ZD(o,s.transformResults||[])}(n,e))):[]}function wL(t,e){return{documents:[X1(t,e.path)]}}function _L(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=X1(t,s);const i=function(c){if(c.length!==0)return eS(Dn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:ji(h.field),direction:TL(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Vp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function EL(t){let e=mL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xe(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(p){const h=Z1(p);return h instanceof Dn&&A1(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(h=>function(E){return new Cl(Fi(E.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(p){let h;return h=typeof p=="object"?p.value:p,Bd(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(p){const h=!!p.before,y=p.values||[];return new nd(y,h)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const h=!p.before,y=p.values||[];return new nd(y,h)}(n.endAt)),FD(e,s,o,i,a,"F",u,c)}function xL(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Z1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fi(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Fi(n.unaryFilter.field);return Ge.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fi(n.unaryFilter.field);return Ge.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fi(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(Fi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dn.create(n.compositeFilter.filters.map(r=>Z1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function TL(t){return cL[t]}function SL(t){return dL[t]}function IL(t){return hL[t]}function ji(t){return{fieldPath:t.canonicalString()}}function Fi(t){return ct.fromServerFormat(t.fieldPath)}function eS(t){return t instanceof Ge?function(n){if(n.op==="=="){if(sw(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NAN"}};if(rw(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sw(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NOT_NAN"}};if(rw(n.value))return{unaryFilter:{field:ji(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ji(n.field),op:SL(n.op),value:n.value}}}(t):t instanceof Dn?function(n){const r=n.getFilters().map(s=>eS(s));return r.length===1?r[0]:{compositeFilter:{op:IL(n.op),filters:r}}}(t):se()}function CL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,r,s,i=ae.min(),o=ae.min(),a=pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.ct=e}}function AL(t){const e=EL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.un=new RL}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Ds.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class RL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ht(Re.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ht(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Do(0)}static kn(){return new Do(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.changes=new Go(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ya(r.mutation,s,tn.empty(),tt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){const s=ti();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Oa();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ti();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Rr();const o=Ga(),a=function(){return Ga()}();return n.forEach((u,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof zs)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ya(d.mutation,c,d.mutation.getFieldMask(),tt.now())):o.set(c.key,tn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var p;return a.set(c,new NL(d,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ga();let s=new Me((o,a)=>o-a),i=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||tn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const p=(s.get(a.batchId)||he()).add(u);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,p=V1();d.forEach(h=>{if(!i.has(h)){const y=B1(n.get(h),r.get(h));y!==null&&p.set(h,y),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):N1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(ti());let a=-1,u=i;return o.next(c=>z.forEach(c,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{u=u.insert(d,h)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,he())).next(d=>({batchId:a,changes:M1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let s=Oa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Oa();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,u=>{const c=function(p,h){return new Ko(h,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((p,h)=>{o=o.insert(p,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,At.newInvalidDocument(d)))});let a=Oa();return o.forEach((u,c)=>{const d=i.get(u);d!==void 0&&Ya(d.mutation,c,tn.empty(),tt.now()),qd(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Yn(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:AL(s.bundledQuery),readTime:Yn(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.overlays=new Me(Z.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ti();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=ti(),i=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Me((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=ti(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=ti(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return z.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sL(n,r));let i=this.Ir.get(n);i===void 0&&(i=he(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(){this.sessionToken=pt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this.Tr=new ht(nt.Er),this.dr=new ht(nt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new nt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new nt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Z(new Re([])),r=new nt(n,e),s=new nt(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Z(new Re([])),r=new nt(n,e),s=new nt(n,e+1);let i=he();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new nt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Z.comparator(e.key,n.key)||ye(e.wr,n.wr)}static Ar(e,n){return ye(e.wr,n.wr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ht(nt.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rL(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new nt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nt(n,0),s=new nt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(ye);return n.forEach(s=>{const i=new nt(s,0),o=new nt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Z.isDocumentKey(i)||(i=i.child(""));const o=new nt(new Z(i),0);let a=new ht(ye);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.wr)),!0)},o),z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){xe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,s=>{const i=new nt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new nt(n,0),s=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.Mr=e,this.docs=function(){return new Me(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=Rr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():At.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Rr();const o=n.path,a=new Z(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_D(wD(d),r)<=0||(s.has(d.key)||qd(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){se()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new FL(this)}getSize(e){return z.resolve(this.size)}}class FL extends kL{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.persistence=e,this.Nr=new Go(n=>wg(n),_g),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Cg,this.targetCount=0,this.kr=Do.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n){this.qr={},this.overlays={},this.Qr=new mg(0),this.Kr=!1,this.Kr=!0,this.$r=new ML,this.referenceDelegate=e(this),this.Ur=new UL(this),this.indexManager=new PL,this.remoteDocumentCache=function(s){return new jL(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new bL(n),this.Gr=new DL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new VL(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new $L(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class $L extends xD{constructor(e){super(),this.currentSequenceNumber=e}}class bg{constructor(e){this.persistence=e,this.Jr=new Cg,this.Yr=null}static Zr(e){return new bg(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const s=Z.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=he(),s=he();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ag(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return H2()?8:TD(Rt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new BL;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Ia()<=fe.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Vi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(Ia()<=fe.DEBUG&&X("QueryEngine","Query:",Vi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Ia()<=fe.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Vi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(n))):z.resolve())}Yi(e,n){if(lw(n))return z.resolve(null);let r=Kn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Mp(n,null,"F"),r=Kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=he(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,Mp(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,s){return lw(n)||s.isEqual(ae.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?z.resolve(null):(Ia()<=fe.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vi(n)),this.rs(e,o,n,vD(s,-1)).next(a=>a))})}ts(e,n){let r=new ht(D1(e));return n.forEach((s,i)=>{qd(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Ia()<=fe.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Vi(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ds.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Me(ye),this._s=new Go(i=>wg(i),_g),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OL(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function HL(t,e,n,r){return new qL(t,e,n,r)}async function nS(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=he();for(const c of s){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function QL(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const p=c.batch,h=p.keys();let y=z.resolve();return h.forEach(E=>{y=y.next(()=>d.getEntry(u,E)).next(_=>{const x=c.docVersions.get(E);xe(x!==null),_.version.compareTo(x)<0&&(p.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=he();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function rS(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function KL(t,e){const n=le(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((d,p)=>{const h=s.get(p);if(!h)return;a.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,p)));let y=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(pt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),s=s.insert(p,y),function(_,x,w){return _.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,y,d)&&a.push(n.Ur.updateTargetData(i,y))});let u=Rr(),c=he();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(GL(i,o,e.documentUpdates).next(d=>{u=d.Ps,c=d.Is})),!r.isEqual(ae.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(p=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.os=s,i))}function GL(t,e,n){let r=he(),s=he();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Rr();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:s}})}function YL(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XL(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new ps(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function zp(t,e,n){const r=le(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Wl(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function ww(t,e,n){const r=le(t);let s=ae.min(),i=he();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const p=le(u),h=p._s.get(d);return h!==void 0?z.resolve(p.os.get(h)):p.Ur.getTargetData(c,d)}(r,o,Kn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ae.min(),n?i:he())).next(a=>(JL(r,zD(e),a),{documents:a,Ts:i})))}function JL(t,e,n){let r=t.us.get(e)||ae.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class _w{constructor(){this.activeTargetIds=QD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZL{constructor(){this.so=new _w,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _w,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=null;function cf(){return qu===null?qu=function(){return 268435456+Math.round(2147483648*Math.random())}():qu++,"0x"+qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class rM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=cf(),u=this.xo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${a}:`,u,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,u,c,s).then(d=>(X("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ro("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",s),d})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=tM[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=cf();return new Promise((o,a)=>{const u=new g1;u.setWithCredentials(!0),u.listenOnce(y1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case dc.NO_ERROR:const d=u.getResponseJson();X(xt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case dc.TIMEOUT:X(xt,`RPC '${e}' ${i} timed out`),a(new Q(F.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const p=u.getStatus();if(X(xt,`RPC '${e}' ${i} failed with status:`,p,"response text:",u.getResponseText()),p>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const y=h==null?void 0:h.error;if(y&&y.status&&y.message){const E=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(y.status);a(new Q(E,y.message))}else a(new Q(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Q(F.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{X(xt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);X(xt,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=cf(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_1(),a=w1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=i.join("");X(xt,`Creating RPC '${e}' stream ${s}: ${d}`,u);const p=o.createWebChannel(d,u);let h=!1,y=!1;const E=new nM({Io:x=>{y?X(xt,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(h||(X(xt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),h=!0),X(xt,`RPC '${e}' stream ${s} sending:`,x),p.send(x))},To:()=>p.close()}),_=(x,w,v)=>{x.listen(w,S=>{try{v(S)}catch(N){setTimeout(()=>{throw N},0)}})};return _(p,Na.EventType.OPEN,()=>{y||(X(xt,`RPC '${e}' stream ${s} transport opened.`),E.yo())}),_(p,Na.EventType.CLOSE,()=>{y||(y=!0,X(xt,`RPC '${e}' stream ${s} transport closed`),E.So())}),_(p,Na.EventType.ERROR,x=>{y||(y=!0,Ro(xt,`RPC '${e}' stream ${s} transport errored:`,x),E.So(new Q(F.UNAVAILABLE,"The operation could not be completed")))}),_(p,Na.EventType.MESSAGE,x=>{var w;if(!y){const v=x.data[0];xe(!!v);const S=v,N=S.error||((w=S[0])===null||w===void 0?void 0:w.error);if(N){X(xt,`RPC '${e}' stream ${s} received error:`,N);const D=N.status;let M=function(A){const P=Qe[A];if(P!==void 0)return H1(P)}(D),b=N.message;M===void 0&&(M=F.INTERNAL,b="Unknown error status: "+D+" with message "+N.message),y=!0,E.So(new Q(M,b)),p.close()}else X(xt,`RPC '${e}' stream ${s} received:`,v),E.bo(v)}}),_(a,v1.STAT_EVENT,x=>{x.stat===Rp.PROXY?X(xt,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Rp.NOPROXY&&X(xt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t){return new fL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,r,s,i,o,a,u){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new sS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Pr(n.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sM extends iS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=gL(this.serializer,e),r=function(i){if(!("targetChange"in i))return ae.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?Yn(o.readTime):ae.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Up(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Dp(u)?{documents:wL(i,u)}:{query:_L(i,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=G1(i,o.resumeToken);const c=Vp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=sd(i,o.snapshotVersion.toTimestamp());const c=Vp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=xL(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Up(this.serializer),n.removeTarget=e,this.a_(n)}}class iM extends iS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=vL(e.writeResults,e.commitTime),r=Yn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Up(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yL(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,jp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(F.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,jp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class aM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Pr(n),this.D_=!1):X("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ai(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=le(u);c.L_.add(4),await Ql(c),c.q_.set("Unknown"),c.L_.delete(4),await Yd(c)}(this))})}),this.q_=new aM(r,s)}}async function Yd(t){if(Ai(t))for(const e of t.B_)await e(!0)}async function Ql(t){for(const e of t.B_)await e(!1)}function oS(t,e){const n=le(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ng(n)?kg(n):Yo(n).r_()&&Rg(n,e))}function Pg(t,e){const n=le(t),r=Yo(n);n.N_.delete(e),r.r_()&&aS(n,e),n.N_.size===0&&(r.r_()?r.o_():Ai(n)&&n.q_.set("Unknown"))}function Rg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yo(t).A_(e)}function aS(t,e){t.Q_.xe(e),Yo(t).R_(e)}function kg(t){t.Q_=new uL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Yo(t).start(),t.q_.v_()}function Ng(t){return Ai(t)&&!Yo(t).n_()&&t.N_.size>0}function Ai(t){return le(t).L_.size===0}function lS(t){t.Q_=void 0}async function uM(t){t.q_.set("Online")}async function cM(t){t.N_.forEach((e,n)=>{Rg(t,e)})}async function dM(t,e){lS(t),Ng(t)?(t.q_.M_(e),kg(t)):t.q_.set("Unknown")}async function hM(t,e,n){if(t.q_.set("Online"),e instanceof K1&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await id(t,r)}else if(e instanceof pc?t.Q_.Ke(e):e instanceof Q1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ae.min()))try{const r=await rS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.N_.get(c);d&&i.N_.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=i.N_.get(u);if(!d)return;i.N_.set(u,d.withResumeToken(pt.EMPTY_BYTE_STRING,d.snapshotVersion)),aS(i,u);const p=new ps(d.target,u,c,d.sequenceNumber);Rg(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await id(t,r)}}async function id(t,e,n){if(!Wl(e))throw e;t.L_.add(1),await Ql(t),t.q_.set("Offline"),n||(n=()=>rS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Yd(t)})}function uS(t,e){return e().catch(n=>id(t,n,e))}async function Xd(t){const e=le(t),n=Ms(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fM(e);)try{const s=await YL(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,pM(e,s)}catch(s){await id(e,s)}cS(e)&&dS(e)}function fM(t){return Ai(t)&&t.O_.length<10}function pM(t,e){t.O_.push(e);const n=Ms(t);n.r_()&&n.V_&&n.m_(e.mutations)}function cS(t){return Ai(t)&&!Ms(t).n_()&&t.O_.length>0}function dS(t){Ms(t).start()}async function mM(t){Ms(t).p_()}async function gM(t){const e=Ms(t);for(const n of t.O_)e.m_(n.mutations)}async function yM(t,e,n){const r=t.O_.shift(),s=Tg.from(r,e,n);await uS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Xd(t)}async function vM(t,e){e&&Ms(t).V_&&await async function(r,s){if(function(o){return oL(o)&&o!==F.ABORTED}(s.code)){const i=r.O_.shift();Ms(r).s_(),await uS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Xd(r)}}(t,e),cS(t)&&dS(t)}async function xw(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Ai(n);n.L_.add(3),await Ql(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Yd(n)}async function wM(t,e){const n=le(t);e?(n.L_.delete(2),await Yd(n)):e||(n.L_.add(2),await Ql(n),n.q_.set("Unknown"))}function Yo(t){return t.K_||(t.K_=function(n,r,s){const i=le(n);return i.w_(),new sM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:uM.bind(null,t),Ro:cM.bind(null,t),mo:dM.bind(null,t),d_:hM.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Ng(t)?kg(t):t.q_.set("Unknown")):(await t.K_.stop(),lS(t))})),t.K_}function Ms(t){return t.U_||(t.U_=function(n,r,s){const i=le(n);return i.w_(),new iM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mM.bind(null,t),mo:vM.bind(null,t),f_:gM.bind(null,t),g_:yM.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Xd(t)):(await t.U_.stop(),t.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Og(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dg(t,e){if(Pr("AsyncQueue",`${e}: ${t}`),Wl(t))return new Q(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=Oa(),this.sortedSet=new Me(this.comparator)}static emptySet(e){return new oo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.W_=new Me(Z.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Lo{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Lo(e,n,oo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class EM{constructor(){this.queries=Sw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=le(n),i=s.queries;s.queries=Sw(),i.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new Q(F.ABORTED,"Firestore shutting down"))}}function Sw(){return new Go(t=>O1(t),Wd)}async function hS(t,e){const n=le(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new _M,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Dg(o,`Initialization of query '${Vi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Lg(n)}async function fS(t,e){const n=le(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xM(t,e){const n=le(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&Lg(n)}function TM(t,e,n){const r=le(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Lg(t){t.Y_.forEach(e=>{e.next()})}var $p,Iw;(Iw=$p||($p={})).ea="default",Iw.Cache="cache";class pS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Lo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==$p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.key=e}}class gS{constructor(e){this.key=e}}class SM{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=he(),this.mutatedKeys=he(),this.Aa=D1(e),this.Ra=new oo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Tw,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,p)=>{const h=s.get(d),y=qd(this.query,p)?p:null,E=!!h&&this.mutatedKeys.has(h.key),_=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;h&&y?h.data.isEqual(y.data)?E!==_&&(r.track({type:3,doc:y}),x=!0):this.ga(h,y)||(r.track({type:2,doc:y}),x=!0,(u&&this.Aa(y,u)>0||c&&this.Aa(y,c)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),x=!0):h&&!y&&(r.track({type:1,doc:h}),x=!0,(u||c)&&(a=!0)),x&&(y?(o=o.add(y),i=_?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,p)=>function(y,E){const _=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return _(y)-_(E)}(d.type,p.type)||this.Aa(d.doc,p.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new Lo(this.query,e.Ra,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Tw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=he(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new gS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new mS(r))}),n}ba(e){this.Ta=e.Ts,this.da=he();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Lo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class IM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class CM{constructor(e){this.key=e,this.va=!1}}class bM{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Go(a=>O1(a),Wd),this.Ma=new Map,this.xa=new Set,this.Oa=new Me(Z.comparator),this.Na=new Map,this.La=new Cg,this.Ba={},this.ka=new Map,this.qa=Do.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function AM(t,e,n=!0){const r=xS(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await yS(r,e,n,!0),s}async function PM(t,e){const n=xS(t);await yS(n,e,!0,!1)}async function yS(t,e,n,r){const s=await XL(t.localStore,Kn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await RM(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&oS(t.remoteStore,s),a}async function RM(t,e,n,r,s){t.Ka=(p,h,y)=>async function(_,x,w,v){let S=x.view.ma(w);S.ns&&(S=await ww(_.localStore,x.query,!1).then(({documents:b})=>x.view.ma(b,S)));const N=v&&v.targetChanges.get(x.targetId),D=v&&v.targetMismatches.get(x.targetId)!=null,M=x.view.applyChanges(S,_.isPrimaryClient,N,D);return bw(_,x.targetId,M.wa),M.snapshot}(t,p,h,y);const i=await ww(t.localStore,e,!0),o=new SM(e,i.Ts),a=o.ma(i.documents),u=Hl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);bw(t,n,c.wa);const d=new IM(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function kM(t,e,n){const r=le(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Wd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await zp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Pg(r.remoteStore,s.targetId),Bp(r,s.targetId)}).catch(Bl)):(Bp(r,s.targetId),await zp(r.localStore,s.targetId,!0))}async function NM(t,e){const n=le(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Pg(n.remoteStore,r.targetId))}async function OM(t,e,n){const r=UM(t);try{const s=await function(o,a){const u=le(o),c=tt.now(),d=a.reduce((y,E)=>y.add(E.key),he());let p,h;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=Rr(),_=he();return u.cs.getEntries(y,d).next(x=>{E=x,E.forEach((w,v)=>{v.isValidDocument()||(_=_.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,E)).next(x=>{p=x;const w=[];for(const v of a){const S=tL(v,p.get(v.key).overlayedDocument);S!=null&&w.push(new zs(v.key,S,I1(S.value.mapValue),Gn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,w,a)}).next(x=>{h=x;const w=x.applyToLocalDocumentSet(p,_);return u.documentOverlayCache.saveOverlays(y,x.batchId,w)})}).then(()=>({batchId:h.batchId,changes:M1(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new Me(ye)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await Kl(r,s.changes),await Xd(r.remoteStore)}catch(s){const i=Dg(s,"Failed to persist write");n.reject(i)}}async function vS(t,e){const n=le(t);try{const r=await KL(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?xe(o.va):s.removedDocuments.size>0&&(xe(o.va),o.va=!1))}),await Kl(n,r,e)}catch(r){await Bl(r)}}function Cw(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=le(o);u.onlineState=a;let c=!1;u.queries.forEach((d,p)=>{for(const h of p.j_)h.Z_(a)&&(c=!0)}),c&&Lg(u)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DM(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Me(Z.comparator);o=o.insert(i,At.newNoDocument(i,ae.min()));const a=he().add(i),u=new Kd(ae.min(),new Map,new Me(ye),o,a);await vS(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(e),Mg(r)}else await zp(r.localStore,e,!1).then(()=>Bp(r,e,n)).catch(Bl)}async function LM(t,e){const n=le(t),r=e.batch.batchId;try{const s=await QL(n.localStore,e);_S(n,r,null),wS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kl(n,s)}catch(s){await Bl(s)}}async function MM(t,e,n){const r=le(t);try{const s=await function(o,a){const u=le(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(p=>(xe(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);_S(r,e,n),wS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Kl(r,s)}catch(s){await Bl(s)}}function wS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function _S(t,e,n){const r=le(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Bp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||ES(t,r)})}function ES(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Pg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Mg(t))}function bw(t,e,n){for(const r of n)r instanceof mS?(t.La.addReference(r.key,e),VM(t,r)):r instanceof gS?(X("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||ES(t,r.key)):se()}function VM(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(X("SyncEngine","New document in limbo: "+n),t.xa.add(r),Mg(t))}function Mg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Z(Re.fromString(e)),r=t.qa.next();t.Na.set(r,new CM(n)),t.Oa=t.Oa.insert(n,r),oS(t.remoteStore,new ps(Kn(Eg(n.path)),r,"TargetPurposeLimboResolution",mg.oe))}}async function Kl(t,e,n){const r=le(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){s.push(c);const p=Ag.Wi(u.targetId,c);i.push(p)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(u,c){const d=le(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>z.forEach(c,h=>z.forEach(h.$i,y=>d.persistence.referenceDelegate.addReference(p,h.targetId,y)).next(()=>z.forEach(h.Ui,y=>d.persistence.referenceDelegate.removeReference(p,h.targetId,y)))))}catch(p){if(!Wl(p))throw p;X("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const h=p.targetId;if(!p.fromCache){const y=d.os.get(h),E=y.snapshotVersion,_=y.withLastLimboFreeSnapshotVersion(E);d.os=d.os.insert(h,_)}}}(r.localStore,i))}async function jM(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await nS(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(u=>{u.reject(new Q(F.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kl(n,r.hs)}}function FM(t,e){const n=le(t),r=n.Na.get(e);if(r&&r.va)return he().add(r.key);{let s=he();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function xS(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DM.bind(null,e),e.Ca.d_=xM.bind(null,e.eventManager),e.Ca.$a=TM.bind(null,e.eventManager),e}function UM(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MM.bind(null,e),e}class od{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return HL(this.persistence,new WL,e.initialUser,this.serializer)}Ga(e){return new zL(bg.Zr,this.serializer)}Wa(e){return new ZL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}od.provider={build:()=>new od};class Wp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Cw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jM.bind(null,this.syncEngine),await wM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EM}()}createDatastore(e){const n=Gd(e.databaseInfo.databaseId),r=function(i){return new rM(i)}(e.databaseInfo);return function(i,o,a,u){return new oM(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new lM(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Cw(this.syncEngine,n,0),function(){return Ew.D()?new Ew:new eM}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,d){const p=new bM(s,i,o,a,u,c);return d&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=le(s);X("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Ql(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Wp.provider={build:()=>new Wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=It.UNAUTHENTICATED,this.clientId=x1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{X("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hf(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await nS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Aw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $M(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>xw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>xw(e.remoteStore,s)),t._onlineComponents=e}async function $M(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await hf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await hf(t,new od)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await hf(t,new od);return t._offlineComponents}async function SS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await Aw(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await Aw(t,new Wp))),t._onlineComponents}function BM(t){return SS(t).then(e=>e.syncEngine)}async function IS(t){const e=await SS(t),n=e.eventManager;return n.onListen=AM.bind(null,e.syncEngine),n.onUnlisten=kM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NM.bind(null,e.syncEngine),n}function WM(t,e,n={}){const r=new _r;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new TS({next:h=>{d.Za(),o.enqueueAndForget(()=>fS(i,p));const y=h.docs.has(a);!y&&h.fromCache?c.reject(new Q(F.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&h.fromCache&&u&&u.source==="server"?c.reject(new Q(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),p=new pS(Eg(a.path),d,{includeMetadataChanges:!0,_a:!0});return hS(i,p)}(await IS(t),t.asyncQueue,e,n,r)),r.promise}function qM(t,e,n={}){const r=new _r;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new TS({next:h=>{d.Za(),o.enqueueAndForget(()=>fS(i,p)),h.fromCache&&u.source==="server"?c.reject(new Q(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),p=new pS(a,d,{includeMetadataChanges:!0,_a:!0});return hS(i,p)}(await IS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t,e,n){if(!n)throw new Q(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HM(t,e,n,r){if(e===!0&&r===!0)throw new Q(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rw(t){if(!Z.isDocumentKey(t))throw new Q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kw(t){if(Z.isDocumentKey(t))throw new Q(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function kr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jd(t);throw new Q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uD;switch(r.type){case"firstParty":return new fD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Pw.get(n);r&&(X("ComponentProvider","Removing Datastore"),Pw.delete(n),r.terminate())}(this),Promise.resolve()}}function QM(t,e,n,r={}){var s;const i=(t=kr(t,Zd))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=It.MOCK_USER;else{a=F2(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new It(c)}t._authCredentials=new cD(new E1(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pi(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}}class bs extends Pi{constructor(e,n,r){super(e,n,Eg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Z(e))}withConverter(e){return new bs(this.firestore,e,this._path)}}function KM(t,e,...n){if(t=Ye(t),bS("collection","path",e),t instanceof Zd){const r=Re.fromString(e,...n);return kw(r),new bs(t,null,r)}{if(!(t instanceof Vt||t instanceof bs))throw new Q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return kw(r),new bs(t.firestore,null,r)}}function Dt(t,e,...n){if(t=Ye(t),arguments.length===1&&(e=x1.newId()),bS("doc","path",e),t instanceof Zd){const r=Re.fromString(e,...n);return Rw(r),new Vt(t,null,new Z(r))}{if(!(t instanceof Vt||t instanceof bs))throw new Q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return Rw(r),new Vt(t.firestore,t instanceof bs?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new sS(this,"async_queue_retry"),this.Vu=()=>{const r=df();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=df();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=df();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new _r;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Wl(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Pr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Og.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Gl extends Zd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Ow,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ow(e),this._firestoreClient=void 0,await e}}}function GM(t,e){const n=typeof t=="object"?t:h1(),r=typeof t=="string"?t:"(default)",s=fg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=V2("firestore");i&&QM(s,...i)}return s}function Vg(t){if(t._terminated)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YM(t),t._firestoreClient}function YM(t){var e,n,r;const s=t._freezeSettings(),i=function(a,u,c,d){return new CD(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,CS(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new zM(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(pt.fromBase64String(e))}catch(n){throw new Q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mo(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=/^__.*__$/;class JM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ql(e,this.data,n,this.fieldTransforms)}}class AS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function PS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Ug{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ad(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(PS(this.Cu)&&XM.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ZM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gd(e)}Qu(e,n,r,s=!1){return new Ug({Cu:e,methodName:n,qu:r,path:ct.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zg(t){const e=t._freezeSettings(),n=Gd(t._databaseId);return new ZM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eV(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);Bg("Data must be an object, but it was:",o,r);const a=RS(r,o);let u,c;if(i.merge)u=new tn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const h=qp(e,p,n);if(!o.contains(h))throw new Q(F.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);NS(d,h)||d.push(h)}u=new tn(d),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new JM(new $t(a),u,c)}class nh extends th{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nh}}class $g extends th{_toFieldTransform(e){return new XD(e.path,new bl)}isEqual(e){return e instanceof $g}}function tV(t,e,n,r){const s=t.Qu(1,e,n);Bg("Data must be an object, but it was:",s,r);const i=[],o=$t.empty();bi(r,(u,c)=>{const d=Wg(e,u,n);c=Ye(c);const p=s.Nu(d);if(c instanceof nh)i.push(d);else{const h=Yl(c,p);h!=null&&(i.push(d),o.set(d,h))}});const a=new tn(i);return new AS(o,a,s.fieldTransforms)}function nV(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[qp(e,r,n)],u=[s];if(i.length%2!=0)throw new Q(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(qp(e,i[h])),u.push(i[h+1]);const c=[],d=$t.empty();for(let h=a.length-1;h>=0;--h)if(!NS(c,a[h])){const y=a[h];let E=u[h];E=Ye(E);const _=o.Nu(y);if(E instanceof nh)c.push(y);else{const x=Yl(E,_);x!=null&&(c.push(y),d.set(y,x))}}const p=new tn(c);return new AS(d,p,o.fieldTransforms)}function rV(t,e,n,r=!1){return Yl(n,t.Qu(r?4:3,e))}function Yl(t,e){if(kS(t=Ye(t)))return Bg("Unsupported field value:",e,t),RS(t,e);if(t instanceof th)return function(r,s){if(!PS(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=Yl(a,s.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KD(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=tt.fromDate(r);return{timestampValue:sd(s.serializer,i)}}if(r instanceof tt){const i=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sd(s.serializer,i)}}if(r instanceof jg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mo)return{bytesValue:G1(s.serializer,r._byteString)};if(r instanceof Vt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ig(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Fg)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return xg(a.serializer,u)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Jd(r)}`)}(t,e)}function RS(t,e){const n={};return T1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bi(t,(r,s)=>{const i=Yl(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function kS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof jg||t instanceof Mo||t instanceof Vt||t instanceof th||t instanceof Fg)}function Bg(t,e,n){if(!kS(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Jd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function qp(t,e,n){if((e=Ye(e))instanceof eh)return e._internalPath;if(typeof e=="string")return Wg(t,e);throw ad("Field path arguments must be of type string or ",t,!1,void 0,n)}const sV=new RegExp("[~\\*/\\[\\]]");function Wg(t,e,n){if(e.search(sV)>=0)throw ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new eh(...e.split("."))._internalPath}catch{throw ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ad(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new Q(F.INVALID_ARGUMENT,a+t+u)}function NS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iV extends OS{data(){return super.data()}}function qg(t,e){return typeof e=="string"?Wg(t,e):e instanceof eh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hg{}class DS extends Hg{}function aV(t,e,...n){let r=[];e instanceof Hg&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof Kg).length,a=i.filter(u=>u instanceof Qg).length;if(o>1||o>0&&a>0)throw new Q(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Qg extends DS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Qg(e,n,r)}_apply(e){const n=this._parse(e);return LS(e._query,n),new Pi(e.firestore,e.converter,Lp(e._query,n))}_parse(e){const n=zg(e.firestore);return function(i,o,a,u,c,d,p){let h;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Lw(p,d);const y=[];for(const E of p)y.push(Dw(u,i,E));h={arrayValue:{values:y}}}else h=Dw(u,i,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Lw(p,d),h=rV(a,o,p,d==="in"||d==="not-in");return Ge.create(c,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Kg extends Hg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Kg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Dn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const u of a)LS(o,u),o=Lp(o,u)}(e._query,n),new Pi(e.firestore,e.converter,Lp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gg extends DS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gg(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Q(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Q(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cl(i,o)}(e._query,this._field,this._direction);return new Pi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ko(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function lV(t,e="asc"){const n=e,r=qg("orderBy",t);return Gg._create(r,n)}function Dw(t,e,n){if(typeof(n=Ye(n))=="string"){if(n==="")throw new Q(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!N1(e)&&n.indexOf("/")!==-1)throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Re.fromString(n));if(!Z.isDocumentKey(r))throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nw(t,new Z(r))}if(n instanceof Vt)return nw(t,n._key);throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jd(n)}.`)}function Lw(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LS(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class uV{convertValue(e,n="none"){switch(_i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>$e(o.doubleValue));return new Fg(i)}convertGeoPoint(e){return new jg($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tl(e));default:return null}}convertTimestamp(e){const n=Ls(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Re.fromString(e);xe(tS(r));const s=new Sl(r.get(1),r.get(3)),i=new Z(r.popFirst(5));return s.isEqual(n)||Pr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class MS extends OS{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mc extends MS{data(e={}){return super.data(e)}}class dV{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new La(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mc(this._firestore,this._userDataWriter,r.key,r,new La(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new mc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new La(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new mc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new La(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:hV(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t){t=kr(t,Vt);const e=kr(t.firestore,Gl);return WM(Vg(e),t._key).then(n=>pV(e,t,n))}class VS extends uV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function fV(t){t=kr(t,Pi);const e=kr(t.firestore,Gl),n=Vg(e),r=new VS(e);return oV(t._query),qM(n,t._query).then(s=>new dV(e,r,t,s))}function Ma(t,e,n){t=kr(t,Vt);const r=kr(t.firestore,Gl),s=cV(t.converter,e,n);return jS(r,[eV(zg(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Gn.none())])}function Li(t,e,n,...r){t=kr(t,Vt);const s=kr(t.firestore,Gl),i=zg(s);let o;return o=typeof(e=Ye(e))=="string"||e instanceof eh?nV(i,"updateDoc",t._key,e,n,r):tV(i,"updateDoc",t._key,e),jS(s,[o.toMutation(t._key,Gn.exists(!0))])}function jS(t,e){return function(r,s){const i=new _r;return r.asyncQueue.enqueueAndForget(async()=>OM(await BM(r),s,i)),i.promise}(Vg(t),e)}function pV(t,e,n){const r=n.docs.get(e._key),s=new VS(t);return new MS(t,s,e._key,r,new La(n.hasPendingWrites,n.fromCache),e.converter)}function ff(){return new $g("serverTimestamp")}(function(e,n=!0){(function(s){Qo=s})(Ho),Po(new yi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Gl(new dD(r.getProvider("auth-internal")),new mD(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Cs(X0,"4.7.3",e),Cs(X0,"4.7.3","esm2017")})();var mV="firebase",gV="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs(mV,gV,"app");function Yg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function FS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yV=FS,US=new zl("auth","Firebase",FS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new dg("@firebase/auth");function vV(t,...e){ld.logLevel<=fe.WARN&&ld.warn(`Auth (${Ho}): ${t}`,...e)}function gc(t,...e){ld.logLevel<=fe.ERROR&&ld.error(`Auth (${Ho}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,...e){throw Jg(t,...e)}function Pn(t,...e){return Jg(t,...e)}function Xg(t,e,n){const r=Object.assign(Object.assign({},yV()),{[e]:n});return new zl("auth","Firebase",r).create(e,{appName:t.name})}function Er(t){return Xg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&mn(t,"argument-error"),Xg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return US.create(t,...e)}function ne(t,e,...n){if(!t)throw Jg(e,...n)}function gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gc(e),new Error(e)}function Nr(t,e){t||gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _V(){return Mw()==="http:"||Mw()==="https:"}function Mw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_V()||B2()||"connection"in navigator)?navigator.onLine:!0}function xV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nr(n>e,"Short delay should be less than long delay!"),this.isMobile=U2()||W2()}get(){return EV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t,e){Nr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=new Xl(3e4,6e4);function $s(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vr(t,e,n,r,s={}){return $S(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=$l(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},i);return $2()||(c.referrerPolicy="no-referrer"),zS.fetch()(BS(t,t.config.apiHost,n,a),c)})}async function $S(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},TV),e);try{const s=new CV(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Hu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Hu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Hu(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Xg(t,d,c);mn(t,d)}}catch(s){if(s instanceof Mr)throw s;mn(t,"network-request-failed",{message:String(s)})}}async function Jl(t,e,n,r,s={}){const i=await Vr(t,e,n,r,s);return"mfaPendingCredential"in i&&mn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function BS(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Zg(t.config,s):`${t.config.apiScheme}://${s}`}function IV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pn(this.auth,"network-request-failed")),SV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Pn(t,e,r);return s.customData._tokenResponse=n,s}function Vw(t){return t!==void 0&&t.enterprise!==void 0}class bV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function AV(t,e){return Vr(t,"GET","/v2/recaptchaConfig",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PV(t,e){return Vr(t,"POST","/v1/accounts:delete",e)}async function WS(t,e){return Vr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RV(t,e=!1){const n=Ye(t),r=await n.getIdToken(e),s=ey(r);ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Xa(pf(s.auth_time)),issuedAtTime:Xa(pf(s.iat)),expirationTime:Xa(pf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function pf(t){return Number(t)*1e3}function ey(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const s=i1(n);return s?JSON.parse(s):(gc("Failed to decode base64 JWT payload"),null)}catch(s){return gc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function jw(t){const e=ey(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mr&&kV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Vo(t,WS(n,{idToken:r}));ne(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?qS(i.providerUserInfo):[],a=DV(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Qp(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function OV(t){const e=Ye(t);await ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DV(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function qS(t){return t.map(e=>{var{providerId:n}=e,r=Yg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(t,e){const n=await $S(t,{},async()=>{const r=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=BS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MV(t,e){return Vr(t,"POST","/v2/accounts:revokeToken",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=jw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await LV(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ao;return r&&(ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ne(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ne(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Yg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Qp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Vo(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RV(this,e)}reload(){return OV(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ud(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(Er(this.auth));const e=await this.getIdToken();return await Vo(this,PV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,u,c,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:N,isAnonymous:D,providerData:M,stsTokenManager:b}=n;ne(S&&b,e,"internal-error");const T=ao.fromJSON(this.name,b);ne(typeof S=="string",e,"internal-error"),Yr(p,e.name),Yr(h,e.name),ne(typeof N=="boolean",e,"internal-error"),ne(typeof D=="boolean",e,"internal-error"),Yr(y,e.name),Yr(E,e.name),Yr(_,e.name),Yr(x,e.name),Yr(w,e.name),Yr(v,e.name);const A=new yr({uid:S,auth:e,email:h,emailVerified:N,displayName:p,isAnonymous:D,photoURL:E,phoneNumber:y,tenantId:_,stsTokenManager:T,createdAt:w,lastLoginAt:v});return M&&Array.isArray(M)&&(A.providerData=M.map(P=>Object.assign({},P))),x&&(A._redirectEventId=x),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new ao;s.updateFromServerResponse(n);const i=new yr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ud(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ne(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?qS(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ao;a.updateFromIdToken(r);const u=new yr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Qp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Map;function vr(t){Nr(t instanceof Function,"Expected a class definition");let e=Fw.get(t);return e?(Nr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HS.type="NONE";const Uw=HS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t,e,n){return`firebase:${t}:${e}:${n}`}class lo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=yc(this.userKey,s.apiKey,i),this.fullPersistenceKey=yc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lo(vr(Uw),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||vr(Uw);const o=yc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const p=yr._fromJSON(e,d);c!==i&&(a=p),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new lo(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new lo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JS(e))return"Blackberry";if(ZS(e))return"Webos";if(KS(e))return"Safari";if((e.includes("chrome/")||GS(e))&&!e.includes("edge/"))return"Chrome";if(XS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function QS(t=Rt()){return/firefox\//i.test(t)}function KS(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GS(t=Rt()){return/crios\//i.test(t)}function YS(t=Rt()){return/iemobile/i.test(t)}function XS(t=Rt()){return/android/i.test(t)}function JS(t=Rt()){return/blackberry/i.test(t)}function ZS(t=Rt()){return/webos/i.test(t)}function ty(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VV(t=Rt()){var e;return ty(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jV(){return q2()&&document.documentMode===10}function eI(t=Rt()){return ty(t)||XS(t)||ZS(t)||JS(t)||/windows phone/i.test(t)||YS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t,e=[]){let n;switch(t){case"Browser":n=zw(Rt());break;case"Worker":n=`${zw(Rt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ho}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(t,e={}){return Vr(t,"GET","/v2/passwordPolicy",$s(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=6;class $V{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:zV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $w(this),this.idTokenSubscription=new $w(this),this.beforeStateQueue=new FV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=US,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await WS(this,{idToken:e}),r=await yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ud(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(Er(this));const n=e?Ye(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(Er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(Er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UV(this),n=new $V(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await MV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vr(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bs(t){return Ye(t)}class $w{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z2(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WV(t){rh=t}function nI(t){return rh.loadJS(t)}function qV(){return rh.recaptchaEnterpriseScript}function HV(){return rh.gapiScript}function QV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const KV="recaptcha-enterprise",GV="NO_RECAPTCHA";class YV{constructor(e){this.type=KV,this.auth=Bs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{AV(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new bV(u);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function s(i,o,a){const u=window.grecaptcha;Vw(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(GV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Vw(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=qV();u.length!==0&&(u+=a),nI(u).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Bw(t,e,n,r=!1){const s=new YV(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Kp(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Bw(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Bw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t,e){const n=fg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Zc(i,e??{}))return s;mn(s,"already-initialized")}return n.initialize({options:e})}function JV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ZV(t,e,n){const r=Bs(t);ne(r._canInitEmulator,r,"emulator-config-failed"),ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=rI(e),{host:o,port:a}=ej(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),tj()}function rI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ej(t){const e=rI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Ww(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Ww(o)}}}function Ww(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}async function nj(t,e){return Vr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(t,e){return Jl(t,"POST","/v1/accounts:signInWithPassword",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sj(t,e){return Jl(t,"POST","/v1/accounts:signInWithEmailLink",$s(t,e))}async function ij(t,e){return Jl(t,"POST","/v1/accounts:signInWithEmailLink",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends ny{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Rl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Rl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kp(e,n,"signInWithPassword",rj);case"emailLink":return sj(e,{email:this._email,oobCode:this._password});default:mn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kp(e,r,"signUpPassword",nj);case"emailLink":return ij(e,{idToken:n,email:this._email,oobCode:this._password});default:mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(t,e){return Jl(t,"POST","/v1/accounts:signInWithIdp",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj="http://localhost";class Ei extends ny{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ei(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Yg(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ei(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:oj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$l(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lj(t){const e=Ra(ka(t)).link,n=e?Ra(ka(e)).deep_link_id:null,r=Ra(ka(t)).deep_link_id;return(r?Ra(ka(r)).link:null)||r||n||e||t}class ry{constructor(e){var n,r,s,i,o,a;const u=Ra(ka(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,p=aj((s=u.mode)!==null&&s!==void 0?s:null);ne(c&&d&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=d,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=lj(e);try{return new ry(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.providerId=Xo.PROVIDER_ID}static credential(e,n){return Rl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ry.parseLink(n);return ne(r,"argument-error"),Rl._fromEmailAndCode(e,r.code,r.tenantId)}}Xo.PROVIDER_ID="password";Xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends sy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Zl{constructor(){super("facebook.com")}static credential(e){return Ei._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ei._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Zl{constructor(){super("github.com")}static credential(e){return Ei._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Zl{constructor(){super("twitter.com")}static credential(e,n){return Ei._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return is.credential(n,r)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(t,e){return Jl(t,"POST","/v1/accounts:signUp",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await yr._fromIdTokenResponse(e,r,s),o=qw(r);return new xi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=qw(r);return new xi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function qw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends Mr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,cd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new cd(e,n,r,s)}}function sI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?cd._fromErrorAndOperation(t,i,e,r):i})}async function cj(t,e,n=!1){const r=await Vo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dj(t,e,n=!1){const{auth:r}=t;if(Cn(r.app))return Promise.reject(Er(r));const s="reauthenticate";try{const i=await Vo(t,sI(r,s,e,t),n);ne(i.idToken,r,"internal-error");const o=ey(i.idToken);ne(o,r,"internal-error");const{sub:a}=o;return ne(t.uid===a,r,"user-mismatch"),xi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&mn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(t,e,n=!1){if(Cn(t.app))return Promise.reject(Er(t));const r="signIn",s=await sI(t,r,e),i=await xi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function hj(t,e){return iI(Bs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(t){const e=Bs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fj(t,e,n){if(Cn(t.app))return Promise.reject(Er(t));const r=Bs(t),o=await Kp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&oI(t),u}),a=await xi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function pj(t,e,n){return Cn(t.app)?Promise.reject(Er(t)):hj(Ye(t),Xo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(t,e){return Vr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ye(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Vo(r,mj(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t,e){return Ye(t).setPersistence(e)}function vj(t,e,n,r){return Ye(t).onIdTokenChanged(e,n,r)}function wj(t,e,n){return Ye(t).beforeAuthStateChanged(e,n)}function _j(t,e,n,r){return Ye(t).onAuthStateChanged(e,n,r)}function Hw(t){return Ye(t).signOut()}const dd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dd,"1"),this.storage.removeItem(dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=1e3,xj=10;class lI extends aI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);jV()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,xj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Ej)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lI.type="LOCAL";const uI=lI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI extends aI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cI.type="SESSION";const dI=cI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new sh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await Tj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=iy("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const h=p;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return window}function Ij(t){Xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}async function Cj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Aj(){return hI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="firebaseLocalStorageDb",Pj=1,hd="firebaseLocalStorage",pI="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ih(t,e){return t.transaction([hd],e?"readwrite":"readonly").objectStore(hd)}function Rj(){const t=indexedDB.deleteDatabase(fI);return new eu(t).toPromise()}function Gp(){const t=indexedDB.open(fI,Pj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hd,{keyPath:pI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hd)?e(r):(r.close(),await Rj(),e(await Gp()))})})}async function Qw(t,e,n){const r=ih(t,!0).put({[pI]:e,value:n});return new eu(r).toPromise()}async function kj(t,e){const n=ih(t,!1).get(e),r=await new eu(n).toPromise();return r===void 0?null:r.value}function Kw(t,e){const n=ih(t,!0).delete(e);return new eu(n).toPromise()}const Nj=800,Oj=3;class mI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Oj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(Aj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Cj(),!this.activeServiceWorker)return;this.sender=new Sj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gp();return await Qw(e,dd,"1"),await Kw(e,dd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Qw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ih(s,!1).getAll();return new eu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mI.type="LOCAL";const Dj=mI;new Xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t,e){return e?vr(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy extends ny{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Lj(t){return iI(t.auth,new oy(t),t.bypassAuthState)}function Mj(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),dj(n,new oy(t),t.bypassAuthState)}async function Vj(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),cj(n,new oy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lj;case"linkViaPopup":case"linkViaRedirect":return Vj;case"reauthViaPopup":case"reauthViaRedirect":return Mj;default:mn(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new Xl(2e3,1e4);async function Fj(t,e,n){if(Cn(t.app))return Promise.reject(Pn(t,"operation-not-supported-in-this-environment"));const r=Bs(t);wV(t,e,sy);const s=gI(r,n);return new ni(r,"signInViaPopup",e,s).executeNotNull()}class ni extends yI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ni.currentPopupAction&&ni.currentPopupAction.cancel(),ni.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=iy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ni.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jj.get())};e()}}ni.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="pendingRedirect",vc=new Map;class zj extends yI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vc.get(this.auth._key());if(!e){try{const r=await $j(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vc.set(this.auth._key(),e)}return this.bypassAuthState||vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $j(t,e){const n=qj(e),r=Wj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Bj(t,e){vc.set(t._key(),e)}function Wj(t){return vr(t._redirectPersistence)}function qj(t){return yc(Uj,t.config.apiKey,t.name)}async function Hj(t,e,n=!1){if(Cn(t.app))return Promise.reject(Er(t));const r=Bs(t),s=gI(r,e),o=await new zj(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=10*60*1e3;class Kj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Gj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Qj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gw(e))}saveEventToCache(e){this.cachedEventUids.add(Gw(e)),this.lastProcessedEventTime=Date.now()}}function Gw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Gj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yj(t,e={}){return Vr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jj=/^https?/;async function Zj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Yj(t);for(const n of e)try{if(e4(n))return}catch{}mn(t,"unauthorized-domain")}function e4(t){const e=Hp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Jj.test(n))return!1;if(Xj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=new Xl(3e4,6e4);function Yw(){const t=Xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function n4(t){return new Promise((e,n)=>{var r,s,i;function o(){Yw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yw(),n(Pn(t,"network-request-failed"))},timeout:t4.get()})}if(!((s=(r=Xn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Xn().gapi)===null||i===void 0)&&i.load)o();else{const a=QV("iframefcb");return Xn()[a]=()=>{gapi.load?o():n(Pn(t,"network-request-failed"))},nI(`${HV()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw wc=null,e})}let wc=null;function r4(t){return wc=wc||n4(t),wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=new Xl(5e3,15e3),i4="__/auth/iframe",o4="emulator/auth/iframe",a4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u4(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zg(e,o4):`https://${t.config.authDomain}/${i4}`,r={apiKey:e.apiKey,appName:t.name,v:Ho},s=l4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${$l(r).slice(1)}`}async function c4(t){const e=await r4(t),n=Xn().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:u4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Pn(t,"network-request-failed"),a=Xn().setTimeout(()=>{i(o)},s4.get());function u(){Xn().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h4=500,f4=600,p4="_blank",m4="http://localhost";class Xw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g4(t,e,n,r=h4,s=f4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},d4),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Rt().toLowerCase();n&&(a=GS(c)?p4:n),QS(c)&&(e=e||m4,u.scrollbars="yes");const d=Object.entries(u).reduce((h,[y,E])=>`${h}${y}=${E},`,"");if(VV(c)&&a!=="_self")return y4(e||"",a),new Xw(null);const p=window.open(e||"",a,d);ne(p,t,"popup-blocked");try{p.focus()}catch{}return new Xw(p)}function y4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="__/auth/handler",w4="emulator/auth/handler",_4=encodeURIComponent("fac");async function Jw(t,e,n,r,s,i){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ho,eventId:s};if(e instanceof sy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",J2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof Zl){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),c=u?`#${_4}=${encodeURIComponent(u)}`:"";return`${E4(t)}?${$l(a).slice(1)}${c}`}function E4({config:t}){return t.emulator?Zg(t,w4):`https://${t.authDomain}/${v4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="webStorageSupport";class x4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dI,this._completeRedirectFn=Hj,this._overrideRedirectResult=Bj}async _openPopup(e,n,r,s){var i;Nr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Jw(e,n,r,Hp(),s);return g4(e,o,iy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Jw(e,n,r,Hp(),s);return Ij(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Nr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await c4(e),r=new Kj(e);return n.register("authEvent",s=>(ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mf,{type:mf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[mf];o!==void 0&&n(!!o),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Zj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eI()||KS()||ty()}}const T4=x4;var Zw="@firebase/auth",e_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C4(t){Po(new yi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tI(t)},c=new BV(r,s,i,u);return JV(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Po(new yi("auth-internal",e=>{const n=Bs(e.getProvider("auth").getImmediate());return(r=>new S4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cs(Zw,e_,I4(t)),Cs(Zw,e_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=5*60,A4=l1("authIdTokenMaxAge")||b4;let t_=null;const P4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>A4)return;const s=n==null?void 0:n.token;t_!==s&&(t_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function R4(t=h1()){const e=fg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=XV(t,{popupRedirectResolver:T4,persistence:[Dj,uI,dI]}),r=l1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=P4(i.toString());wj(n,o,()=>o(n.currentUser)),vj(n,a=>o(a))}}const s=o1("auth");return s&&ZV(n,`http://${s}`),n}function k4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}WV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Pn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",k4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C4("Browser");const N4={apiKey:"AIzaSyAzCeiPaiDSsnggHDHkTnxgFW6wG1gBShU",authDomain:"grader-a2085.firebaseapp.com",projectId:"grader-a2085",storageBucket:"grader-a2085.firebasestorage.app",messagingSenderId:"80518260051",appId:"1:80518260051:web:272fbdb313d5e1d7e56da6",measurementId:"G-6FYXP2WVJX"},wI=d1(N4),st=R4(wI),Ct=GM(wI);yj(st,uI).catch(()=>{console.error("Failed to set authentication persistence. You may need to log in more frequently.")});const _I=new fr;_I.setCustomParameters({prompt:"select_account"});const EI=I.createContext(void 0),jr=()=>{const t=I.useContext(EI);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},O4=({children:t})=>{const[e,n]=I.useState(null),[r,s]=I.useState(null);r!=null&&r.profile;const[i,o]=I.useState(!0);I.useEffect(()=>{const E=_j(st,async _=>{if(n(_),_)try{const x=await ns(Dt(Ct,"users",_.uid));if(x.exists())s(x.data());else{const w={profile:{name:_.displayName||"",email:_.email||"",createdAt:new Date().toISOString()},quizCount:0,overallScore:0,averageScore:0,completedQuizzes:{}};await Ma(Dt(Ct,"users",_.uid),w),s(w)}}catch(x){console.error("Error fetching user data:",x)}else s(null);o(!1)});return()=>E()},[]);const a=async(E,_)=>{try{await pj(st,E,_)}catch(x){throw console.error("Sign in error:",x),x}},u=async(E,_,x)=>{try{const{user:w}=await fj(st,E,_),v={profile:{name:x.name||"",email:E,createdAt:new Date().toISOString(),...x},quizCount:0,overallScore:0,averageScore:0,completedQuizzes:{}};await Ma(Dt(Ct,"users",w.uid),v)}catch(w){throw console.error("Sign up error:",w),w}},c=async()=>{try{const{user:E}=await Fj(st,_I);if(!(await ns(Dt(Ct,"users",E.uid))).exists()){const x={profile:{name:E.displayName||"",email:E.email||"",createdAt:new Date().toISOString()},quizCount:0,overallScore:0,averageScore:0,completedQuizzes:{}};await Ma(Dt(Ct,"users",E.uid),x)}}catch(E){throw console.error("Google sign in error:",E),E}},d=async()=>{try{await Hw(st)}catch(E){throw console.error("Sign out error:",E),E}},p=async E=>{if(!e)throw new Error("No user logged in");try{const _=Dt(Ct,"users",e.uid);await Ma(_,E,{merge:!0}),s(x=>x?{...x,...E}:null)}catch(_){throw console.error("Update user data error:",_),_}},h=async()=>{await Hw(st),n(null),s(null)},y={user:e,userData:r,loading:i,signIn:a,signUp:u,signInWithGoogle:c,signOut:d,updateUserData:p,profile:(r==null?void 0:r.profile)||null,logout:h};return g.jsx(EI.Provider,{value:y,children:!i&&t})},Qu="quiz_",D4=I.createContext(null),L4=({children:t})=>{const{user:e,userData:n,updateUserData:r}=jr(),[s,i]=I.useState(null),[o,a]=I.useState(null),[u,c]=I.useState(null),[d,p]=I.useState(!1),w={currentQuiz:s,testData:o,quizResult:u,loading:d,startQuiz:v=>{i(v),a({answers:new Array(v.questions.length).fill(""),questionTimes:new Array(v.questions.length).fill(0),navigationHistory:[]}),c(null)},saveAnswer:(v,S)=>{if(!s||!o)return;const N=s.questions.findIndex(M=>M.id===v);if(N===-1)return;const D=[...o.answers];D[N]=S,a({...o,answers:D,navigationHistory:[...o.navigationHistory,{questionId:N,timestamp:Date.now()}]}),e&&localStorage.setItem(`${Qu}${s.id}_${e.uid}`,JSON.stringify({answers:D,questionTimes:o.questionTimes,navigationHistory:o.navigationHistory}))},submitQuiz:async()=>{if(!(!s||!o||!e||!n)){p(!0);try{const v=s.questions.reduce((T,A,P)=>T+(o.answers[P]===A.options[A.correctIndex]?1:0),0),S=s.questions.length,N=Math.round(v/S*100),D=o.questionTimes.reduce((T,A)=>T+A,0),M={quizId:s.id,score:N,accuracy:v/S*100,time:D,date:new Date,correctAnswers:v,totalQuestions:S,completedAt:new Date().toISOString()},b={...n,quizCount:n.quizCount+1,overallScore:n.overallScore+N,averageScore:(n.averageScore*n.quizCount+N)/(n.quizCount+1),completedQuizzes:{...n.completedQuizzes,[s.id]:{score:N,completedAt:new Date().toISOString()}}};await r(b),localStorage.removeItem(`${Qu}${s.id}_${e.uid}`),c(M),i(null),a(null)}catch(v){throw console.error("Error submitting quiz:",v),v}finally{p(!1)}}},loadQuizState:v=>{if(!e)return;const S=localStorage.getItem(`${Qu}${v}_${e.uid}`);S&&a(JSON.parse(S))},clearQuizState:()=>{!e||!s||(localStorage.removeItem(`${Qu}${s.id}_${e.uid}`),i(null),a(null),c(null))}};return g.jsx(D4.Provider,{value:w,children:t})},it=({children:t,className:e,variant:n="default",size:r="md",...s})=>{const[i,o]=I.useState([]),a=I.useRef(null);let u=I.useRef(0);const c=h=>{if(a.current){const E=a.current.getBoundingClientRect(),_=h.clientX-E.left,x=h.clientY-E.top,w={left:_,top:x,id:u.current};u.current+=1,o([...i,w]),setTimeout(()=>{o(v=>v.filter(S=>S.id!==w.id))},800)}},d={default:"bg-slate-200 hover:bg-slate-300 text-slate-800",primary:"bg-grader-green hover:bg-grader-green/90 text-white",secondary:"bg-grader-orange hover:bg-grader-orange/90 text-white",outline:"bg-transparent border border-grader-green text-grader-green hover:bg-grader-green/10",ghost:"bg-transparent hover:bg-slate-100 text-slate-800"},p={sm:"px-3 py-1 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};return g.jsxs("button",{ref:a,className:Dr("relative overflow-hidden rounded-md font-medium transition-colors",d[n],p[r],e),onClick:c,...s,children:[i.map(h=>g.jsx("span",{className:"ripple absolute bg-white/20 rounded-full pointer-events-none animate-ripple",style:{left:h.left,top:h.top,transform:"translate(-50%, -50%)"}},h.id)),t]})},Fr=({size:t="md",withText:e=!0})=>{const n={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"};return g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:`${n[t]} relative`,children:[g.jsx("div",{className:"absolute inset-0 bg-grader-orange rounded-lg"}),g.jsx("div",{className:"absolute inset-1 bg-grader-green rounded-md flex items-center justify-center",children:g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"text-white font-bold text-2xl",children:"G"}),g.jsx("div",{className:"absolute bottom-1 right-0 w-6 h-6",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})})]}),e&&g.jsx("span",{className:"text-grader-dark font-bold text-xl",children:"grader"})]})},M4=()=>{const t=nr(),e=()=>{t("/login")},n=()=>{t("/dashboard")};return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-300 via-purple-400 to-blue-300",children:[g.jsxs("header",{className:"p-6 flex items-center justify-between",children:[g.jsx(Fr,{size:"md"}),g.jsx("div",{className:"flex gap-4",children:g.jsx(it,{variant:"outline",className:"text-white border-white hover:bg-white hover:text-purple-500",onClick:()=>t("/login"),children:"Sign In"})})]}),g.jsxs("div",{className:"flex flex-col items-center justify-center text-center px-6 py-16 text-white",children:[g.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 animate-fade-in",children:"Welcome to Grader"}),g.jsx("p",{className:"text-xl md:text-2xl mb-12 max-w-2xl opacity-90 animate-slide-up",children:"The smart, fun, and insightful way to master school lessons."}),g.jsxs("div",{className:"flex gap-4 mb-20",children:[g.jsx(it,{variant:"secondary",size:"lg",className:"bg-white text-purple-500 hover:bg-gray-100 px-8 py-4 text-lg font-semibold rounded-full",onClick:e,children:"Get Started"}),g.jsx(it,{variant:"outline",size:"lg",className:"text-white border-white hover:bg-white hover:text-purple-500 px-8 py-4 text-lg font-semibold rounded-full",onClick:n,children:"See Demo"})]})]}),g.jsx("div",{className:"bg-gray-50 py-20",children:g.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-16",children:[g.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm hover:shadow-md transition-shadow",children:[g.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center mb-6",children:g.jsx("span",{className:"text-2xl",children:"✨"})}),g.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Duolingo-style Quizzes"}),g.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Engage with interactive quizzes that make learning fun and addictive. Track your progress with gamified rewards and achievements."})]}),g.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm hover:shadow-md transition-shadow",children:[g.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-2xl flex items-center justify-center mb-6",children:g.jsx("span",{className:"text-2xl",children:"💡"})}),g.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Personalized Learning"}),g.jsx("p",{className:"text-gray-600 leading-relaxed",children:"AI-powered adaptation that matches your learning style and pace. Get custom recommendations based on your performance."})]}),g.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm hover:shadow-md transition-shadow",children:[g.jsx("div",{className:"w-16 h-16 bg-cyan-100 rounded-2xl flex items-center justify-center mb-6",children:g.jsx("span",{className:"text-2xl",children:"📚"})}),g.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Curriculum Aligned"}),g.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Content perfectly aligned with school curriculums. Master exactly what you need to succeed in your classes."})]}),g.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm hover:shadow-md transition-shadow",children:[g.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-2xl flex items-center justify-center mb-6",children:g.jsx("span",{className:"text-2xl",children:"📊"})}),g.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Grader Lumina™ Report"}),g.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Get comprehensive insights into your learning journey with our AI-powered analytics. Track progress, identify strengths, and focus on areas that need improvement."})]})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-4xl font-bold text-purple-500 mb-6",children:"Why Grader?"}),g.jsx("p",{className:"text-xl text-gray-600 mb-12",children:"Because mastering concepts should be joyful, not stressful."}),g.jsx(it,{size:"lg",className:"bg-purple-500 hover:bg-purple-600 text-white px-8 py-4 text-lg font-semibold rounded-full",onClick:e,children:"Start Learning Today"})]})]})})]})},kl=I.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:Dr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));kl.displayName="Input";const V4=()=>{var x;const[t,e]=I.useState(""),[n,r]=I.useState(""),[s,i]=I.useState(""),[o,a]=I.useState(!1),u=nr(),d=((x=Ci().state)==null?void 0:x.from)||"/",{signIn:p,signInWithGoogle:h}=jr(),{toast:y}=Pd();I.useEffect(()=>{st.currentUser&&u("/dashboard",{replace:!0})},[u]);const E=async w=>{w.preventDefault(),a(!0);try{await p(t,n),y({title:"Success",description:"Successfully signed in!"}),u(d,{replace:!0})}catch{i("Failed to log in. Please check your credentials."),y({title:"Error",description:"Invalid email or password. Please try again.",variant:"destructive"})}finally{a(!1)}},_=async()=>{a(!0);try{await h(),y({title:"Success",description:"Successfully signed in with Google!"}),u(d,{replace:!0})}catch{i("Failed to log in with Google."),y({title:"Error",description:"Failed to sign in with Google. Please try again.",variant:"destructive"})}finally{a(!1)}};return g.jsx("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-gray-50 to-gray-100",children:g.jsxs("div",{className:"flex-1 flex flex-col md:flex-row",children:[g.jsx("div",{className:"w-full md:w-1/2 bg-gradient-to-br from-purple-300 via-purple-400 to-blue-300 p-8 flex flex-col justify-center items-center text-white animate-fade-in",children:g.jsxs("div",{className:"max-w-md text-center",children:[g.jsx("div",{className:"mb-6 flex justify-center",children:g.jsx(Fr,{size:"lg",withText:!1})}),g.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Welcome Back"}),g.jsx("p",{className:"text-xl mb-6",children:"Continue your learning journey with personalized tests and detailed progress tracking."}),g.jsx("div",{className:"flex justify-center",children:g.jsx("div",{className:"w-16 h-1 bg-orange-300 rounded-full"})}),g.jsx("p",{className:"mt-6 text-white/80",children:"Sign in to access your dashboard and track your progress."})]})}),g.jsx("div",{className:"w-full md:w-1/2 p-8 flex justify-center items-center animate-slide-up",children:g.jsxs("div",{className:"w-full max-w-md",children:[g.jsxs("div",{className:"mb-10 text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Sign in to your account"}),g.jsx("p",{className:"text-gray-600",children:"Enter your credentials to access your dashboard"})]}),g.jsxs("form",{onSubmit:E,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),g.jsx(kl,{id:"email",type:"email",value:t,onChange:w=>e(w.target.value),placeholder:"Enter your email",required:!0,className:"w-full"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),g.jsx(kl,{id:"password",type:"password",value:n,onChange:w=>r(w.target.value),placeholder:"Enter your password",required:!0,minLength:6,className:"w-full"})]}),g.jsx(it,{type:"submit",variant:"primary",className:"w-full bg-purple-400 hover:bg-purple-500",disabled:o,children:o?"Signing in...":"Sign In"})]}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("span",{className:"text-gray-500",children:"or"})}),g.jsxs(it,{type:"button",variant:"outline",className:"w-full mt-4 flex items-center justify-center gap-2",onClick:_,disabled:o,children:[g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 48 48",children:[g.jsx("clipPath",{id:"g",children:g.jsx("path",{d:"M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z"})}),g.jsxs("g",{className:"colors",clipPath:"url(#g)",children:[g.jsx("path",{fill:"#FBBC05",d:"M0 37V11l17 13z"}),g.jsx("path",{fill:"#EA4335",d:"M0 11l17 13 7-6.1L48 14V0H0z"}),g.jsx("path",{fill:"#34A853",d:"M0 37l30-23 7.9 1L48 0v48H0z"}),g.jsx("path",{fill:"#4285F4",d:"M48 48L17 24l-4-3 35-10z"})]})]}),"Sign in with Google"]}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("button",{type:"button",className:"text-purple-500 hover:underline focus:outline-none",onClick:()=>u("/signup"),children:"Don't have an account? Sign up"})}),s&&g.jsx("p",{className:"mt-4 text-red-500 text-center",children:s})]})})]})})},j4=()=>{const[t,e]=I.useState(""),[n,r]=I.useState(""),[s,i]=I.useState(""),[o,a]=I.useState(!1),u=nr(),{signUp:c,signInWithGoogle:d}=jr(),{toast:p}=Pd();I.useEffect(()=>{st.currentUser&&u("/dashboard",{replace:!0})},[u]);const h=async E=>{E.preventDefault(),a(!0);try{await c(t,n,{name:t.split("@")[0]}),p({title:"Success",description:"Account created successfully! Please complete your profile."}),u("/profile-setup")}catch{i("Failed to sign up. Please try again."),p({title:"Error",description:"Failed to create account. Please try again.",variant:"destructive"})}finally{a(!1)}},y=async()=>{try{await d(),p({title:"Success",description:"Successfully signed in with Google!"}),u("/dashboard")}catch{i("Failed to sign up with Google."),p({title:"Error",description:"Failed to sign in with Google. Please try again.",variant:"destructive"})}};return g.jsx("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-gray-50 to-gray-100",children:g.jsxs("div",{className:"flex-1 flex flex-col md:flex-row",children:[g.jsx("div",{className:"w-full md:w-1/2 bg-gradient-to-br from-purple-300 via-purple-400 to-blue-300 p-8 flex flex-col justify-center items-center text-white animate-fade-in",children:g.jsxs("div",{className:"max-w-md text-center",children:[g.jsx("div",{className:"mb-6 flex justify-center",children:g.jsx(Fr,{size:"lg",withText:!1})}),g.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Join Grader"}),g.jsx("p",{className:"text-xl mb-6",children:"Start your personalized learning journey with interactive tests and detailed progress tracking."}),g.jsx("div",{className:"flex justify-center",children:g.jsx("div",{className:"w-16 h-1 bg-orange-300 rounded-full"})}),g.jsx("p",{className:"mt-6 text-white/80",children:"Create your account and unlock the full potential of personalized learning."})]})}),g.jsx("div",{className:"w-full md:w-1/2 p-8 flex justify-center items-center animate-slide-up",children:g.jsxs("div",{className:"w-full max-w-md",children:[g.jsxs("div",{className:"mb-10 text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Create your account"}),g.jsx("p",{className:"text-gray-600",children:"Fill out the form to get started with Grader"})]}),g.jsxs("form",{onSubmit:h,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),g.jsx(kl,{id:"email",type:"email",value:t,onChange:E=>e(E.target.value),placeholder:"Enter your email",required:!0,className:"w-full"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),g.jsx(kl,{id:"password",type:"password",value:n,onChange:E=>r(E.target.value),placeholder:"Enter your password",required:!0,minLength:6,className:"w-full"})]}),g.jsx(it,{type:"submit",variant:"primary",className:"w-full bg-purple-400 hover:bg-purple-500",disabled:o,children:o?"Creating account...":"Sign Up"})]}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("span",{className:"text-gray-500",children:"or"})}),g.jsxs(it,{type:"button",variant:"outline",className:"w-full mt-4 flex items-center justify-center gap-2",onClick:y,disabled:o,children:[g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 48 48",children:[g.jsx("clipPath",{id:"g",children:g.jsx("path",{d:"M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z"})}),g.jsxs("g",{className:"colors",clipPath:"url(#g)",children:[g.jsx("path",{fill:"#FBBC05",d:"M0 37V11l17 13z"}),g.jsx("path",{fill:"#EA4335",d:"M0 11l17 13 7-6.1L48 14V0H0z"}),g.jsx("path",{fill:"#34A853",d:"M0 37l30-23 7.9 1L48 0v48H0z"}),g.jsx("path",{fill:"#4285F4",d:"M48 48L17 24l-4-3 35-10z"})]})]}),"Sign up with Google"]}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("button",{type:"button",className:"text-purple-500 hover:underline focus:outline-none",onClick:()=>u("/login"),children:"Already have an account? Sign in"})}),s&&g.jsx("p",{className:"mt-4 text-red-500 text-center",children:s})]})})]})})},F4=()=>{var u;const t=nr(),[e,n]=I.useState({name:((u=st.currentUser)==null?void 0:u.displayName)||"",grade:"",age:""}),[r,s]=I.useState(!1),[i,o]=I.useState(""),a=async c=>{c.preventDefault(),s(!0),o("");try{const d=parseInt(e.age);if(isNaN(d)||d<5||d>18)throw new Error("Please enter a valid age between 5 and 18");await gj(st.currentUser,{displayName:e.name}),t("/dashboard")}catch(d){o(d.message)}finally{s(!1)}};return g.jsxs("div",{children:[g.jsx("h1",{children:"Profile Setup"}),g.jsxs("form",{onSubmit:a,children:[g.jsx("input",{type:"text",placeholder:"Name",value:e.name,onChange:c=>n({...e,name:c.target.value})}),g.jsx("input",{type:"text",placeholder:"Grade",value:e.grade,onChange:c=>n({...e,grade:c.target.value})}),g.jsx("input",{type:"text",placeholder:"Age",value:e.age,onChange:c=>n({...e,age:c.target.value})}),i&&g.jsx("p",{children:i}),g.jsx("button",{type:"submit",disabled:r,children:"Submit"})]})]})},ze={success:t=>{ju.success(t)},error:t=>{ju.error(t)},warning:t=>{ju.warning(t)},info:t=>{ju.info(t)}},Ku=async(t,e=500)=>new Promise(n=>setTimeout(()=>n(t),e)),oh=()=>{const[t,e]=I.useState(!1),[n,r]=I.useState(null),s=I.useCallback(async p=>{e(!0),r(null);try{const h=[{id:"math",title:"Mathematics",description:"Master mathematical concepts and problem-solving skills",grade:p.toString(),color:"#E0F2FE",icon:"📘"},{id:"science",title:"Science",description:"Explore scientific concepts and natural phenomena",grade:p.toString(),color:"#D1FAE5",icon:"🔬"},{id:"english",title:"English",description:"Develop language skills and literary understanding",grade:p.toString(),color:"#FEF3C7",icon:"📖"}];return await Ku(h)}catch(h){return r(h.message),ze.error("Failed to load subjects"),[]}finally{e(!1)}},[]),i=I.useCallback(async p=>{e(!0),r(null);try{return await Ku([{id:"chapter1",name:"Introduction",description:"Basic concepts and fundamentals",subjectId:p,order:1,locked:!1,tests:2},{id:"chapter2",name:"Advanced Topics",description:"Complex problems and solutions",subjectId:p,order:2,locked:!0,tests:3}])}catch(h){return r(h.message),[]}finally{e(!1)}},[]),o=I.useCallback(async p=>{e(!0),r(null);try{return await Ku([{id:"test1",name:"Quiz 1",description:"Basic concepts quiz",chapterId:p,subjectId:"math",duration:30,totalQuestions:10,locked:!1},{id:"test2",name:"Quiz 2",description:"Advanced concepts quiz",chapterId:p,subjectId:"math",duration:45,totalQuestions:15,locked:!0}])}catch(h){return r(h.message),[]}finally{e(!1)}},[]),a=I.useCallback(async p=>{e(!0),r(null);try{return await Ku([{id:"q1",text:"What is 2 + 2?",options:[{id:"a",text:"3"},{id:"b",text:"4"},{id:"c",text:"5"},{id:"d",text:"6"}],correctOptionId:"b",explanation:"2 + 2 equals 4"},{id:"q2",text:"What is 5 x 5?",options:[{id:"a",text:"20"},{id:"b",text:"25"},{id:"c",text:"30"},{id:"d",text:"35"}],correctOptionId:"b",explanation:"5 x 5 equals 25"}])}catch(h){return r(h.message),[]}finally{e(!1)}},[]),u=I.useCallback(async(p,h)=>{e(!0),r(null);try{await Ma(Dt(Ct,"users",p,"results",h.id),{...h,completedAt:new Date})}catch(y){r(y.message)}finally{e(!1)}},[]),c=I.useCallback(async(p,h)=>{e(!0),r(null);try{const y=Dt(Ct,"users",p,"results",h),E=await ns(y);return E.exists()?E.data():null}catch(y){return r(y.message),null}finally{e(!1)}},[]),d=I.useCallback(async p=>{e(!0),r(null);try{const h=aV(KM(Ct,"users",p,"results"),lV("completedAt","desc")),y=await fV(h),E=[];return y.forEach(_=>{E.push({id:_.id,..._.data()})}),E}catch(h){return r(h.message),[]}finally{e(!1)}},[]);return{loading:t,error:n,getSubjects:s,getChapters:i,getTests:o,getQuestions:a,saveResult:u,getResult:c,getResultsForUser:d}},gf=new Map,Gu=()=>{const t=new Date,e=t.getDay(),n=t.getDate()-e,r=new Date(t.setDate(n));return r.setHours(0,0,0,0),r.toISOString()};class U4{async getUserProgress(e){try{if(!st.currentUser)return ze.error("Authentication required to fetch progress"),null;const n=Dt(Ct,"users",e),r=await ns(n);if(!r.exists())return ze.warning("User profile not found"),null;const s=r.data();return{overallScore:s.overallScore||0,averageScore:s.averageScore||0,quizCount:s.quizCount||0,totalTimeSpent:s.totalTimeSpent||0,weeklyTimeSpent:s.weeklyTimeSpent||{},completedQuizzes:s.completedQuizzes||{},lastActive:s.lastActive||new Date().toISOString()}}catch(n){throw ze.error("Failed to fetch user progress"),n}}async startSession(e){try{if(!st.currentUser){ze.error("Authentication required to start session");return}const n=Dt(Ct,"users",e);gf.set(e,new Date),await Li(n,{lastActive:new Date().toISOString(),lastLogin:ff()})}catch{ze.error("Failed to start user session")}}async endSession(e){var n;try{if(!st.currentUser){ze.error("Authentication required to end session");return}const r=Dt(Ct,"users",e),s=await ns(r);if(!s.exists()){ze.warning("User profile not found");return}const i=gf.get(e);if(!i)return;const a=Math.floor((new Date().getTime()-i.getTime())/1e3),u=s.data(),c=Gu(),p=(((n=u.weeklyTimeSpent)==null?void 0:n[c])||0)+a;await Li(r,{lastActive:new Date().toISOString(),totalTimeSpent:(u.totalTimeSpent||0)+a,[`weeklyTimeSpent.${c}`]:p}),gf.delete(e)}catch{ze.error("Failed to update session time")}}async updateScores(e,n){try{if(!st.currentUser){ze.error("Authentication required to update scores");return}const r=Dt(Ct,"users",e),s=await ns(r);if(!s.exists()){ze.warning("User profile not found");return}const i=s.data(),o=i.quizCount||0,a=i.overallScore||0,u=o+1,c=a+n,d=Math.round(c/u);await Li(r,{overallScore:c,averageScore:d,quizCount:u})}catch(r){throw ze.error("Failed to update quiz scores"),r}}async updateTimeSpent(e,n){var r;try{if(!st.currentUser){ze.error("Authentication required to update time spent");return}const s=Dt(Ct,"users",e),i=await ns(s);if(!i.exists()){ze.warning("User profile not found");return}const o=i.data(),a=Gu(),u=((r=o.weeklyTimeSpent)==null?void 0:r[a])||0;await Li(s,{totalTimeSpent:(o.totalTimeSpent||0)+n,[`weeklyTimeSpent.${a}`]:u+n,lastActive:new Date().toISOString()})}catch(s){throw ze.error("Failed to update time spent"),s}}async updateCompletedQuizzes(e,n,r,s){try{if(!st.currentUser){ze.error("Authentication required to update quiz completion");return}const i=Dt(Ct,"users",e);await Li(i,{[`completedQuizzes.${n}`]:{completedAt:new Date().toISOString(),score:r,time:s}})}catch(i){throw ze.error("Failed to update quiz completion status"),i}}async addTestResult(e,n){var r;try{if(!st.currentUser){ze.error("Authentication required to update progress");return}const s=Dt(Ct,"users",e),i=await ns(s);if(!i.exists()){ze.warning("User profile not found");return}const o=i.data(),a=(o.quizCount||0)+1,u=(o.overallScore||0)*(a-1)+n.score,c=Gu();await Li(s,{overallScore:Math.min(100,Number((u/a).toFixed(2))),averageScore:Math.min(100,Number((u/a).toFixed(2))),quizCount:a,totalTimeSpent:(o.totalTimeSpent||0)+n.timeSpent,[`weeklyTimeSpent.${c}`]:(((r=o.weeklyTimeSpent)==null?void 0:r[c])||0)+n.timeSpent,[`completedQuizzes.${n.testId}`]:{score:n.score,timeSpent:n.timeSpent,completedAt:ff(),subjectId:n.subjectId},lastActive:ff()}),ze.success("Progress updated successfully")}catch(s){throw ze.error("Failed to update progress"),s}}calculateProgress(e){const n=e.quizCount>0?Math.round(e.overallScore/(e.quizCount*100)*100):0,r=this.calculateWeeklyProgress(e.weeklyTimeSpent),s=this.calculateCompletionRate(e),[i,o]=this.analyzePerformance(e);return{overallProgress:n,timeSpent:e.totalTimeSpent||0,averageScore:e.averageScore||0,weeklyProgress:r,quizCompletionRate:s,strengthAreas:i,weakAreas:o}}calculateWeeklyProgress(e){const n=Gu();return e[n]||0}calculateCompletionRate(e){const n=Object.keys(e.completedQuizzes).length;return n>0?n/e.quizCount*100:0}analyzePerformance(e){const n=Object.entries(e.completedQuizzes),r=[],s=[];if(n.length===0)return[[],[]];const i=n.reduce((o,[a,u])=>{const c=a.split("-")[0];return o[c]||(o[c]={total:0,count:0}),o[c].total+=u.score,o[c].count+=1,o},{});return Object.entries(i).forEach(([o,a])=>{const u=a.total/a.count;u>=80?r.push(o):u<60&&s.push(o)}),[r,s]}}const Tt=new U4,xI=()=>{const{user:t}=jr(),[e,n]=I.useState(null),[r,s]=I.useState(null),[i,o]=I.useState(!0),[a,u]=I.useState(null);return I.useEffect(()=>{let _=!0;return(async()=>{if(!t){n(null),s(null),o(!1);return}try{const w=await Tt.getUserProgress(t.uid);if(!_)return;n(w),w&&s(Tt.calculateProgress(w))}catch(w){if(!_)return;u(w instanceof Error?w.message:"Failed to load performance data")}finally{_&&o(!1)}})(),()=>{_=!1}},[t]),I.useEffect(()=>{if(t)return Tt.startSession(t.uid),()=>{Tt.endSession(t.uid)}},[t]),{performance:e,metrics:r,loading:i,error:a,formatTime:_=>{const x=Math.floor(_/3600),w=Math.floor(_%3600/60);return x>0?`${x}h ${w}m`:`${w}m`},updateTimeSpent:async _=>{if(!(!t||!e))try{await Tt.updateTimeSpent(t.uid,_);const x=await Tt.getUserProgress(t.uid);x&&(n(x),s(Tt.calculateProgress(x)))}catch(x){u(x instanceof Error?x.message:"Failed to update time spent")}},updateScores:async _=>{if(!(!t||!e))try{await Tt.updateScores(t.uid,_);const x=await Tt.getUserProgress(t.uid);x&&(n(x),s(Tt.calculateProgress(x)))}catch(x){u(x instanceof Error?x.message:"Failed to update scores")}},updateQuizCompletion:async(_,x,w)=>{if(!(!t||!e))try{await Tt.updateCompletedQuizzes(t.uid,_,x,w);const v=await Tt.getUserProgress(t.uid);v&&(n(v),s(Tt.calculateProgress(v)))}catch(v){u(v instanceof Error?v.message:"Failed to update quiz completion")}},getOverallProgress:()=>r&&r.overallProgress||0,addTestResult:async _=>{if(!t)throw new Error("User must be authenticated to add test results");try{await Tt.addTestResult(t.uid,_);const x=await Tt.getUserProgress(t.uid);x&&(n(x),s(Tt.calculateProgress(x)))}catch(x){u(x instanceof Error?x.message:"Failed to add test result")}}}},z4=()=>{const{user:t,profile:e,logout:n}=jr(),{getSubjects:r,loading:s}=oh(),{performance:i,formatTime:o,getOverallProgress:a}=xI(),[u,c]=I.useState([]);I.useEffect(()=>{(async()=>{if(e!=null&&e.grade){const h=await r(e.grade);c(h)}})()},[e,r]);const d=a();return g.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g.jsxs("header",{className:"bg-white shadow-sm py-4 px-6 flex items-center justify-between",children:[g.jsx(Fr,{size:"sm"}),g.jsx(it,{variant:"outline",size:"sm",onClick:n,children:"Sign Out"})]}),g.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[g.jsxs("div",{className:"bg-gradient-to-r from-purple-500 via-purple-600 to-blue-500 rounded-2xl p-8 text-white mb-8 relative overflow-hidden",children:[g.jsxs("div",{className:"relative z-10",children:[g.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",(e==null?void 0:e.name)||"Student","! 👋"]}),g.jsxs("p",{className:"text-purple-100 text-lg",children:["Ready to continue your learning journey? ",d,"% completed"]})]}),g.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-5 rounded-full -mr-32 -mt-32"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white opacity-5 rounded-full -ml-24 -mb-24"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[g.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-500 text-sm font-medium uppercase tracking-wide",children:"OVERALL PROGRESS"}),g.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[d,"%"]})]}),g.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:g.jsx(_P,{className:"w-6 h-6 text-purple-600"})})]})}),g.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-500 text-sm font-medium uppercase tracking-wide",children:"AVERAGE SCORE"}),g.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[Math.min(100,Number(((i==null?void 0:i.averageScore)||0).toFixed(2))),"%"]})]}),g.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:g.jsx(nT,{className:"w-6 h-6 text-blue-600"})})]})}),g.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-500 text-sm font-medium uppercase tracking-wide",children:"TIME SPENT"}),g.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i!=null&&i.totalTimeSpent?o(i.totalTimeSpent):"0m"})]}),g.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:g.jsx(tT,{className:"w-6 h-6 text-green-600"})})]})})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(p=>g.jsx(cg,{to:`/subjects/${p.id}/chapters`,className:"group",children:g.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-all duration-200 hover:-translate-y-1",children:[g.jsxs("div",{className:"flex items-start justify-between mb-4",children:[g.jsx("div",{className:`w-12 h-12 ${p.color||"bg-gray-100"} rounded-xl flex items-center justify-center text-2xl`,children:p.icon||"📚"}),g.jsx(wP,{className:"w-5 h-5 text-gray-400 group-hover:text-purple-600 transition-colors"})]}),g.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-purple-600 transition-colors",children:p.title}),g.jsx("p",{className:"text-gray-600 text-sm mb-4 leading-relaxed",children:p.description}),g.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[g.jsxs("span",{className:"flex items-center",children:["📖 ",p.chapters||4," chapters"]}),g.jsxs("span",{className:"flex items-center",children:["🎓 Grade ",(e==null?void 0:e.grade)||5]})]})]})},p.id))})]})]})},$4=()=>{const{subjectId:t}=zd(),e=nr(),{user:n}=jr(),{getChapters:r,loading:s,error:i}=oh(),[o,a]=I.useState([]),[u,c]=I.useState("");I.useEffect(()=>{(async()=>{if(n&&t){c({math:"Mathematics",science:"Science",english:"English",history:"History"}[t]||"Subject");const E=await r(t);a(E)}})()},[n,t,r]);const d=[{id:"chapter-1",name:"Chapter 1",description:"Introduction and fundamentals",subjectId:t||"",order:1,locked:!1},{id:"chapter-2",name:"Chapter 2",description:"Building on basics",subjectId:t||"",order:2,locked:!0},{id:"chapter-3",name:"Chapter 3",description:"Advanced concepts",subjectId:t||"",order:3,locked:!0},{id:"chapter-4",name:"Chapter 4",description:"Mastery and application",subjectId:t||"",order:4,locked:!0}],p=o.length>0?o:d;return g.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 flex flex-col",children:[g.jsxs("header",{className:"bg-white shadow-sm py-4 px-6 flex items-center sticky top-0 z-10",children:[g.jsx("button",{onClick:()=>e("/dashboard"),className:"text-gray-600 mr-4",children:g.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),g.jsx(Fr,{size:"sm"}),g.jsx("h1",{className:"text-xl font-bold ml-4",children:u})]}),g.jsx("div",{className:"flex-1 p-6",children:g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Chapters"}),s?g.jsx("div",{className:"flex justify-center p-12",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-400"})}):i?g.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 p-4 rounded-md",children:"Error loading chapters. Please try again."}):g.jsx("div",{className:"space-y-4",children:p.map(h=>g.jsx("div",{className:`bg-white rounded-lg shadow-md overflow-hidden ${h.locked?"opacity-70":"card-hover animate-slide-up"}`,children:g.jsxs("div",{className:"p-6 flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-gray-800",children:h.name}),g.jsx("p",{className:"text-gray-600 mt-1",children:h.description})]}),h.locked?g.jsxs("div",{className:"text-gray-400 flex items-center",children:[g.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),g.jsx("span",{children:"Locked"})]}):g.jsx(cg,{to:`/subjects/${t}/chapters/${h.id}/tests`,children:g.jsx(it,{variant:"primary",className:"bg-purple-400 hover:bg-purple-500",children:"View Tests"})})]})},h.id))}),g.jsxs("div",{className:"mt-8 bg-purple-50 border border-purple-200 p-4 rounded-md animate-fade-in",children:[g.jsx("h3",{className:"text-md font-semibold text-purple-700",children:"How to Unlock Chapters"}),g.jsx("p",{className:"text-purple-600 text-sm mt-1",children:"Complete tests in the previous chapter to unlock new chapters. Each chapter builds on skills from previous ones."})]})]})})]})},B4=()=>{const{subjectId:t,chapterId:e}=zd(),n=nr(),{user:r}=jr(),{getTests:s,loading:i,error:o}=oh(),[a,u]=I.useState([]),[c,d]=I.useState("");I.useEffect(()=>{(async()=>{if(r&&e){d(`Chapter ${e.split("-")[1]||""}`);const E=await s(e);u(E)}})()},[r,e,s]);const p=[{id:"test-1",name:"Test 1",description:"Basic concepts quiz",chapterId:e||"",subjectId:t||"",duration:15,totalQuestions:10,locked:!1},{id:"test-2",name:"Test 2",description:"Intermediate assessment",chapterId:e||"",subjectId:t||"",duration:20,totalQuestions:15,locked:!0},{id:"test-3",name:"Test 3",description:"Advanced evaluation",chapterId:e||"",subjectId:t||"",duration:30,totalQuestions:20,locked:!0}],h=a.length>0?a:p;return g.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 flex flex-col",children:[g.jsxs("header",{className:"bg-white shadow-sm py-4 px-6 flex items-center sticky top-0 z-10",children:[g.jsx("button",{onClick:()=>n(`/subjects/${t}/chapters`),className:"text-gray-600 mr-4",children:g.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),g.jsx(Fr,{size:"sm"}),g.jsx("h1",{className:"text-xl font-bold ml-4",children:c})]}),g.jsx("div",{className:"flex-1 p-6",children:g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Tests"}),i?g.jsx("div",{className:"flex justify-center p-12",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-grader-green"})}):o?g.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 p-4 rounded-md",children:"Error loading tests. Please try again."}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.map(y=>g.jsx("div",{className:`bg-white rounded-lg shadow-md overflow-hidden ${y.locked?"opacity-70":"card-hover animate-slide-up"}`,children:g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("h3",{className:"text-lg font-bold text-gray-800",children:y.name}),g.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[g.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.duration," min"]})]}),g.jsx("p",{className:"text-gray-600 mb-4",children:y.description}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"text-sm text-gray-500",children:[y.totalQuestions," questions"]}),y.locked?g.jsxs("div",{className:"text-gray-400 flex items-center",children:[g.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),g.jsx("span",{className:"text-sm",children:"Locked"})]}):g.jsx(cg,{to:`/tests/${y.id}`,className:"bg-grader-green hover:bg-grader-green/90 text-white py-2 px-4 rounded-md text-sm font-medium transition-colors",children:"Start Test"})]})]})},y.id))}),g.jsxs("div",{className:"mt-8 bg-amber-50 border border-amber-200 p-4 rounded-md animate-fade-in",children:[g.jsx("h3",{className:"text-md font-semibold text-amber-800",children:"Test Instructions"}),g.jsxs("ul",{className:"text-amber-700 text-sm mt-2 space-y-1 list-disc list-inside",children:[g.jsx("li",{children:"Complete tests in order to unlock the next one"}),g.jsx("li",{children:"You must answer all questions to submit a test"}),g.jsx("li",{children:"A timer will show remaining time for timed tests"}),g.jsx("li",{children:"Your results will be available immediately after completion"})]})]})]})})]})},W4=(t=0,e=!0)=>{const[n,r]=I.useState(e),[s,i]=I.useState(0),[o]=I.useState(t*60),[a,u]=I.useState(t*60),c=I.useCallback(_=>{const x=Math.floor(_/60),w=_%60;return`${x.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`},[]),d=I.useCallback(()=>{r(!0)},[]),p=I.useCallback(()=>{r(!1)},[]),h=I.useCallback(()=>{i(0),u(o),r(!1)},[o]);I.useEffect(()=>{let _;return n&&(_=setInterval(()=>{i(x=>x+1),u(x=>Math.max(0,x-1))},1e3)),()=>{_&&clearInterval(_)}},[n]);const y=o>0?s/o*100:0,E=100-y;return I.useEffect(()=>{a===60&&console.log("Time is running out! One minute remaining!")},[a]),{isRunning:n,elapsedTime:s,timeRemaining:a,formattedElapsed:c(s),formattedRemaining:c(a),percentageElapsed:y,percentageRemaining:E,start:d,pause:p,reset:h}},q4=()=>{const{testId:t}=zd(),e=nr();jr();const{getQuestions:n}=oh(),{addTestResult:r}=xI(),{toast:s}=Pd(),[i,o]=I.useState([]),[a,u]=I.useState(0),[c,d]=I.useState({}),[p,h]=I.useState(""),[y,E]=I.useState(!1),[_,x]=I.useState(!0),{timeRemaining:w,formattedRemaining:v,start:S,pause:N}=W4(15,!0);I.useEffect(()=>{(async()=>{if(t){const O=await n(t);o(O),x(!1)}})()},[t,n]),I.useEffect(()=>{w===0&&!y&&P()},[w,y]);const D=i[a],M=i.length>0?(a+1)/i.length*100:0,b=k=>{h(k)},T=()=>{var k;p&&(d(O=>({...O,[D.id]:p})),a<i.length-1?(u(O=>O+1),h(c[(k=i[a+1])==null?void 0:k.id]||"")):P())},A=()=>{var k;a>0&&(u(O=>O-1),h(c[(k=i[a-1])==null?void 0:k.id]||""))},P=()=>{const k=p?{...c,[D.id]:p}:c;let O=0;const R=i.map(V=>{const B=k[V.id],Y=B===V.correctOptionId;return Y&&O++,{questionId:V.id,question:V.text,userAnswer:B,correctAnswer:V.correctOptionId,isCorrect:Y,explanation:V.explanation,options:V.options}}),W=Math.round(O/i.length*100),re=15*60-w,te=(t==null?void 0:t.split("-")[0])||"math";r({testId:t||"test-1",score:W,timeSpent:re,subjectId:te});const ie={testId:t||"test-1",score:W,totalQuestions:i.length,correctAnswers:O,results:R,completedAt:new Date().toISOString(),timeSpent:re};localStorage.setItem("lastTestResult",JSON.stringify(ie)),N(),E(!0),s({title:"Test Completed!",description:`You scored ${W}% (${O}/${i.length})`}),e(`/test-results/${t}`)};return _?g.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500 mx-auto mb-4"}),g.jsx("p",{children:"Loading test..."})]})}):!D||i.length===0?g.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("p",{children:"No questions available for this test."}),g.jsx(it,{onClick:()=>e("/dashboard"),className:"mt-4",children:"Back to Dashboard"})]})}):g.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:[g.jsxs("header",{className:"bg-white shadow-sm py-4 px-6 flex items-center justify-between sticky top-0 z-10",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(Fr,{size:"sm"}),g.jsxs("h1",{className:"text-xl font-bold ml-4",children:["Test ",(t==null?void 0:t.split("-")[1])||"1"]})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsxs("div",{className:"text-sm text-gray-600",children:["Question ",a+1," of ",i.length]}),g.jsxs("div",{className:"bg-amber-100 text-amber-800 px-3 py-1 rounded-md text-sm font-medium",children:["Time: ",v]})]})]}),g.jsx("div",{className:"bg-white px-6 py-2",children:g.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:g.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${M}%`}})})}),g.jsx("div",{className:"flex-1 p-6",children:g.jsx("div",{className:"max-w-4xl mx-auto",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 animate-fade-in",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:D.text}),g.jsx("div",{className:"space-y-4",children:D.options.map(k=>g.jsx("button",{onClick:()=>b(k.id),className:`w-full text-left p-4 rounded-lg border-2 transition-all duration-200 ${p===k.id?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:`w-4 h-4 rounded-full border-2 mr-3 flex items-center justify-center ${p===k.id?"border-purple-500 bg-purple-500":"border-gray-300"}`,children:p===k.id&&g.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),g.jsx("span",{className:"text-lg",children:k.text})]})},k.id))}),g.jsxs("div",{className:"flex justify-between mt-8",children:[g.jsx(it,{variant:"outline",onClick:A,disabled:a===0,children:"Previous"}),g.jsxs("div",{className:"space-x-4",children:[g.jsx(it,{variant:"secondary",onClick:P,children:"Submit Test"}),g.jsx(it,{variant:"default",onClick:T,disabled:!p,children:a===i.length-1?"Finish":"Next"})]})]})]})})})]})},H4=()=>{const{testId:t}=zd(),e=nr(),[n,r]=I.useState(null);if(I.useEffect(()=>{const u=localStorage.getItem("lastTestResult");u&&r(JSON.parse(u))},[]),!n)return g.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-grader-green mx-auto mb-4"}),g.jsx("p",{children:"Loading results..."})]})});const s=u=>u>=80?"text-green-600":u>=60?"text-yellow-600":"text-red-600",o=(u=>u>=90?{text:"Excellent!",color:"bg-green-500"}:u>=80?{text:"Great Job!",color:"bg-blue-500"}:u>=70?{text:"Good Work!",color:"bg-yellow-500"}:u>=60?{text:"Keep Practicing!",color:"bg-orange-500"}:{text:"Needs Improvement",color:"bg-red-500"})(n.score),a=u=>{const c=Math.floor(u/60),d=u%60;return`${c}m ${d}s`};return g.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:[g.jsxs("header",{className:"bg-white shadow-sm py-4 px-6 flex items-center justify-between sticky top-0 z-10",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(Fr,{size:"sm"}),g.jsx("h1",{className:"text-xl font-bold ml-4",children:"Test Results"})]}),g.jsx(it,{variant:"outline",onClick:()=>e("/dashboard"),children:"Back to Dashboard"})]}),g.jsx("div",{className:"p-6",children:g.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center animate-fade-in",children:[g.jsxs("div",{className:"mb-6",children:[g.jsx(EP,{className:"w-16 h-16 mx-auto text-yellow-500 mb-4"}),g.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Test Complete!"}),g.jsx("div",{className:`inline-block px-4 py-2 rounded-full text-white text-lg font-medium ${o.color}`,children:o.text})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[g.jsxs("div",{className:"text-center",children:[g.jsxs("div",{className:`text-4xl font-bold mb-2 ${s(n.score)}`,children:[n.score,"%"]}),g.jsxs("div",{className:"text-gray-600 flex items-center justify-center",children:[g.jsx(nT,{className:"w-4 h-4 mr-1"}),"Overall Score"]})]}),g.jsxs("div",{className:"text-center",children:[g.jsxs("div",{className:"text-4xl font-bold text-gray-800 mb-2",children:[n.correctAnswers,"/",n.totalQuestions]}),g.jsx("div",{className:"text-gray-600",children:"Correct Answers"})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-4xl font-bold text-gray-800 mb-2",children:a(n.timeSpent)}),g.jsxs("div",{className:"text-gray-600 flex items-center justify-center",children:[g.jsx(tT,{className:"w-4 h-4 mr-1"}),"Time Taken"]})]})]})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[g.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"Question Analysis"}),g.jsx("div",{className:"space-y-6",children:n.results.map((u,c)=>{var d,p;return g.jsxs("div",{className:"border-b border-gray-200 pb-6 last:border-b-0",children:[g.jsxs("div",{className:"flex items-start justify-between mb-4",children:[g.jsxs("h4",{className:"text-lg font-medium text-gray-800 flex-1",children:[c+1,". ",u.question]}),g.jsx("div",{className:`ml-4 p-2 rounded-full ${u.isCorrect?"bg-green-100":"bg-red-100"}`,children:u.isCorrect?g.jsx(vP,{className:"w-5 h-5 text-green-600"}):g.jsx(rT,{className:"w-5 h-5 text-red-600"})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Your Answer:"}),g.jsx("div",{className:`p-2 rounded ${u.isCorrect?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:((d=u.options.find(h=>h.id===u.userAnswer))==null?void 0:d.text)||"Not answered"})]}),!u.isCorrect&&g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Correct Answer:"}),g.jsx("div",{className:"p-2 rounded bg-green-50 text-green-800",children:(p=u.options.find(h=>h.id===u.correctAnswer))==null?void 0:p.text})]})]}),g.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[g.jsx("div",{className:"text-sm font-medium text-blue-800 mb-1",children:"Explanation:"}),g.jsx("div",{className:"text-blue-700",children:u.explanation})]})]},u.questionId)})})]}),g.jsxs("div",{className:"flex justify-center space-x-4",children:[g.jsx(it,{variant:"outline",onClick:()=>e("/dashboard"),children:"Back to Dashboard"}),g.jsx(it,{variant:"primary",onClick:()=>e(`/tests/${t}`),children:"Retake Test"})]})]})})]})},Q4=()=>{const t=Ci();return I.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),g.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-gray-50 to-gray-100 p-4",children:g.jsxs("div",{className:"text-center max-w-md animate-fade-in",children:[g.jsx("div",{className:"mb-8 flex justify-center",children:g.jsx(Fr,{size:"md"})}),g.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-800",children:"404"}),g.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Oops! We couldn't find the page you're looking for."}),g.jsx("p",{className:"text-gray-500 mb-8",children:"The page might have been moved or doesn't exist."}),g.jsx("a",{href:"/",children:g.jsx(it,{variant:"primary",className:"bg-purple-600 hover:bg-purple-700",children:"Return to Home"})})]})})},K4=new AN,Mi=({children:t})=>{const{user:e,loading:n}=jr();return n?g.jsx("div",{children:"Loading..."}):e?g.jsx(g.Fragment,{children:t}):g.jsx(y2,{to:"/login"})},G4=()=>g.jsxs(w2,{children:[g.jsx(_n,{path:"/",element:g.jsx(M4,{})}),g.jsx(_n,{path:"/login",element:g.jsx(V4,{})}),g.jsx(_n,{path:"/signup",element:g.jsx(j4,{})}),g.jsx(_n,{path:"/profile-setup",element:g.jsx(Mi,{children:g.jsx(F4,{})})}),g.jsx(_n,{path:"/dashboard",element:g.jsx(Mi,{children:g.jsx(z4,{})})}),g.jsx(_n,{path:"/subjects/:subjectId/chapters",element:g.jsx(Mi,{children:g.jsx($4,{})})}),g.jsx(_n,{path:"/subjects/:subjectId/chapters/:chapterId/tests",element:g.jsx(Mi,{children:g.jsx(B4,{})})}),g.jsx(_n,{path:"/tests/:testId",element:g.jsx(Mi,{children:g.jsx(q4,{})})}),g.jsx(_n,{path:"/test-results/:testId",element:g.jsx(Mi,{children:g.jsx(H4,{})})}),g.jsx(_n,{path:"*",element:g.jsx(Q4,{})})]}),Y4=()=>g.jsx(RN,{client:K4,children:g.jsx(iN,{children:g.jsx(C2,{children:g.jsx(O4,{children:g.jsxs(L4,{children:[g.jsx(rR,{}),g.jsx(NR,{}),g.jsx(G4,{})]})})})})});Sx(document.getElementById("root")).render(g.jsx(Y4,{}));
